function pk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Sp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ub={exports:{}},nd={},db={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),gk=Symbol.for("react.portal"),vk=Symbol.for("react.fragment"),xk=Symbol.for("react.strict_mode"),yk=Symbol.for("react.profiler"),wk=Symbol.for("react.provider"),bk=Symbol.for("react.context"),jk=Symbol.for("react.forward_ref"),Ck=Symbol.for("react.suspense"),Sk=Symbol.for("react.memo"),Nk=Symbol.for("react.lazy"),rx=Symbol.iterator;function Ek(e){return e===null||typeof e!="object"?null:(e=rx&&e[rx]||e["@@iterator"],typeof e=="function"?e:null)}var fb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hb=Object.assign,mb={};function Ei(e,t,n){this.props=e,this.context=t,this.refs=mb,this.updater=n||fb}Ei.prototype.isReactComponent={};Ei.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pb(){}pb.prototype=Ei.prototype;function Np(e,t,n){this.props=e,this.context=t,this.refs=mb,this.updater=n||fb}var Ep=Np.prototype=new pb;Ep.constructor=Np;hb(Ep,Ei.prototype);Ep.isPureReactComponent=!0;var sx=Array.isArray,gb=Object.prototype.hasOwnProperty,_p={current:null},vb={key:!0,ref:!0,__self:!0,__source:!0};function xb(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)gb.call(t,r)&&!vb.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:jl,type:e,key:o,ref:i,props:s,_owner:_p.current}}function _k(e,t){return{$$typeof:jl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pp(e){return typeof e=="object"&&e!==null&&e.$$typeof===jl}function Pk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ox=/\/+/g;function of(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pk(""+e.key):t.toString(36)}function Lc(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case jl:case gk:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+of(i,0):r,sx(s)?(n="",e!=null&&(n=e.replace(ox,"$&/")+"/"),Lc(s,t,n,"",function(u){return u})):s!=null&&(Pp(s)&&(s=_k(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(ox,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",sx(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+of(o,l);i+=Lc(o,t,n,c,s)}else if(c=Ek(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+of(o,l++),i+=Lc(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ec(e,t,n){if(e==null)return e;var r=[],s=0;return Lc(e,r,"","",function(o){return t.call(n,o,s++)}),r}function kk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},Fc={transition:null},Tk={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:Fc,ReactCurrentOwner:_p};function yb(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:ec,forEach:function(e,t,n){ec(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ec(e,function(){t++}),t},toArray:function(e){return ec(e,function(t){return t})||[]},only:function(e){if(!Pp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=Ei;je.Fragment=vk;je.Profiler=yk;je.PureComponent=Np;je.StrictMode=xk;je.Suspense=Ck;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;je.act=yb;je.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hb({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=_p.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)gb.call(t,c)&&!vb.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:jl,type:e.type,key:s,ref:o,props:r,_owner:i}};je.createContext=function(e){return e={$$typeof:bk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wk,_context:e},e.Consumer=e};je.createElement=xb;je.createFactory=function(e){var t=xb.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:jk,render:e}};je.isValidElement=Pp;je.lazy=function(e){return{$$typeof:Nk,_payload:{_status:-1,_result:e},_init:kk}};je.memo=function(e,t){return{$$typeof:Sk,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=Fc.transition;Fc.transition={};try{e()}finally{Fc.transition=t}};je.unstable_act=yb;je.useCallback=function(e,t){return At.current.useCallback(e,t)};je.useContext=function(e){return At.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return At.current.useDeferredValue(e)};je.useEffect=function(e,t){return At.current.useEffect(e,t)};je.useId=function(){return At.current.useId()};je.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};je.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return At.current.useMemo(e,t)};je.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};je.useRef=function(e){return At.current.useRef(e)};je.useState=function(e){return At.current.useState(e)};je.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};je.useTransition=function(){return At.current.useTransition()};je.version="18.3.1";db.exports=je;var f=db.exports;const Z=Sp(f),Cl=pk({__proto__:null,default:Z},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk=f,Dk=Symbol.for("react.element"),Mk=Symbol.for("react.fragment"),Ak=Object.prototype.hasOwnProperty,$k=Rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ok={key:!0,ref:!0,__self:!0,__source:!0};function wb(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Ak.call(t,r)&&!Ok.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Dk,type:e,key:o,ref:i,props:s,_owner:$k.current}}nd.Fragment=Mk;nd.jsx=wb;nd.jsxs=wb;ub.exports=nd;var a=ub.exports,Ph={},bb={exports:{}},an={},jb={exports:{}},Cb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,j){var k=P.length;P.push(j);e:for(;0<k;){var A=k-1>>>1,L=P[A];if(0<s(L,j))P[A]=j,P[k]=L,k=A;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var j=P[0],k=P.pop();if(k!==j){P[0]=k;e:for(var A=0,L=P.length,W=L>>>1;A<W;){var Y=2*(A+1)-1,F=P[Y],G=Y+1,H=P[G];if(0>s(F,k))G<L&&0>s(H,F)?(P[A]=H,P[G]=k,A=G):(P[A]=F,P[Y]=k,A=Y);else if(G<L&&0>s(H,k))P[A]=H,P[G]=k,A=G;else break e}}return j}function s(P,j){var k=P.sortIndex-j.sortIndex;return k!==0?k:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,w=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=P)r(u),j.sortIndex=j.expirationTime,t(c,j);else break;j=n(u)}}function C(P){if(g=!1,x(P),!w)if(n(c)!==null)w=!0,$(S);else{var j=n(u);j!==null&&T(C,j.startTime-P)}}function S(P,j){w=!1,g&&(g=!1,v(_),_=-1),p=!0;var k=m;try{for(x(j),h=n(c);h!==null&&(!(h.expirationTime>j)||P&&!I());){var A=h.callback;if(typeof A=="function"){h.callback=null,m=h.priorityLevel;var L=A(h.expirationTime<=j);j=e.unstable_now(),typeof L=="function"?h.callback=L:h===n(c)&&r(c),x(j)}else r(c);h=n(c)}if(h!==null)var W=!0;else{var Y=n(u);Y!==null&&T(C,Y.startTime-j),W=!1}return W}finally{h=null,m=k,p=!1}}var E=!1,N=null,_=-1,D=5,R=-1;function I(){return!(e.unstable_now()-R<D)}function O(){if(N!==null){var P=e.unstable_now();R=P;var j=!0;try{j=N(!0,P)}finally{j?z():(E=!1,N=null)}}else E=!1}var z;if(typeof y=="function")z=function(){y(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=O,z=function(){U.postMessage(null)}}else z=function(){b(O,0)};function $(P){N=P,E||(E=!0,z())}function T(P,j){_=b(function(){P(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,$(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var k=m;m=j;try{return P()}finally{m=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var k=m;m=P;try{return j()}finally{m=k}},e.unstable_scheduleCallback=function(P,j,k){var A=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?A+k:A):k=A,P){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=k+L,P={id:d++,callback:j,priorityLevel:P,startTime:k,expirationTime:L,sortIndex:-1},k>A?(P.sortIndex=k,t(u,P),n(c)===null&&P===n(u)&&(g?(v(_),_=-1):g=!0,T(C,k-A))):(P.sortIndex=L,t(c,P),w||p||(w=!0,$(S))),P},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(P){var j=m;return function(){var k=m;m=j;try{return P.apply(this,arguments)}finally{m=k}}}})(Cb);jb.exports=Cb;var Ik=jb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lk=f,Qt=Ik;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sb=new Set,La={};function oo(e,t){ii(e,t),ii(e+"Capture",t)}function ii(e,t){for(La[e]=t,e=0;e<t.length;e++)Sb.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=Object.prototype.hasOwnProperty,Fk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ix={},ax={};function Vk(e){return kh.call(ax,e)?!0:kh.call(ix,e)?!1:Fk.test(e)?ax[e]=!0:(ix[e]=!0,!1)}function Uk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zk(e,t,n,r){if(t===null||typeof t>"u"||Uk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var kp=/[\-:]([a-z])/g;function Tp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kp,Tp);gt[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kp,Tp);gt[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kp,Tp);gt[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rp(e,t,n,r){var s=gt.hasOwnProperty(t)?gt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zk(t,n,s,r)&&(n=null),r||s===null?Vk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rr=Lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),Nb=Symbol.for("react.provider"),Eb=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),Rh=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),Ap=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),_b=Symbol.for("react.offscreen"),lx=Symbol.iterator;function qi(e){return e===null||typeof e!="object"?null:(e=lx&&e[lx]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,af;function ua(e){if(af===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);af=t&&t[1]||""}return`
`+af+e}var lf=!1;function cf(e,t){if(!e||lf)return"";lf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{lf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ua(e):""}function Bk(e){switch(e.tag){case 5:return ua(e.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 2:case 15:return e=cf(e.type,!1),e;case 11:return e=cf(e.type.render,!1),e;case 1:return e=cf(e.type,!0),e;default:return""}}function Mh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mo:return"Fragment";case Do:return"Portal";case Th:return"Profiler";case Dp:return"StrictMode";case Rh:return"Suspense";case Dh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Eb:return(e.displayName||"Context")+".Consumer";case Nb:return(e._context.displayName||"Context")+".Provider";case Mp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ap:return t=e.displayName||null,t!==null?t:Mh(e.type)||"Memo";case Fr:t=e._payload,e=e._init;try{return Mh(e(t))}catch{}}return null}function Wk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mh(t);case 8:return t===Dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ls(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hk(e){var t=Pb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nc(e){e._valueTracker||(e._valueTracker=Hk(e))}function kb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function su(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ah(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ls(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tb(e,t){t=t.checked,t!=null&&Rp(e,"checked",t,!1)}function $h(e,t){Tb(e,t);var n=ls(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oh(e,t.type,ls(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ux(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Oh(e,t,n){(t!=="number"||su(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var da=Array.isArray;function Ko(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ls(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ih(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(da(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ls(n)}}function Rb(e,t){var n=ls(t.value),r=ls(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Db(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Db(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rc,Mb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rc=rc||document.createElement("div"),rc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gk=["Webkit","ms","Moz","O"];Object.keys(wa).forEach(function(e){Gk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wa[t]=wa[e]})});function Ab(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wa.hasOwnProperty(e)&&wa[e]?(""+t).trim():t+"px"}function $b(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ab(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var qk=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fh(e,t){if(t){if(qk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Vh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=null;function $p(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zh=null,Yo=null,Jo=null;function hx(e){if(e=El(e)){if(typeof zh!="function")throw Error(J(280));var t=e.stateNode;t&&(t=ad(t),zh(e.stateNode,e.type,t))}}function Ob(e){Yo?Jo?Jo.push(e):Jo=[e]:Yo=e}function Ib(){if(Yo){var e=Yo,t=Jo;if(Jo=Yo=null,hx(e),t)for(e=0;e<t.length;e++)hx(t[e])}}function Lb(e,t){return e(t)}function Fb(){}var uf=!1;function Vb(e,t,n){if(uf)return e(t,n);uf=!0;try{return Lb(e,t,n)}finally{uf=!1,(Yo!==null||Jo!==null)&&(Fb(),Ib())}}function Va(e,t){var n=e.stateNode;if(n===null)return null;var r=ad(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var Bh=!1;if(jr)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Bh=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Bh=!1}function Kk(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ba=!1,ou=null,iu=!1,Wh=null,Yk={onError:function(e){ba=!0,ou=e}};function Jk(e,t,n,r,s,o,i,l,c){ba=!1,ou=null,Kk.apply(Yk,arguments)}function Xk(e,t,n,r,s,o,i,l,c){if(Jk.apply(this,arguments),ba){if(ba){var u=ou;ba=!1,ou=null}else throw Error(J(198));iu||(iu=!0,Wh=u)}}function io(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ub(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mx(e){if(io(e)!==e)throw Error(J(188))}function Qk(e){var t=e.alternate;if(!t){if(t=io(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return mx(s),e;if(o===r)return mx(s),t;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function zb(e){return e=Qk(e),e!==null?Bb(e):null}function Bb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bb(e);if(t!==null)return t;e=e.sibling}return null}var Wb=Qt.unstable_scheduleCallback,px=Qt.unstable_cancelCallback,Zk=Qt.unstable_shouldYield,eT=Qt.unstable_requestPaint,Ze=Qt.unstable_now,tT=Qt.unstable_getCurrentPriorityLevel,Op=Qt.unstable_ImmediatePriority,Hb=Qt.unstable_UserBlockingPriority,au=Qt.unstable_NormalPriority,nT=Qt.unstable_LowPriority,Gb=Qt.unstable_IdlePriority,rd=null,tr=null;function rT(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(rd,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:iT,sT=Math.log,oT=Math.LN2;function iT(e){return e>>>=0,e===0?32:31-(sT(e)/oT|0)|0}var sc=64,oc=4194304;function fa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=fa(l):(o&=i,o!==0&&(r=fa(o)))}else i=n&~s,i!==0?r=fa(i):o!==0&&(r=fa(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-In(t),s=1<<n,r|=e[n],t&=~s;return r}function aT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-In(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=aT(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Hh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qb(){var e=sc;return sc<<=1,!(sc&4194240)&&(sc=64),e}function df(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=n}function cT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-In(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Ip(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-In(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Re=0;function Kb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yb,Lp,Jb,Xb,Qb,Gh=!1,ic=[],Jr=null,Xr=null,Qr=null,Ua=new Map,za=new Map,Br=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gx(e,t){switch(e){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Ua.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(t.pointerId)}}function Yi(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=El(t),t!==null&&Lp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dT(e,t,n,r,s){switch(t){case"focusin":return Jr=Yi(Jr,e,t,n,r,s),!0;case"dragenter":return Xr=Yi(Xr,e,t,n,r,s),!0;case"mouseover":return Qr=Yi(Qr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ua.set(o,Yi(Ua.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,za.set(o,Yi(za.get(o)||null,e,t,n,r,s)),!0}return!1}function Zb(e){var t=Fs(e.target);if(t!==null){var n=io(t);if(n!==null){if(t=n.tag,t===13){if(t=Ub(n),t!==null){e.blockedOn=t,Qb(e.priority,function(){Jb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Uh=r,n.target.dispatchEvent(r),Uh=null}else return t=El(n),t!==null&&Lp(t),e.blockedOn=n,!1;t.shift()}return!0}function vx(e,t,n){Vc(e)&&n.delete(t)}function fT(){Gh=!1,Jr!==null&&Vc(Jr)&&(Jr=null),Xr!==null&&Vc(Xr)&&(Xr=null),Qr!==null&&Vc(Qr)&&(Qr=null),Ua.forEach(vx),za.forEach(vx)}function Ji(e,t){e.blockedOn===t&&(e.blockedOn=null,Gh||(Gh=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,fT)))}function Ba(e){function t(s){return Ji(s,e)}if(0<ic.length){Ji(ic[0],e);for(var n=1;n<ic.length;n++){var r=ic[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jr!==null&&Ji(Jr,e),Xr!==null&&Ji(Xr,e),Qr!==null&&Ji(Qr,e),Ua.forEach(t),za.forEach(t),n=0;n<Br.length;n++)r=Br[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Br.length&&(n=Br[0],n.blockedOn===null);)Zb(n),n.blockedOn===null&&Br.shift()}var Xo=Rr.ReactCurrentBatchConfig,cu=!0;function hT(e,t,n,r){var s=Re,o=Xo.transition;Xo.transition=null;try{Re=1,Fp(e,t,n,r)}finally{Re=s,Xo.transition=o}}function mT(e,t,n,r){var s=Re,o=Xo.transition;Xo.transition=null;try{Re=4,Fp(e,t,n,r)}finally{Re=s,Xo.transition=o}}function Fp(e,t,n,r){if(cu){var s=qh(e,t,n,r);if(s===null)bf(e,t,r,uu,n),gx(e,r);else if(dT(s,e,t,n,r))r.stopPropagation();else if(gx(e,r),t&4&&-1<uT.indexOf(e)){for(;s!==null;){var o=El(s);if(o!==null&&Yb(o),o=qh(e,t,n,r),o===null&&bf(e,t,r,uu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else bf(e,t,r,null,n)}}var uu=null;function qh(e,t,n,r){if(uu=null,e=$p(r),e=Fs(e),e!==null)if(t=io(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ub(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uu=e,null}function e1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tT()){case Op:return 1;case Hb:return 4;case au:case nT:return 16;case Gb:return 536870912;default:return 16}default:return 16}}var Gr=null,Vp=null,Uc=null;function t1(){if(Uc)return Uc;var e,t=Vp,n=t.length,r,s="value"in Gr?Gr.value:Gr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Uc=s.slice(e,1<r?1-r:void 0)}function zc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ac(){return!0}function xx(){return!1}function ln(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ac:xx,this.isPropagationStopped=xx,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ac)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ac)},persist:function(){},isPersistent:ac}),t}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Up=ln(_i),Nl=Ye({},_i,{view:0,detail:0}),pT=ln(Nl),ff,hf,Xi,sd=Ye({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xi&&(Xi&&e.type==="mousemove"?(ff=e.screenX-Xi.screenX,hf=e.screenY-Xi.screenY):hf=ff=0,Xi=e),ff)},movementY:function(e){return"movementY"in e?e.movementY:hf}}),yx=ln(sd),gT=Ye({},sd,{dataTransfer:0}),vT=ln(gT),xT=Ye({},Nl,{relatedTarget:0}),mf=ln(xT),yT=Ye({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),wT=ln(yT),bT=Ye({},_i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jT=ln(bT),CT=Ye({},_i,{data:0}),wx=ln(CT),ST={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ET={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _T(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ET[e])?!!t[e]:!1}function zp(){return _T}var PT=Ye({},Nl,{key:function(e){if(e.key){var t=ST[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(e){return e.type==="keypress"?zc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kT=ln(PT),TT=Ye({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bx=ln(TT),RT=Ye({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),DT=ln(RT),MT=Ye({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),AT=ln(MT),$T=Ye({},sd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OT=ln($T),IT=[9,13,27,32],Bp=jr&&"CompositionEvent"in window,ja=null;jr&&"documentMode"in document&&(ja=document.documentMode);var LT=jr&&"TextEvent"in window&&!ja,n1=jr&&(!Bp||ja&&8<ja&&11>=ja),jx=String.fromCharCode(32),Cx=!1;function r1(e,t){switch(e){case"keyup":return IT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ao=!1;function FT(e,t){switch(e){case"compositionend":return s1(t);case"keypress":return t.which!==32?null:(Cx=!0,jx);case"textInput":return e=t.data,e===jx&&Cx?null:e;default:return null}}function VT(e,t){if(Ao)return e==="compositionend"||!Bp&&r1(e,t)?(e=t1(),Uc=Vp=Gr=null,Ao=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return n1&&t.locale!=="ko"?null:t.data;default:return null}}var UT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UT[e.type]:t==="textarea"}function o1(e,t,n,r){Ob(r),t=du(t,"onChange"),0<t.length&&(n=new Up("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ca=null,Wa=null;function zT(e){g1(e,0)}function od(e){var t=Io(e);if(kb(t))return e}function BT(e,t){if(e==="change")return t}var i1=!1;if(jr){var pf;if(jr){var gf="oninput"in document;if(!gf){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),gf=typeof Nx.oninput=="function"}pf=gf}else pf=!1;i1=pf&&(!document.documentMode||9<document.documentMode)}function Ex(){Ca&&(Ca.detachEvent("onpropertychange",a1),Wa=Ca=null)}function a1(e){if(e.propertyName==="value"&&od(Wa)){var t=[];o1(t,Wa,e,$p(e)),Vb(zT,t)}}function WT(e,t,n){e==="focusin"?(Ex(),Ca=t,Wa=n,Ca.attachEvent("onpropertychange",a1)):e==="focusout"&&Ex()}function HT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return od(Wa)}function GT(e,t){if(e==="click")return od(t)}function qT(e,t){if(e==="input"||e==="change")return od(t)}function KT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vn=typeof Object.is=="function"?Object.is:KT;function Ha(e,t){if(Vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kh.call(t,s)||!Vn(e[s],t[s]))return!1}return!0}function _x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Px(e,t){var n=_x(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_x(n)}}function l1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?l1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function c1(){for(var e=window,t=su();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=su(e.document)}return t}function Wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YT(e){var t=c1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&l1(n.ownerDocument.documentElement,n)){if(r!==null&&Wp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Px(n,o);var i=Px(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JT=jr&&"documentMode"in document&&11>=document.documentMode,$o=null,Kh=null,Sa=null,Yh=!1;function kx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yh||$o==null||$o!==su(r)||(r=$o,"selectionStart"in r&&Wp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sa&&Ha(Sa,r)||(Sa=r,r=du(Kh,"onSelect"),0<r.length&&(t=new Up("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$o)))}function lc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oo={animationend:lc("Animation","AnimationEnd"),animationiteration:lc("Animation","AnimationIteration"),animationstart:lc("Animation","AnimationStart"),transitionend:lc("Transition","TransitionEnd")},vf={},u1={};jr&&(u1=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function id(e){if(vf[e])return vf[e];if(!Oo[e])return e;var t=Oo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in u1)return vf[e]=t[n];return e}var d1=id("animationend"),f1=id("animationiteration"),h1=id("animationstart"),m1=id("transitionend"),p1=new Map,Tx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(e,t){p1.set(e,t),oo(t,[e])}for(var xf=0;xf<Tx.length;xf++){var yf=Tx[xf],XT=yf.toLowerCase(),QT=yf[0].toUpperCase()+yf.slice(1);xs(XT,"on"+QT)}xs(d1,"onAnimationEnd");xs(f1,"onAnimationIteration");xs(h1,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(m1,"onTransitionEnd");ii("onMouseEnter",["mouseout","mouseover"]);ii("onMouseLeave",["mouseout","mouseover"]);ii("onPointerEnter",["pointerout","pointerover"]);ii("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function Rx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xk(r,t,void 0,e),e.currentTarget=null}function g1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Rx(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Rx(s,l,u),o=c}}}if(iu)throw e=Wh,iu=!1,Wh=null,e}function ze(e,t){var n=t[em];n===void 0&&(n=t[em]=new Set);var r=e+"__bubble";n.has(r)||(v1(t,e,2,!1),n.add(r))}function wf(e,t,n){var r=0;t&&(r|=4),v1(n,e,r,t)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Ga(e){if(!e[cc]){e[cc]=!0,Sb.forEach(function(n){n!=="selectionchange"&&(ZT.has(n)||wf(n,!1,e),wf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cc]||(t[cc]=!0,wf("selectionchange",!1,t))}}function v1(e,t,n,r){switch(e1(t)){case 1:var s=hT;break;case 4:s=mT;break;default:s=Fp}n=s.bind(null,t,n,e),s=void 0,!Bh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function bf(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Fs(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Vb(function(){var u=o,d=$p(n),h=[];e:{var m=p1.get(e);if(m!==void 0){var p=Up,w=e;switch(e){case"keypress":if(zc(n)===0)break e;case"keydown":case"keyup":p=kT;break;case"focusin":w="focus",p=mf;break;case"focusout":w="blur",p=mf;break;case"beforeblur":case"afterblur":p=mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DT;break;case d1:case f1:case h1:p=wT;break;case m1:p=AT;break;case"scroll":p=pT;break;case"wheel":p=OT;break;case"copy":case"cut":case"paste":p=jT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bx}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?m!==null?m+"Capture":null:m;g=[];for(var y=u,x;y!==null;){x=y;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,v!==null&&(C=Va(y,v),C!=null&&g.push(qa(y,C,x)))),b)break;y=y.return}0<g.length&&(m=new p(m,w,null,n,d),h.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Uh&&(w=n.relatedTarget||n.fromElement)&&(Fs(w)||w[Cr]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?Fs(w):null,w!==null&&(b=io(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(g=yx,C="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=bx,C="onPointerLeave",v="onPointerEnter",y="pointer"),b=p==null?m:Io(p),x=w==null?m:Io(w),m=new g(C,y+"leave",p,n,d),m.target=b,m.relatedTarget=x,C=null,Fs(d)===u&&(g=new g(v,y+"enter",w,n,d),g.target=x,g.relatedTarget=b,C=g),b=C,p&&w)t:{for(g=p,v=w,y=0,x=g;x;x=vo(x))y++;for(x=0,C=v;C;C=vo(C))x++;for(;0<y-x;)g=vo(g),y--;for(;0<x-y;)v=vo(v),x--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=vo(g),v=vo(v)}g=null}else g=null;p!==null&&Dx(h,m,p,g,!1),w!==null&&b!==null&&Dx(h,b,w,g,!0)}}e:{if(m=u?Io(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=BT;else if(Sx(m))if(i1)S=qT;else{S=HT;var E=WT}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=GT);if(S&&(S=S(e,u))){o1(h,S,n,d);break e}E&&E(e,m,u),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Oh(m,"number",m.value)}switch(E=u?Io(u):window,e){case"focusin":(Sx(E)||E.contentEditable==="true")&&($o=E,Kh=u,Sa=null);break;case"focusout":Sa=Kh=$o=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,kx(h,n,d);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":kx(h,n,d)}var N;if(Bp)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ao?r1(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(n1&&n.locale!=="ko"&&(Ao||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ao&&(N=t1()):(Gr=d,Vp="value"in Gr?Gr.value:Gr.textContent,Ao=!0)),E=du(u,_),0<E.length&&(_=new wx(_,e,null,n,d),h.push({event:_,listeners:E}),N?_.data=N:(N=s1(n),N!==null&&(_.data=N)))),(N=LT?FT(e,n):VT(e,n))&&(u=du(u,"onBeforeInput"),0<u.length&&(d=new wx("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}g1(h,t)})}function qa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function du(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Va(e,n),o!=null&&r.unshift(qa(e,o,s)),o=Va(e,t),o!=null&&r.push(qa(e,o,s))),e=e.return}return r}function vo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dx(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Va(n,o),c!=null&&i.unshift(qa(n,c,l))):s||(c=Va(n,o),c!=null&&i.push(qa(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var eR=/\r\n?/g,tR=/\u0000|\uFFFD/g;function Mx(e){return(typeof e=="string"?e:""+e).replace(eR,`
`).replace(tR,"")}function uc(e,t,n){if(t=Mx(t),Mx(e)!==t&&n)throw Error(J(425))}function fu(){}var Jh=null,Xh=null;function Qh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,nR=typeof clearTimeout=="function"?clearTimeout:void 0,Ax=typeof Promise=="function"?Promise:void 0,rR=typeof queueMicrotask=="function"?queueMicrotask:typeof Ax<"u"?function(e){return Ax.resolve(null).then(e).catch(sR)}:Zh;function sR(e){setTimeout(function(){throw e})}function jf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ba(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ba(t)}function Zr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $x(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pi=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Pi,Ka="__reactProps$"+Pi,Cr="__reactContainer$"+Pi,em="__reactEvents$"+Pi,oR="__reactListeners$"+Pi,iR="__reactHandles$"+Pi;function Fs(e){var t=e[Xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cr]||n[Xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$x(e);e!==null;){if(n=e[Xn])return n;e=$x(e)}return t}e=n,n=e.parentNode}return null}function El(e){return e=e[Xn]||e[Cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Io(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function ad(e){return e[Ka]||null}var tm=[],Lo=-1;function ys(e){return{current:e}}function Be(e){0>Lo||(e.current=tm[Lo],tm[Lo]=null,Lo--)}function Ie(e,t){Lo++,tm[Lo]=e.current,e.current=t}var cs={},Et=ys(cs),Vt=ys(!1),qs=cs;function ai(e,t){var n=e.type.contextTypes;if(!n)return cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(e){return e=e.childContextTypes,e!=null}function hu(){Be(Vt),Be(Et)}function Ox(e,t,n){if(Et.current!==cs)throw Error(J(168));Ie(Et,t),Ie(Vt,n)}function x1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(J(108,Wk(e)||"Unknown",s));return Ye({},n,r)}function mu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cs,qs=Et.current,Ie(Et,e),Ie(Vt,Vt.current),!0}function Ix(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=x1(e,t,qs),r.__reactInternalMemoizedMergedChildContext=e,Be(Vt),Be(Et),Ie(Et,e)):Be(Vt),Ie(Vt,n)}var fr=null,ld=!1,Cf=!1;function y1(e){fr===null?fr=[e]:fr.push(e)}function aR(e){ld=!0,y1(e)}function ws(){if(!Cf&&fr!==null){Cf=!0;var e=0,t=Re;try{var n=fr;for(Re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fr=null,ld=!1}catch(s){throw fr!==null&&(fr=fr.slice(e+1)),Wb(Op,ws),s}finally{Re=t,Cf=!1}}return null}var Fo=[],Vo=0,pu=null,gu=0,mn=[],pn=0,Ks=null,mr=1,pr="";function Ts(e,t){Fo[Vo++]=gu,Fo[Vo++]=pu,pu=e,gu=t}function w1(e,t,n){mn[pn++]=mr,mn[pn++]=pr,mn[pn++]=Ks,Ks=e;var r=mr;e=pr;var s=32-In(r)-1;r&=~(1<<s),n+=1;var o=32-In(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,mr=1<<32-In(t)+s|n<<s|r,pr=o+e}else mr=1<<o|n<<s|r,pr=e}function Hp(e){e.return!==null&&(Ts(e,1),w1(e,1,0))}function Gp(e){for(;e===pu;)pu=Fo[--Vo],Fo[Vo]=null,gu=Fo[--Vo],Fo[Vo]=null;for(;e===Ks;)Ks=mn[--pn],mn[pn]=null,pr=mn[--pn],mn[pn]=null,mr=mn[--pn],mn[pn]=null}var Jt=null,Kt=null,We=!1,$n=null;function b1(e,t){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Kt=Zr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ks!==null?{id:mr,overflow:pr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jt=e,Kt=null,!0):!1;default:return!1}}function nm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rm(e){if(We){var t=Kt;if(t){var n=t;if(!Lx(e,t)){if(nm(e))throw Error(J(418));t=Zr(n.nextSibling);var r=Jt;t&&Lx(e,t)?b1(r,n):(e.flags=e.flags&-4097|2,We=!1,Jt=e)}}else{if(nm(e))throw Error(J(418));e.flags=e.flags&-4097|2,We=!1,Jt=e}}}function Fx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function dc(e){if(e!==Jt)return!1;if(!We)return Fx(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qh(e.type,e.memoizedProps)),t&&(t=Kt)){if(nm(e))throw j1(),Error(J(418));for(;t;)b1(e,t),t=Zr(t.nextSibling)}if(Fx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kt=Zr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Jt?Zr(e.stateNode.nextSibling):null;return!0}function j1(){for(var e=Kt;e;)e=Zr(e.nextSibling)}function li(){Kt=Jt=null,We=!1}function qp(e){$n===null?$n=[e]:$n.push(e)}var lR=Rr.ReactCurrentBatchConfig;function Qi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function fc(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vx(e){var t=e._init;return t(e._payload)}function C1(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=rs(v,y),v.index=0,v.sibling=null,v}function o(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,x,C){return y===null||y.tag!==6?(y=Tf(x,v.mode,C),y.return=v,y):(y=s(y,x),y.return=v,y)}function c(v,y,x,C){var S=x.type;return S===Mo?d(v,y,x.props.children,C,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fr&&Vx(S)===y.type)?(C=s(y,x.props),C.ref=Qi(v,y,x),C.return=v,C):(C=Yc(x.type,x.key,x.props,null,v.mode,C),C.ref=Qi(v,y,x),C.return=v,C)}function u(v,y,x,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Rf(x,v.mode,C),y.return=v,y):(y=s(y,x.children||[]),y.return=v,y)}function d(v,y,x,C,S){return y===null||y.tag!==7?(y=Hs(x,v.mode,C,S),y.return=v,y):(y=s(y,x),y.return=v,y)}function h(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Tf(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tc:return x=Yc(y.type,y.key,y.props,null,v.mode,x),x.ref=Qi(v,null,y),x.return=v,x;case Do:return y=Rf(y,v.mode,x),y.return=v,y;case Fr:var C=y._init;return h(v,C(y._payload),x)}if(da(y)||qi(y))return y=Hs(y,v.mode,x,null),y.return=v,y;fc(v,y)}return null}function m(v,y,x,C){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(v,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tc:return x.key===S?c(v,y,x,C):null;case Do:return x.key===S?u(v,y,x,C):null;case Fr:return S=x._init,m(v,y,S(x._payload),C)}if(da(x)||qi(x))return S!==null?null:d(v,y,x,C,null);fc(v,x)}return null}function p(v,y,x,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(x)||null,l(y,v,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case tc:return v=v.get(C.key===null?x:C.key)||null,c(y,v,C,S);case Do:return v=v.get(C.key===null?x:C.key)||null,u(y,v,C,S);case Fr:var E=C._init;return p(v,y,x,E(C._payload),S)}if(da(C)||qi(C))return v=v.get(x)||null,d(y,v,C,S,null);fc(y,C)}return null}function w(v,y,x,C){for(var S=null,E=null,N=y,_=y=0,D=null;N!==null&&_<x.length;_++){N.index>_?(D=N,N=null):D=N.sibling;var R=m(v,N,x[_],C);if(R===null){N===null&&(N=D);break}e&&N&&R.alternate===null&&t(v,N),y=o(R,y,_),E===null?S=R:E.sibling=R,E=R,N=D}if(_===x.length)return n(v,N),We&&Ts(v,_),S;if(N===null){for(;_<x.length;_++)N=h(v,x[_],C),N!==null&&(y=o(N,y,_),E===null?S=N:E.sibling=N,E=N);return We&&Ts(v,_),S}for(N=r(v,N);_<x.length;_++)D=p(N,v,_,x[_],C),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?_:D.key),y=o(D,y,_),E===null?S=D:E.sibling=D,E=D);return e&&N.forEach(function(I){return t(v,I)}),We&&Ts(v,_),S}function g(v,y,x,C){var S=qi(x);if(typeof S!="function")throw Error(J(150));if(x=S.call(x),x==null)throw Error(J(151));for(var E=S=null,N=y,_=y=0,D=null,R=x.next();N!==null&&!R.done;_++,R=x.next()){N.index>_?(D=N,N=null):D=N.sibling;var I=m(v,N,R.value,C);if(I===null){N===null&&(N=D);break}e&&N&&I.alternate===null&&t(v,N),y=o(I,y,_),E===null?S=I:E.sibling=I,E=I,N=D}if(R.done)return n(v,N),We&&Ts(v,_),S;if(N===null){for(;!R.done;_++,R=x.next())R=h(v,R.value,C),R!==null&&(y=o(R,y,_),E===null?S=R:E.sibling=R,E=R);return We&&Ts(v,_),S}for(N=r(v,N);!R.done;_++,R=x.next())R=p(N,v,_,R.value,C),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?_:R.key),y=o(R,y,_),E===null?S=R:E.sibling=R,E=R);return e&&N.forEach(function(O){return t(v,O)}),We&&Ts(v,_),S}function b(v,y,x,C){if(typeof x=="object"&&x!==null&&x.type===Mo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case tc:e:{for(var S=x.key,E=y;E!==null;){if(E.key===S){if(S=x.type,S===Mo){if(E.tag===7){n(v,E.sibling),y=s(E,x.props.children),y.return=v,v=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fr&&Vx(S)===E.type){n(v,E.sibling),y=s(E,x.props),y.ref=Qi(v,E,x),y.return=v,v=y;break e}n(v,E);break}else t(v,E);E=E.sibling}x.type===Mo?(y=Hs(x.props.children,v.mode,C,x.key),y.return=v,v=y):(C=Yc(x.type,x.key,x.props,null,v.mode,C),C.ref=Qi(v,y,x),C.return=v,v=C)}return i(v);case Do:e:{for(E=x.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=s(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Rf(x,v.mode,C),y.return=v,v=y}return i(v);case Fr:return E=x._init,b(v,y,E(x._payload),C)}if(da(x))return w(v,y,x,C);if(qi(x))return g(v,y,x,C);fc(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,x),y.return=v,v=y):(n(v,y),y=Tf(x,v.mode,C),y.return=v,v=y),i(v)):n(v,y)}return b}var ci=C1(!0),S1=C1(!1),vu=ys(null),xu=null,Uo=null,Kp=null;function Yp(){Kp=Uo=xu=null}function Jp(e){var t=vu.current;Be(vu),e._currentValue=t}function sm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qo(e,t){xu=e,Kp=Uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function Sn(e){var t=e._currentValue;if(Kp!==e)if(e={context:e,memoizedValue:t,next:null},Uo===null){if(xu===null)throw Error(J(308));Uo=e,xu.dependencies={lanes:0,firstContext:e}}else Uo=Uo.next=e;return t}var Vs=null;function Xp(e){Vs===null?Vs=[e]:Vs.push(e)}function N1(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xp(t)):(n.next=s.next,s.next=n),t.interleaved=n,Sr(e,r)}function Sr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vr=!1;function Qp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function es(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Sr(e,n)}return s=r.interleaved,s===null?(t.next=t,Xp(r)):(t.next=s.next,s.next=t),r.interleaved=t,Sr(e,n)}function Bc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ip(e,n)}}function Ux(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yu(e,t,n,r){var s=e.updateQueue;Vr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;i=0,d=u=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,g=l;switch(m=t,p=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(p,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,m=typeof w=="function"?w.call(p,h,m):w,m==null)break e;h=Ye({},h,m);break e;case 2:Vr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Js|=i,e.lanes=i,e.memoizedState=h}}function zx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var _l={},nr=ys(_l),Ya=ys(_l),Ja=ys(_l);function Us(e){if(e===_l)throw Error(J(174));return e}function Zp(e,t){switch(Ie(Ja,t),Ie(Ya,e),Ie(nr,_l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lh(t,e)}Be(nr),Ie(nr,t)}function ui(){Be(nr),Be(Ya),Be(Ja)}function _1(e){Us(Ja.current);var t=Us(nr.current),n=Lh(t,e.type);t!==n&&(Ie(Ya,e),Ie(nr,n))}function eg(e){Ya.current===e&&(Be(nr),Be(Ya))}var Ge=ys(0);function wu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sf=[];function tg(){for(var e=0;e<Sf.length;e++)Sf[e]._workInProgressVersionPrimary=null;Sf.length=0}var Wc=Rr.ReactCurrentDispatcher,Nf=Rr.ReactCurrentBatchConfig,Ys=0,Ke=null,it=null,ct=null,bu=!1,Na=!1,Xa=0,cR=0;function xt(){throw Error(J(321))}function ng(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vn(e[n],t[n]))return!1;return!0}function rg(e,t,n,r,s,o){if(Ys=o,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wc.current=e===null||e.memoizedState===null?hR:mR,e=n(r,s),Na){o=0;do{if(Na=!1,Xa=0,25<=o)throw Error(J(301));o+=1,ct=it=null,t.updateQueue=null,Wc.current=pR,e=n(r,s)}while(Na)}if(Wc.current=ju,t=it!==null&&it.next!==null,Ys=0,ct=it=Ke=null,bu=!1,t)throw Error(J(300));return e}function sg(){var e=Xa!==0;return Xa=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ke.memoizedState=ct=e:ct=ct.next=e,ct}function Nn(){if(it===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ct===null?Ke.memoizedState:ct.next;if(t!==null)ct=t,it=e;else{if(e===null)throw Error(J(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ct===null?Ke.memoizedState=ct=e:ct=ct.next=e}return ct}function Qa(e,t){return typeof t=="function"?t(e):t}function Ef(e){var t=Nn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=it,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Ys&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=r):c=c.next=h,Ke.lanes|=d,Js|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,Vn(r,t.memoizedState)||(Ft=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ke.lanes|=o,Js|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _f(e){var t=Nn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Vn(o,t.memoizedState)||(Ft=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function P1(){}function k1(e,t){var n=Ke,r=Nn(),s=t(),o=!Vn(r.memoizedState,s);if(o&&(r.memoizedState=s,Ft=!0),r=r.queue,og(D1.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Za(9,R1.bind(null,n,r,s,t),void 0,null),ft===null)throw Error(J(349));Ys&30||T1(n,t,s)}return s}function T1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function R1(e,t,n,r){t.value=n,t.getSnapshot=r,M1(t)&&A1(e)}function D1(e,t,n){return n(function(){M1(t)&&A1(e)})}function M1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vn(e,n)}catch{return!0}}function A1(e){var t=Sr(e,1);t!==null&&Ln(t,e,1,-1)}function Bx(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:e},t.queue=e,e=e.dispatch=fR.bind(null,Ke,e),[t.memoizedState,e]}function Za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $1(){return Nn().memoizedState}function Hc(e,t,n,r){var s=Jn();Ke.flags|=e,s.memoizedState=Za(1|t,n,void 0,r===void 0?null:r)}function cd(e,t,n,r){var s=Nn();r=r===void 0?null:r;var o=void 0;if(it!==null){var i=it.memoizedState;if(o=i.destroy,r!==null&&ng(r,i.deps)){s.memoizedState=Za(t,n,o,r);return}}Ke.flags|=e,s.memoizedState=Za(1|t,n,o,r)}function Wx(e,t){return Hc(8390656,8,e,t)}function og(e,t){return cd(2048,8,e,t)}function O1(e,t){return cd(4,2,e,t)}function I1(e,t){return cd(4,4,e,t)}function L1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function F1(e,t,n){return n=n!=null?n.concat([e]):null,cd(4,4,L1.bind(null,t,e),n)}function ig(){}function V1(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ng(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function U1(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ng(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function z1(e,t,n){return Ys&21?(Vn(n,t)||(n=qb(),Ke.lanes|=n,Js|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n)}function uR(e,t){var n=Re;Re=n!==0&&4>n?n:4,e(!0);var r=Nf.transition;Nf.transition={};try{e(!1),t()}finally{Re=n,Nf.transition=r}}function B1(){return Nn().memoizedState}function dR(e,t,n){var r=ns(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W1(e))H1(t,n);else if(n=N1(e,t,n,r),n!==null){var s=Mt();Ln(n,e,r,s),G1(n,t,r)}}function fR(e,t,n){var r=ns(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W1(e))H1(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,Vn(l,i)){var c=t.interleaved;c===null?(s.next=s,Xp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=N1(e,t,s,r),n!==null&&(s=Mt(),Ln(n,e,r,s),G1(n,t,r))}}function W1(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function H1(e,t){Na=bu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function G1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ip(e,n)}}var ju={readContext:Sn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},hR={readContext:Sn,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:Wx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hc(4194308,4,L1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hc(4,2,e,t)},useMemo:function(e,t){var n=Jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dR.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:Bx,useDebugValue:ig,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=Bx(!1),t=e[0];return e=uR.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,s=Jn();if(We){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),ft===null)throw Error(J(349));Ys&30||T1(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Wx(D1.bind(null,r,o,e),[e]),r.flags|=2048,Za(9,R1.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Jn(),t=ft.identifierPrefix;if(We){var n=pr,r=mr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mR={readContext:Sn,useCallback:V1,useContext:Sn,useEffect:og,useImperativeHandle:F1,useInsertionEffect:O1,useLayoutEffect:I1,useMemo:U1,useReducer:Ef,useRef:$1,useState:function(){return Ef(Qa)},useDebugValue:ig,useDeferredValue:function(e){var t=Nn();return z1(t,it.memoizedState,e)},useTransition:function(){var e=Ef(Qa)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:P1,useSyncExternalStore:k1,useId:B1,unstable_isNewReconciler:!1},pR={readContext:Sn,useCallback:V1,useContext:Sn,useEffect:og,useImperativeHandle:F1,useInsertionEffect:O1,useLayoutEffect:I1,useMemo:U1,useReducer:_f,useRef:$1,useState:function(){return _f(Qa)},useDebugValue:ig,useDeferredValue:function(e){var t=Nn();return it===null?t.memoizedState=e:z1(t,it.memoizedState,e)},useTransition:function(){var e=_f(Qa)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:P1,useSyncExternalStore:k1,useId:B1,unstable_isNewReconciler:!1};function Dn(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function om(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ud={isMounted:function(e){return(e=e._reactInternals)?io(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mt(),s=ns(e),o=vr(r,s);o.payload=t,n!=null&&(o.callback=n),t=es(e,o,s),t!==null&&(Ln(t,e,s,r),Bc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mt(),s=ns(e),o=vr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=es(e,o,s),t!==null&&(Ln(t,e,s,r),Bc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),r=ns(e),s=vr(n,r);s.tag=2,t!=null&&(s.callback=t),t=es(e,s,r),t!==null&&(Ln(t,e,r,n),Bc(t,e,r))}};function Hx(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ha(n,r)||!Ha(s,o):!0}function q1(e,t,n){var r=!1,s=cs,o=t.contextType;return typeof o=="object"&&o!==null?o=Sn(o):(s=Ut(t)?qs:Et.current,r=t.contextTypes,o=(r=r!=null)?ai(e,s):cs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ud,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Gx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ud.enqueueReplaceState(t,t.state,null)}function im(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Qp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Sn(o):(o=Ut(t)?qs:Et.current,s.context=ai(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(om(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ud.enqueueReplaceState(s,s.state,null),yu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function di(e,t){try{var n="",r=t;do n+=Bk(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Pf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function am(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gR=typeof WeakMap=="function"?WeakMap:Map;function K1(e,t,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Su||(Su=!0,vm=r),am(e,t)},n}function Y1(e,t,n){n=vr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){am(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){am(e,t),typeof r!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function qx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gR;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=TR.bind(null,e,t,n),t.then(e,e))}function Kx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yx(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vr(-1,1),t.tag=2,es(n,t,1))),n.lanes|=1),e)}var vR=Rr.ReactCurrentOwner,Ft=!1;function Tt(e,t,n,r){t.child=e===null?S1(t,null,n,r):ci(t,e.child,n,r)}function Jx(e,t,n,r,s){n=n.render;var o=t.ref;return Qo(t,s),r=rg(e,t,n,r,o,s),n=sg(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nr(e,t,s)):(We&&n&&Hp(t),t.flags|=1,Tt(e,t,r,s),t.child)}function Xx(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!mg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,J1(e,t,o,r,s)):(e=Yc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ha,n(i,r)&&e.ref===t.ref)return Nr(e,t,s)}return t.flags|=1,e=rs(o,r),e.ref=t.ref,e.return=t,t.child=e}function J1(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ha(o,r)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,Nr(e,t,s)}return lm(e,t,n,r,s)}function X1(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Bo,Gt),Gt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(Bo,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ie(Bo,Gt),Gt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ie(Bo,Gt),Gt|=r;return Tt(e,t,s,n),t.child}function Q1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lm(e,t,n,r,s){var o=Ut(n)?qs:Et.current;return o=ai(t,o),Qo(t,s),n=rg(e,t,n,r,o,s),r=sg(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nr(e,t,s)):(We&&r&&Hp(t),t.flags|=1,Tt(e,t,n,s),t.child)}function Qx(e,t,n,r,s){if(Ut(n)){var o=!0;mu(t)}else o=!1;if(Qo(t,s),t.stateNode===null)Gc(e,t),q1(t,n,r),im(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Sn(u):(u=Ut(n)?qs:Et.current,u=ai(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Gx(t,i,r,u),Vr=!1;var m=t.memoizedState;i.state=m,yu(t,r,i,s),c=t.memoizedState,l!==r||m!==c||Vt.current||Vr?(typeof d=="function"&&(om(t,n,d,r),c=t.memoizedState),(l=Vr||Hx(t,n,l,r,m,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,E1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Dn(t.type,l),i.props=u,h=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Sn(c):(c=Ut(n)?qs:Et.current,c=ai(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Gx(t,i,r,c),Vr=!1,m=t.memoizedState,i.state=m,yu(t,r,i,s);var w=t.memoizedState;l!==h||m!==w||Vt.current||Vr?(typeof p=="function"&&(om(t,n,p,r),w=t.memoizedState),(u=Vr||Hx(t,n,u,r,m,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return cm(e,t,n,r,o,s)}function cm(e,t,n,r,s,o){Q1(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Ix(t,n,!1),Nr(e,t,o);r=t.stateNode,vR.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ci(t,e.child,null,o),t.child=ci(t,null,l,o)):Tt(e,t,l,o),t.memoizedState=r.state,s&&Ix(t,n,!0),t.child}function Z1(e){var t=e.stateNode;t.pendingContext?Ox(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ox(e,t.context,!1),Zp(e,t.containerInfo)}function Zx(e,t,n,r,s){return li(),qp(s),t.flags|=256,Tt(e,t,n,r),t.child}var um={dehydrated:null,treeContext:null,retryLane:0};function dm(e){return{baseLanes:e,cachePool:null,transitions:null}}function ej(e,t,n){var r=t.pendingProps,s=Ge.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ie(Ge,s&1),e===null)return rm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=hd(i,r,0,null),e=Hs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=dm(n),t.memoizedState=um,e):ag(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xR(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=rs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=rs(l,o):(o=Hs(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?dm(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=um,r}return o=e.child,e=o.sibling,r=rs(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ag(e,t){return t=hd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hc(e,t,n,r){return r!==null&&qp(r),ci(t,e.child,null,n),e=ag(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xR(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Pf(Error(J(422))),hc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=hd({mode:"visible",children:r.children},s,0,null),o=Hs(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ci(t,e.child,null,i),t.child.memoizedState=dm(i),t.memoizedState=um,o);if(!(t.mode&1))return hc(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(J(419)),r=Pf(o,r,void 0),hc(e,t,i,r)}if(l=(i&e.childLanes)!==0,Ft||l){if(r=ft,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Sr(e,s),Ln(r,e,s,-1))}return hg(),r=Pf(Error(J(421))),hc(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=RR.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Kt=Zr(s.nextSibling),Jt=t,We=!0,$n=null,e!==null&&(mn[pn++]=mr,mn[pn++]=pr,mn[pn++]=Ks,mr=e.id,pr=e.overflow,Ks=t),t=ag(t,r.children),t.flags|=4096,t)}function ey(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sm(e.return,t,n)}function kf(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function tj(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Tt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,n,t);else if(e.tag===19)ey(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ie(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),kf(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}kf(t,!0,n,null,o);break;case"together":kf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Js|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=rs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yR(e,t,n){switch(t.tag){case 3:Z1(t),li();break;case 5:_1(t);break;case 1:Ut(t.type)&&mu(t);break;case 4:Zp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ie(vu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?ej(e,t,n):(Ie(Ge,Ge.current&1),e=Nr(e,t,n),e!==null?e.sibling:null);Ie(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tj(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,X1(e,t,n)}return Nr(e,t,n)}var nj,fm,rj,sj;nj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fm=function(){};rj=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Us(nr.current);var o=null;switch(n){case"input":s=Ah(e,s),r=Ah(e,r),o=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),o=[];break;case"textarea":s=Ih(e,s),r=Ih(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fu)}Fh(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(La.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(La.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};sj=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zi(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wR(e,t,n){var r=t.pendingProps;switch(Gp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Ut(t.type)&&hu(),yt(t),null;case 3:return r=t.stateNode,ui(),Be(Vt),Be(Et),tg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(dc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$n!==null&&(wm($n),$n=null))),fm(e,t),yt(t),null;case 5:eg(t);var s=Us(Ja.current);if(n=t.type,e!==null&&t.stateNode!=null)rj(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(J(166));return yt(t),null}if(e=Us(nr.current),dc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Xn]=t,r[Ka]=o,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<ha.length;s++)ze(ha[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":cx(r,o),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ze("invalid",r);break;case"textarea":dx(r,o),ze("invalid",r)}Fh(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&uc(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&uc(r.textContent,l,e),s=["children",""+l]):La.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ze("scroll",r)}switch(n){case"input":nc(r),ux(r,o,!0);break;case"textarea":nc(r),fx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=fu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Db(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Xn]=t,e[Ka]=r,nj(e,t,!1,!1),t.stateNode=e;e:{switch(i=Vh(n,r),n){case"dialog":ze("cancel",e),ze("close",e),s=r;break;case"iframe":case"object":case"embed":ze("load",e),s=r;break;case"video":case"audio":for(s=0;s<ha.length;s++)ze(ha[s],e);s=r;break;case"source":ze("error",e),s=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),s=r;break;case"details":ze("toggle",e),s=r;break;case"input":cx(e,r),s=Ah(e,r),ze("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),ze("invalid",e);break;case"textarea":dx(e,r),s=Ih(e,r),ze("invalid",e);break;default:s=r}Fh(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?$b(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Mb(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fa(e,c):typeof c=="number"&&Fa(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(La.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ze("scroll",e):c!=null&&Rp(e,o,c,i))}switch(n){case"input":nc(e),ux(e,r,!1);break;case"textarea":nc(e),fx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ls(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ko(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ko(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)sj(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));if(n=Us(Ja.current),Us(nr.current),dc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xn]=t,(o=r.nodeValue!==n)&&(e=Jt,e!==null))switch(e.tag){case 3:uc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xn]=t,t.stateNode=r}return yt(t),null;case 13:if(Be(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Kt!==null&&t.mode&1&&!(t.flags&128))j1(),li(),t.flags|=98560,o=!1;else if(o=dc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(J(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Xn]=t}else li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),o=!1}else $n!==null&&(wm($n),$n=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?at===0&&(at=3):hg())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return ui(),fm(e,t),e===null&&Ga(t.stateNode.containerInfo),yt(t),null;case 10:return Jp(t.type._context),yt(t),null;case 17:return Ut(t.type)&&hu(),yt(t),null;case 19:if(Be(Ge),o=t.memoizedState,o===null)return yt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Zi(o,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=wu(e),i!==null){for(t.flags|=128,Zi(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ie(Ge,Ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ze()>fi&&(t.flags|=128,r=!0,Zi(o,!1),t.lanes=4194304)}else{if(!r)if(e=wu(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!We)return yt(t),null}else 2*Ze()-o.renderingStartTime>fi&&n!==1073741824&&(t.flags|=128,r=!0,Zi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=Ge.current,Ie(Ge,r?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return fg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gt&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function bR(e,t){switch(Gp(t),t.tag){case 1:return Ut(t.type)&&hu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ui(),Be(Vt),Be(Et),tg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return eg(t),null;case 13:if(Be(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ge),null;case 4:return ui(),null;case 10:return Jp(t.type._context),null;case 22:case 23:return fg(),null;case 24:return null;default:return null}}var mc=!1,Ct=!1,jR=typeof WeakSet=="function"?WeakSet:Set,ue=null;function zo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function hm(e,t,n){try{n()}catch(r){Je(e,t,r)}}var ty=!1;function CR(e,t){if(Jh=cu,e=c1(),Wp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=i+s),h!==o||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=i),m===o&&++d===r&&(c=i),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xh={focusedElem:e,selectionRange:n},cu=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,b=w.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Dn(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(C){Je(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return w=ty,ty=!1,w}function Ea(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&hm(t,n,o)}s=s.next}while(s!==r)}}function dd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function mm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oj(e){var t=e.alternate;t!==null&&(e.alternate=null,oj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xn],delete t[Ka],delete t[em],delete t[oR],delete t[iR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ij(e){return e.tag===5||e.tag===3||e.tag===4}function ny(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ij(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fu));else if(r!==4&&(e=e.child,e!==null))for(pm(e,t,n),e=e.sibling;e!==null;)pm(e,t,n),e=e.sibling}function gm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gm(e,t,n),e=e.sibling;e!==null;)gm(e,t,n),e=e.sibling}var mt=null,Mn=!1;function Mr(e,t,n){for(n=n.child;n!==null;)aj(e,t,n),n=n.sibling}function aj(e,t,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(rd,n)}catch{}switch(n.tag){case 5:Ct||zo(n,t);case 6:var r=mt,s=Mn;mt=null,Mr(e,t,n),mt=r,Mn=s,mt!==null&&(Mn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Mn?(e=mt,n=n.stateNode,e.nodeType===8?jf(e.parentNode,n):e.nodeType===1&&jf(e,n),Ba(e)):jf(mt,n.stateNode));break;case 4:r=mt,s=Mn,mt=n.stateNode.containerInfo,Mn=!0,Mr(e,t,n),mt=r,Mn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&hm(n,t,i),s=s.next}while(s!==r)}Mr(e,t,n);break;case 1:if(!Ct&&(zo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Je(n,t,l)}Mr(e,t,n);break;case 21:Mr(e,t,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Mr(e,t,n),Ct=r):Mr(e,t,n);break;default:Mr(e,t,n)}}function ry(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jR),t.forEach(function(r){var s=DR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:mt=l.stateNode,Mn=!1;break e;case 3:mt=l.stateNode.containerInfo,Mn=!0;break e;case 4:mt=l.stateNode.containerInfo,Mn=!0;break e}l=l.return}if(mt===null)throw Error(J(160));aj(o,i,s),mt=null,Mn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lj(t,e),t=t.sibling}function lj(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pn(t,e),Yn(e),r&4){try{Ea(3,e,e.return),dd(3,e)}catch(g){Je(e,e.return,g)}try{Ea(5,e,e.return)}catch(g){Je(e,e.return,g)}}break;case 1:Pn(t,e),Yn(e),r&512&&n!==null&&zo(n,n.return);break;case 5:if(Pn(t,e),Yn(e),r&512&&n!==null&&zo(n,n.return),e.flags&32){var s=e.stateNode;try{Fa(s,"")}catch(g){Je(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Tb(s,o),Vh(l,i);var u=Vh(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?$b(s,h):d==="dangerouslySetInnerHTML"?Mb(s,h):d==="children"?Fa(s,h):Rp(s,d,h,u)}switch(l){case"input":$h(s,o);break;case"textarea":Rb(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ko(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ko(s,!!o.multiple,o.defaultValue,!0):Ko(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ka]=o}catch(g){Je(e,e.return,g)}}break;case 6:if(Pn(t,e),Yn(e),r&4){if(e.stateNode===null)throw Error(J(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Je(e,e.return,g)}}break;case 3:if(Pn(t,e),Yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ba(t.containerInfo)}catch(g){Je(e,e.return,g)}break;case 4:Pn(t,e),Yn(e);break;case 13:Pn(t,e),Yn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(ug=Ze())),r&4&&ry(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ct=(u=Ct)||d,Pn(t,e),Ct=u):Pn(t,e),Yn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ue=e,d=e.child;d!==null;){for(h=ue=d;ue!==null;){switch(m=ue,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ea(4,m,m.return);break;case 1:zo(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){Je(r,n,g)}}break;case 5:zo(m,m.return);break;case 22:if(m.memoizedState!==null){oy(h);continue}}p!==null?(p.return=m,ue=p):oy(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ab("display",i))}catch(g){Je(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Je(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pn(t,e),Yn(e),r&4&&ry(e);break;case 21:break;default:Pn(t,e),Yn(e)}}function Yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ij(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fa(s,""),r.flags&=-33);var o=ny(e);gm(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=ny(e);pm(e,l,i);break;default:throw Error(J(161))}}catch(c){Je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SR(e,t,n){ue=e,cj(e)}function cj(e,t,n){for(var r=(e.mode&1)!==0;ue!==null;){var s=ue,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||mc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ct;l=mc;var u=Ct;if(mc=i,(Ct=c)&&!u)for(ue=s;ue!==null;)i=ue,c=i.child,i.tag===22&&i.memoizedState!==null?iy(s):c!==null?(c.return=i,ue=c):iy(s);for(;o!==null;)ue=o,cj(o),o=o.sibling;ue=s,mc=l,Ct=u}sy(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ue=o):sy(e)}}function sy(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||dd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Dn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&zx(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zx(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ba(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Ct||t.flags&512&&mm(t)}catch(m){Je(t,t.return,m)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function oy(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function iy(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dd(4,t)}catch(c){Je(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Je(t,s,c)}}var o=t.return;try{mm(t)}catch(c){Je(t,o,c)}break;case 5:var i=t.return;try{mm(t)}catch(c){Je(t,i,c)}}}catch(c){Je(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var NR=Math.ceil,Cu=Rr.ReactCurrentDispatcher,lg=Rr.ReactCurrentOwner,xn=Rr.ReactCurrentBatchConfig,Ee=0,ft=null,rt=null,pt=0,Gt=0,Bo=ys(0),at=0,el=null,Js=0,fd=0,cg=0,_a=null,Lt=null,ug=0,fi=1/0,dr=null,Su=!1,vm=null,ts=null,pc=!1,qr=null,Nu=0,Pa=0,xm=null,qc=-1,Kc=0;function Mt(){return Ee&6?Ze():qc!==-1?qc:qc=Ze()}function ns(e){return e.mode&1?Ee&2&&pt!==0?pt&-pt:lR.transition!==null?(Kc===0&&(Kc=qb()),Kc):(e=Re,e!==0||(e=window.event,e=e===void 0?16:e1(e.type)),e):1}function Ln(e,t,n,r){if(50<Pa)throw Pa=0,xm=null,Error(J(185));Sl(e,n,r),(!(Ee&2)||e!==ft)&&(e===ft&&(!(Ee&2)&&(fd|=n),at===4&&Wr(e,pt)),zt(e,r),n===1&&Ee===0&&!(t.mode&1)&&(fi=Ze()+500,ld&&ws()))}function zt(e,t){var n=e.callbackNode;lT(e,t);var r=lu(e,e===ft?pt:0);if(r===0)n!==null&&px(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&px(n),t===1)e.tag===0?aR(ay.bind(null,e)):y1(ay.bind(null,e)),rR(function(){!(Ee&6)&&ws()}),n=null;else{switch(Kb(r)){case 1:n=Op;break;case 4:n=Hb;break;case 16:n=au;break;case 536870912:n=Gb;break;default:n=au}n=vj(n,uj.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uj(e,t){if(qc=-1,Kc=0,Ee&6)throw Error(J(327));var n=e.callbackNode;if(Zo()&&e.callbackNode!==n)return null;var r=lu(e,e===ft?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Eu(e,r);else{t=r;var s=Ee;Ee|=2;var o=fj();(ft!==e||pt!==t)&&(dr=null,fi=Ze()+500,Ws(e,t));do try{PR();break}catch(l){dj(e,l)}while(1);Yp(),Cu.current=o,Ee=s,rt!==null?t=0:(ft=null,pt=0,t=at)}if(t!==0){if(t===2&&(s=Hh(e),s!==0&&(r=s,t=ym(e,s))),t===1)throw n=el,Ws(e,0),Wr(e,r),zt(e,Ze()),n;if(t===6)Wr(e,r);else{if(s=e.current.alternate,!(r&30)&&!ER(s)&&(t=Eu(e,r),t===2&&(o=Hh(e),o!==0&&(r=o,t=ym(e,o))),t===1))throw n=el,Ws(e,0),Wr(e,r),zt(e,Ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(J(345));case 2:Rs(e,Lt,dr);break;case 3:if(Wr(e,r),(r&130023424)===r&&(t=ug+500-Ze(),10<t)){if(lu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Mt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zh(Rs.bind(null,e,Lt,dr),t);break}Rs(e,Lt,dr);break;case 4:if(Wr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-In(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NR(r/1960))-r,10<r){e.timeoutHandle=Zh(Rs.bind(null,e,Lt,dr),r);break}Rs(e,Lt,dr);break;case 5:Rs(e,Lt,dr);break;default:throw Error(J(329))}}}return zt(e,Ze()),e.callbackNode===n?uj.bind(null,e):null}function ym(e,t){var n=_a;return e.current.memoizedState.isDehydrated&&(Ws(e,t).flags|=256),e=Eu(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&wm(t)),e}function wm(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function ER(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Vn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wr(e,t){for(t&=~cg,t&=~fd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-In(t),r=1<<n;e[n]=-1,t&=~r}}function ay(e){if(Ee&6)throw Error(J(327));Zo();var t=lu(e,0);if(!(t&1))return zt(e,Ze()),null;var n=Eu(e,t);if(e.tag!==0&&n===2){var r=Hh(e);r!==0&&(t=r,n=ym(e,r))}if(n===1)throw n=el,Ws(e,0),Wr(e,t),zt(e,Ze()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e,Lt,dr),zt(e,Ze()),null}function dg(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(fi=Ze()+500,ld&&ws())}}function Xs(e){qr!==null&&qr.tag===0&&!(Ee&6)&&Zo();var t=Ee;Ee|=1;var n=xn.transition,r=Re;try{if(xn.transition=null,Re=1,e)return e()}finally{Re=r,xn.transition=n,Ee=t,!(Ee&6)&&ws()}}function fg(){Gt=Bo.current,Be(Bo)}function Ws(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nR(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(Gp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hu();break;case 3:ui(),Be(Vt),Be(Et),tg();break;case 5:eg(r);break;case 4:ui();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:Jp(r.type._context);break;case 22:case 23:fg()}n=n.return}if(ft=e,rt=e=rs(e.current,null),pt=Gt=t,at=0,el=null,cg=fd=Js=0,Lt=_a=null,Vs!==null){for(t=0;t<Vs.length;t++)if(n=Vs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Vs=null}return e}function dj(e,t){do{var n=rt;try{if(Yp(),Wc.current=ju,bu){for(var r=Ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bu=!1}if(Ys=0,ct=it=Ke=null,Na=!1,Xa=0,lg.current=null,n===null||n.return===null){at=1,el=t,rt=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=pt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Kx(i);if(p!==null){p.flags&=-257,Yx(p,i,l,o,t),p.mode&1&&qx(o,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if(!(t&1)){qx(o,u,t),hg();break e}c=Error(J(426))}}else if(We&&l.mode&1){var b=Kx(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Yx(b,i,l,o,t),qp(di(c,l));break e}}o=c=di(c,l),at!==4&&(at=2),_a===null?_a=[o]:_a.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=K1(o,c,t);Ux(o,v);break e;case 1:l=c;var y=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ts===null||!ts.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=Y1(o,l,t);Ux(o,C);break e}}o=o.return}while(o!==null)}mj(n)}catch(S){t=S,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(1)}function fj(){var e=Cu.current;return Cu.current=ju,e===null?ju:e}function hg(){(at===0||at===3||at===2)&&(at=4),ft===null||!(Js&268435455)&&!(fd&268435455)||Wr(ft,pt)}function Eu(e,t){var n=Ee;Ee|=2;var r=fj();(ft!==e||pt!==t)&&(dr=null,Ws(e,t));do try{_R();break}catch(s){dj(e,s)}while(1);if(Yp(),Ee=n,Cu.current=r,rt!==null)throw Error(J(261));return ft=null,pt=0,at}function _R(){for(;rt!==null;)hj(rt)}function PR(){for(;rt!==null&&!Zk();)hj(rt)}function hj(e){var t=gj(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?mj(e):rt=t,lg.current=null}function mj(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bR(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,rt=null;return}}else if(n=wR(n,t,Gt),n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);at===0&&(at=5)}function Rs(e,t,n){var r=Re,s=xn.transition;try{xn.transition=null,Re=1,kR(e,t,n,r)}finally{xn.transition=s,Re=r}return null}function kR(e,t,n,r){do Zo();while(qr!==null);if(Ee&6)throw Error(J(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(cT(e,o),e===ft&&(rt=ft=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,vj(au,function(){return Zo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xn.transition,xn.transition=null;var i=Re;Re=1;var l=Ee;Ee|=4,lg.current=null,CR(e,n),lj(n,e),YT(Xh),cu=!!Jh,Xh=Jh=null,e.current=n,SR(n),eT(),Ee=l,Re=i,xn.transition=o}else e.current=n;if(pc&&(pc=!1,qr=e,Nu=s),o=e.pendingLanes,o===0&&(ts=null),rT(n.stateNode),zt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Su)throw Su=!1,e=vm,vm=null,e;return Nu&1&&e.tag!==0&&Zo(),o=e.pendingLanes,o&1?e===xm?Pa++:(Pa=0,xm=e):Pa=0,ws(),null}function Zo(){if(qr!==null){var e=Kb(Nu),t=xn.transition,n=Re;try{if(xn.transition=null,Re=16>e?16:e,qr===null)var r=!1;else{if(e=qr,qr=null,Nu=0,Ee&6)throw Error(J(331));var s=Ee;for(Ee|=4,ue=e.current;ue!==null;){var o=ue,i=o.child;if(ue.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Ea(8,d,o)}var h=d.child;if(h!==null)h.return=d,ue=h;else for(;ue!==null;){d=ue;var m=d.sibling,p=d.return;if(oj(d),d===u){ue=null;break}if(m!==null){m.return=p,ue=m;break}ue=p}}}var w=o.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ue=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ue=i;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ea(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ue=v;break e}ue=o.return}}var y=e.current;for(ue=y;ue!==null;){i=ue;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,ue=x;else e:for(i=y;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dd(9,l)}}catch(S){Je(l,l.return,S)}if(l===i){ue=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,ue=C;break e}ue=l.return}}if(Ee=s,ws(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(rd,e)}catch{}r=!0}return r}finally{Re=n,xn.transition=t}}return!1}function ly(e,t,n){t=di(n,t),t=K1(e,t,1),e=es(e,t,1),t=Mt(),e!==null&&(Sl(e,1,t),zt(e,t))}function Je(e,t,n){if(e.tag===3)ly(e,e,n);else for(;t!==null;){if(t.tag===3){ly(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ts===null||!ts.has(r))){e=di(n,e),e=Y1(t,e,1),t=es(t,e,1),e=Mt(),t!==null&&(Sl(t,1,e),zt(t,e));break}}t=t.return}}function TR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(pt&n)===n&&(at===4||at===3&&(pt&130023424)===pt&&500>Ze()-ug?Ws(e,0):cg|=n),zt(e,t)}function pj(e,t){t===0&&(e.mode&1?(t=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):t=1);var n=Mt();e=Sr(e,t),e!==null&&(Sl(e,t,n),zt(e,n))}function RR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pj(e,n)}function DR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(t),pj(e,n)}var gj;gj=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ft=!1,yR(e,t,n);Ft=!!(e.flags&131072)}else Ft=!1,We&&t.flags&1048576&&w1(t,gu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gc(e,t),e=t.pendingProps;var s=ai(t,Et.current);Qo(t,n),s=rg(null,t,r,e,s,n);var o=sg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(o=!0,mu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qp(t),s.updater=ud,t.stateNode=s,s._reactInternals=t,im(t,r,e,n),t=cm(null,t,r,!0,o,n)):(t.tag=0,We&&o&&Hp(t),Tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=AR(r),e=Dn(r,e),s){case 0:t=lm(null,t,r,e,n);break e;case 1:t=Qx(null,t,r,e,n);break e;case 11:t=Jx(null,t,r,e,n);break e;case 14:t=Xx(null,t,r,Dn(r.type,e),n);break e}throw Error(J(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dn(r,s),lm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dn(r,s),Qx(e,t,r,s,n);case 3:e:{if(Z1(t),e===null)throw Error(J(387));r=t.pendingProps,o=t.memoizedState,s=o.element,E1(e,t),yu(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=di(Error(J(423)),t),t=Zx(e,t,r,n,s);break e}else if(r!==s){s=di(Error(J(424)),t),t=Zx(e,t,r,n,s);break e}else for(Kt=Zr(t.stateNode.containerInfo.firstChild),Jt=t,We=!0,$n=null,n=S1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(li(),r===s){t=Nr(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return _1(t),e===null&&rm(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Qh(r,s)?i=null:o!==null&&Qh(r,o)&&(t.flags|=32),Q1(e,t),Tt(e,t,i,n),t.child;case 6:return e===null&&rm(t),null;case 13:return ej(e,t,n);case 4:return Zp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ci(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dn(r,s),Jx(e,t,r,s,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ie(vu,r._currentValue),r._currentValue=i,o!==null)if(Vn(o.value,i)){if(o.children===s.children&&!Vt.current){t=Nr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=vr(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),sm(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(J(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sm(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Qo(t,n),s=Sn(s),r=r(s),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,s=Dn(r,t.pendingProps),s=Dn(r.type,s),Xx(e,t,r,s,n);case 15:return J1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dn(r,s),Gc(e,t),t.tag=1,Ut(r)?(e=!0,mu(t)):e=!1,Qo(t,n),q1(t,r,s),im(t,r,s,n),cm(null,t,r,!0,e,n);case 19:return tj(e,t,n);case 22:return X1(e,t,n)}throw Error(J(156,t.tag))};function vj(e,t){return Wb(e,t)}function MR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,r){return new MR(e,t,n,r)}function mg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AR(e){if(typeof e=="function")return mg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mp)return 11;if(e===Ap)return 14}return 2}function rs(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yc(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")mg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Mo:return Hs(n.children,s,o,t);case Dp:i=8,s|=8;break;case Th:return e=gn(12,n,t,s|2),e.elementType=Th,e.lanes=o,e;case Rh:return e=gn(13,n,t,s),e.elementType=Rh,e.lanes=o,e;case Dh:return e=gn(19,n,t,s),e.elementType=Dh,e.lanes=o,e;case _b:return hd(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nb:i=10;break e;case Eb:i=9;break e;case Mp:i=11;break e;case Ap:i=14;break e;case Fr:i=16,r=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=gn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Hs(e,t,n,r){return e=gn(7,e,r,t),e.lanes=n,e}function hd(e,t,n,r){return e=gn(22,e,r,t),e.elementType=_b,e.lanes=n,e.stateNode={isHidden:!1},e}function Tf(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function Rf(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $R(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=df(0),this.expirationTimes=df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=df(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pg(e,t,n,r,s,o,i,l,c){return e=new $R(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=gn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(o),e}function OR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xj(e){if(!e)return cs;e=e._reactInternals;e:{if(io(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(Ut(n))return x1(e,n,t)}return t}function yj(e,t,n,r,s,o,i,l,c){return e=pg(n,r,!0,e,s,o,i,l,c),e.context=xj(null),n=e.current,r=Mt(),s=ns(n),o=vr(r,s),o.callback=t??null,es(n,o,s),e.current.lanes=s,Sl(e,s,r),zt(e,r),e}function md(e,t,n,r){var s=t.current,o=Mt(),i=ns(s);return n=xj(n),t.context===null?t.context=n:t.pendingContext=n,t=vr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=es(s,t,i),e!==null&&(Ln(e,s,i,o),Bc(e,s,i)),i}function _u(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gg(e,t){cy(e,t),(e=e.alternate)&&cy(e,t)}function IR(){return null}var wj=typeof reportError=="function"?reportError:function(e){console.error(e)};function vg(e){this._internalRoot=e}pd.prototype.render=vg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));md(e,t,null,null)};pd.prototype.unmount=vg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xs(function(){md(null,e,null,null)}),t[Cr]=null}};function pd(e){this._internalRoot=e}pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Br.length&&t!==0&&t<Br[n].priority;n++);Br.splice(n,0,e),n===0&&Zb(e)}};function xg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uy(){}function LR(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=_u(i);o.call(u)}}var i=yj(t,r,e,0,null,!1,!1,"",uy);return e._reactRootContainer=i,e[Cr]=i.current,Ga(e.nodeType===8?e.parentNode:e),Xs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=_u(c);l.call(u)}}var c=pg(e,0,!1,null,null,!1,!1,"",uy);return e._reactRootContainer=c,e[Cr]=c.current,Ga(e.nodeType===8?e.parentNode:e),Xs(function(){md(t,c,n,r)}),c}function vd(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=_u(i);l.call(c)}}md(t,i,e,s)}else i=LR(n,t,e,s,r);return _u(i)}Yb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fa(t.pendingLanes);n!==0&&(Ip(t,n|1),zt(t,Ze()),!(Ee&6)&&(fi=Ze()+500,ws()))}break;case 13:Xs(function(){var r=Sr(e,1);if(r!==null){var s=Mt();Ln(r,e,1,s)}}),gg(e,1)}};Lp=function(e){if(e.tag===13){var t=Sr(e,134217728);if(t!==null){var n=Mt();Ln(t,e,134217728,n)}gg(e,134217728)}};Jb=function(e){if(e.tag===13){var t=ns(e),n=Sr(e,t);if(n!==null){var r=Mt();Ln(n,e,t,r)}gg(e,t)}};Xb=function(){return Re};Qb=function(e,t){var n=Re;try{return Re=e,t()}finally{Re=n}};zh=function(e,t,n){switch(t){case"input":if($h(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ad(r);if(!s)throw Error(J(90));kb(r),$h(r,s)}}}break;case"textarea":Rb(e,n);break;case"select":t=n.value,t!=null&&Ko(e,!!n.multiple,t,!1)}};Lb=dg;Fb=Xs;var FR={usingClientEntryPoint:!1,Events:[El,Io,ad,Ob,Ib,dg]},ea={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VR={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zb(e),e===null?null:e.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||IR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{rd=gc.inject(VR),tr=gc}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FR;an.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(t))throw Error(J(200));return OR(e,t,null,n)};an.createRoot=function(e,t){if(!xg(e))throw Error(J(299));var n=!1,r="",s=wj;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=pg(e,1,!1,null,null,n,!1,r,s),e[Cr]=t.current,Ga(e.nodeType===8?e.parentNode:e),new vg(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=zb(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return Xs(e)};an.hydrate=function(e,t,n){if(!gd(t))throw Error(J(200));return vd(null,e,t,!0,n)};an.hydrateRoot=function(e,t,n){if(!xg(e))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=wj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=yj(t,null,e,1,n??null,s,!1,o,i),e[Cr]=t.current,Ga(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new pd(t)};an.render=function(e,t,n){if(!gd(t))throw Error(J(200));return vd(null,e,t,!1,n)};an.unmountComponentAtNode=function(e){if(!gd(e))throw Error(J(40));return e._reactRootContainer?(Xs(function(){vd(null,null,e,!1,function(){e._reactRootContainer=null,e[Cr]=null})}),!0):!1};an.unstable_batchedUpdates=dg;an.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gd(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return vd(e,t,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function bj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bj)}catch(e){console.error(e)}}bj(),bb.exports=an;var qn=bb.exports;const jj=Sp(qn);var dy=qn;Ph.createRoot=dy.createRoot,Ph.hydrateRoot=dy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tl.apply(this,arguments)}var Kr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kr||(Kr={}));const fy="popstate";function UR(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return bm("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Pu(s)}return BR(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zR(){return Math.random().toString(36).substr(2,8)}function hy(e,t){return{usr:e.state,key:e.key,idx:t}}function bm(e,t,n,r){return n===void 0&&(n=null),tl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ki(t):t,{state:n,key:t&&t.key||r||zR()})}function Pu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ki(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function BR(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=Kr.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(tl({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){l=Kr.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:v})}function m(b,v){l=Kr.Push;let y=bm(g.location,b,v);n&&n(y,b),u=d()+1;let x=hy(y,u),C=g.createHref(y);try{i.pushState(x,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(C)}o&&c&&c({action:l,location:g.location,delta:1})}function p(b,v){l=Kr.Replace;let y=bm(g.location,b,v);n&&n(y,b),u=d();let x=hy(y,u),C=g.createHref(y);i.replaceState(x,"",C),o&&c&&c({action:l,location:g.location,delta:0})}function w(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:Pu(b);return y=y.replace(/ $/,"%20"),et(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(fy,h),c=b,()=>{s.removeEventListener(fy,h),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let v=w(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(b){return i.go(b)}};return g}var my;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(my||(my={}));function WR(e,t,n){return n===void 0&&(n="/"),HR(e,t,n,!1)}function HR(e,t,n,r){let s=typeof t=="string"?ki(t):t,o=yg(s.pathname||"/",n);if(o==null)return null;let i=Sj(e);GR(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=rD(o);l=tD(i[c],u,r)}return l}function Sj(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ss([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Sj(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:ZR(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of Nj(o.path))s(o,i,c)}),t}function Nj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Nj(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function GR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:eD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qR=/^:[\w-]+$/,KR=3,YR=2,JR=1,XR=10,QR=-2,py=e=>e==="*";function ZR(e,t){let n=e.split("/"),r=n.length;return n.some(py)&&(r+=QR),t&&(r+=YR),n.filter(s=>!py(s)).reduce((s,o)=>s+(qR.test(o)?KR:o===""?JR:XR),r)}function eD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function tD(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=gy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=gy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:ss([o,h.pathname]),pathnameBase:aD(ss([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=ss([o,h.pathnameBase]))}return i}function gy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nD(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=l[h]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const w=l[h];return p&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function nD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Cj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function rD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ki(e):e;return{pathname:n?n.startsWith("/")?n:oD(n,t):t,search:lD(r),hash:cD(s)}}function oD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Df(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wg(e,t){let n=iD(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ki(e):(s=tl({},e),et(!s.pathname||!s.pathname.includes("?"),Df("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),Df("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),Df("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=sD(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ss=e=>e.join("/").replace(/\/\/+/g,"/"),aD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ej=["post","put","patch","delete"];new Set(Ej);const dD=["get",...Ej];new Set(dD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nl.apply(this,arguments)}const jg=f.createContext(null),fD=f.createContext(null),bs=f.createContext(null),xd=f.createContext(null),Dr=f.createContext({outlet:null,matches:[],isDataRoute:!1}),_j=f.createContext(null);function hD(e,t){let{relative:n}=t===void 0?{}:t;Ti()||et(!1);let{basename:r,navigator:s}=f.useContext(bs),{hash:o,pathname:i,search:l}=Rj(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:ss([r,i])),s.createHref({pathname:c,search:l,hash:o})}function Ti(){return f.useContext(xd)!=null}function ao(){return Ti()||et(!1),f.useContext(xd).location}function Pj(e){f.useContext(bs).static||f.useLayoutEffect(e)}function Ri(){let{isDataRoute:e}=f.useContext(Dr);return e?_D():mD()}function mD(){Ti()||et(!1);let e=f.useContext(jg),{basename:t,future:n,navigator:r}=f.useContext(bs),{matches:s}=f.useContext(Dr),{pathname:o}=ao(),i=JSON.stringify(wg(s,n.v7_relativeSplatPath)),l=f.useRef(!1);return Pj(()=>{l.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=bg(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ss([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,i,o,e])}const kj=f.createContext(null);function Tj(){return f.useContext(kj)}function pD(e){let t=f.useContext(Dr).outlet;return t&&f.createElement(kj.Provider,{value:e},t)}function Rj(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=f.useContext(bs),{matches:s}=f.useContext(Dr),{pathname:o}=ao(),i=JSON.stringify(wg(s,r.v7_relativeSplatPath));return f.useMemo(()=>bg(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function gD(e,t){return vD(e,t)}function vD(e,t,n,r){Ti()||et(!1);let{navigator:s,static:o}=f.useContext(bs),{matches:i}=f.useContext(Dr),l=i[i.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=ao(),h;if(t){var m;let v=typeof t=="string"?ki(t):t;u==="/"||(m=v.pathname)!=null&&m.startsWith(u)||et(!1),h=v}else h=d;let p=h.pathname||"/",w=p;if(u!=="/"){let v=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=!o&&n&&n.matches&&n.matches.length>0?n.matches:WR(e,{pathname:w}),b=jD(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:ss([u,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:ss([u,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&b?f.createElement(xd.Provider,{value:{location:nl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Kr.Pop}},b):b}function xD(){let e=ED(),t=uD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:s},n):null,o)}const yD=f.createElement(xD,null);class wD extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?f.createElement(Dr.Provider,{value:this.props.routeContext},f.createElement(_j.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bD(e){let{routeContext:t,match:n,children:r}=e,s=f.useContext(jg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(Dr.Provider,{value:t},r)}function jD(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||et(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=n,w=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let p,w=!1,g=null,b=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||yD,c&&(u<0&&m===0?(PD("route-fallback",!1),w=!0,b=null):u===m&&(w=!0,b=h.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,m+1)),y=()=>{let x;return p?x=g:w?x=b:h.route.Component?x=f.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,f.createElement(bD,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(wD,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var Dj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dj||{}),ku=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ku||{});function CD(e){let t=f.useContext(jg);return t||et(!1),t}function SD(e){let t=f.useContext(fD);return t||et(!1),t}function ND(e){let t=f.useContext(Dr);return t||et(!1),t}function Mj(e){let t=ND(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function ED(){var e;let t=f.useContext(_j),n=SD(ku.UseRouteError),r=Mj(ku.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function _D(){let{router:e}=CD(Dj.UseNavigateStable),t=Mj(ku.UseNavigateStable),n=f.useRef(!1);return Pj(()=>{n.current=!0}),f.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,nl({fromRouteId:t},o)))},[e,t])}const vy={};function PD(e,t,n){!t&&!vy[e]&&(vy[e]=!0)}function kD(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Mf(e){let{to:t,replace:n,state:r,relative:s}=e;Ti()||et(!1);let{future:o,static:i}=f.useContext(bs),{matches:l}=f.useContext(Dr),{pathname:c}=ao(),u=Ri(),d=bg(t,wg(l,o.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return f.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Cg(e){return pD(e.context)}function ot(e){et(!1)}function TD(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Kr.Pop,navigator:o,static:i=!1,future:l}=e;Ti()&&et(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:o,static:i,future:nl({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=ki(r));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:w="default"}=r,g=f.useMemo(()=>{let b=yg(d,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:p,key:w},navigationType:s}},[c,d,h,m,p,w,s]);return g==null?null:f.createElement(bs.Provider,{value:u},f.createElement(xd.Provider,{children:n,value:g}))}function RD(e){let{children:t,location:n}=e;return gD(jm(t),n)}new Promise(()=>{});function jm(e,t){t===void 0&&(t=[]);let n=[];return f.Children.forEach(e,(r,s)=>{if(!f.isValidElement(r))return;let o=[...t,s];if(r.type===f.Fragment){n.push.apply(n,jm(r.props.children,o));return}r.type!==ot&&et(!1),!r.props.index||!r.props.children||et(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=jm(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cm.apply(this,arguments)}function DD(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function MD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AD(e,t){return e.button===0&&(!t||t==="_self")&&!MD(e)}const $D=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OD="6";try{window.__reactRouterVersion=OD}catch{}const ID="startTransition",xy=Cl[ID];function LD(e){let{basename:t,children:n,future:r,window:s}=e,o=f.useRef();o.current==null&&(o.current=UR({window:s,v5Compat:!0}));let i=o.current,[l,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=f.useCallback(h=>{u&&xy?xy(()=>c(h)):c(h)},[c,u]);return f.useLayoutEffect(()=>i.listen(d),[i,d]),f.useEffect(()=>kD(r),[r]),f.createElement(TD,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const FD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pl=f.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=DD(t,$D),{basename:p}=f.useContext(bs),w,g=!1;if(typeof u=="string"&&VD.test(u)&&(w=u,FD))try{let x=new URL(window.location.href),C=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=yg(C.pathname,p);C.origin===x.origin&&S!=null?u=S+C.search+C.hash:g=!0}catch{}let b=hD(u,{relative:s}),v=UD(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function y(x){r&&r(x),x.defaultPrevented||v(x)}return f.createElement("a",Cm({},m,{href:w||b,onClick:g||o?r:y,ref:n,target:c}))});var yy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yy||(yy={}));var wy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wy||(wy={}));function UD(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Ri(),u=ao(),d=Rj(e,{relative:i});return f.useCallback(h=>{if(AD(h,n)){h.preventDefault();let m=r!==void 0?r:Pu(u)===Pu(d);c(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,r,s,n,e,o,i,l])}function Aj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Aj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $j(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Aj(e))&&(r&&(r+=" "),r+=t);return r}function zD(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Oj(t))&&(r&&(r+=" "),r+=n);return r}function Oj(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Oj(e[r]))&&(n&&(n+=" "),n+=t);return n}var Sg="-";function BD(e){var t=HD(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(Sg);return c[0]===""&&c.length!==1&&c.shift(),Ij(c,t)||WD(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function Ij(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?Ij(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(Sg);return(i=t.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var by=/^\[(.+)\]$/;function WD(e){if(by.test(e)){var t=by.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function HD(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=qD(Object.entries(e.classGroups),n);return s.forEach(function(o){var i=o[0],l=o[1];Sm(l,r,i,t)}),r}function Sm(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var o=s===""?t:jy(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(GD(s)){Sm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];Sm(c,jy(t,l),n,r)})})}function jy(e,t){var n=e;return t.split(Sg).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function GD(e){return e.isThemeGetter}function qD(e,t){return t?e.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,o]}):e}function KD(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var Lj="!";function YD(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,d,h=0;h<i.length;h++){var m=i[h];if(c===0){if(m===r&&(n||i.slice(h,h+s)===t)){l.push(i.slice(u,h)),u=h+s;continue}if(m==="/"){d=h;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?i:i.substring(u),w=p.startsWith(Lj),g=w?p.substring(1):p,b=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:g,maybePostfixModifierPosition:b}}}function JD(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function XD(e){return{cache:KD(e.cacheSize),splitModifiers:YD(e),...BD(e)}}var QD=/\s+/;function ZD(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(QD).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,h=l.maybePostfixModifierPosition,m=r(h?d.substring(0,h):d),p=!!h;if(!m){if(!h)return{isTailwindClass:!1,originalClassName:i};if(m=r(d),!m)return{isTailwindClass:!1,originalClassName:i};p=!1}var w=JD(c).join(":"),g=u?w+Lj:w;return{isTailwindClass:!0,modifierId:g,classGroupId:m,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(h){return o.add(l+h)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function eM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,o,i=l;function l(u){var d=t[0],h=t.slice(1),m=h.reduce(function(p,w){return w(p)},d());return r=XD(m),s=r.cache.get,o=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var h=ZD(u,r);return o(u,h),h}return function(){return i(zD.apply(null,arguments))}}function Ue(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Fj=/^\[(?:([a-z-]+):)?(.+)\]$/i,tM=/^\d+\/\d+$/,nM=new Set(["px","full","screen"]),rM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oM=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function kn(e){return zs(e)||nM.has(e)||tM.test(e)||Nm(e)}function Nm(e){return lo(e,"length",dM)}function iM(e){return lo(e,"size",Vj)}function aM(e){return lo(e,"position",Vj)}function lM(e){return lo(e,"url",fM)}function vc(e){return lo(e,"number",zs)}function zs(e){return!Number.isNaN(Number(e))}function cM(e){return e.endsWith("%")&&zs(e.slice(0,-1))}function ta(e){return Cy(e)||lo(e,"number",Cy)}function Ce(e){return Fj.test(e)}function na(){return!0}function Ar(e){return rM.test(e)}function uM(e){return lo(e,"",hM)}function lo(e,t,n){var r=Fj.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function dM(e){return sM.test(e)}function Vj(){return!1}function fM(e){return e.startsWith("url(")}function Cy(e){return Number.isInteger(Number(e))}function hM(e){return oM.test(e)}function mM(){var e=Ue("colors"),t=Ue("spacing"),n=Ue("blur"),r=Ue("brightness"),s=Ue("borderColor"),o=Ue("borderRadius"),i=Ue("borderSpacing"),l=Ue("borderWidth"),c=Ue("contrast"),u=Ue("grayscale"),d=Ue("hueRotate"),h=Ue("invert"),m=Ue("gap"),p=Ue("gradientColorStops"),w=Ue("gradientColorStopPositions"),g=Ue("inset"),b=Ue("margin"),v=Ue("opacity"),y=Ue("padding"),x=Ue("saturate"),C=Ue("scale"),S=Ue("sepia"),E=Ue("skew"),N=Ue("space"),_=Ue("translate"),D=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},I=function(){return["auto",Ce,t]},O=function(){return[Ce,t]},z=function(){return["",kn]},M=function(){return["auto",zs,Ce]},U=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},$=function(){return["solid","dashed","dotted","double","none"]},T=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},j=function(){return["","0",Ce]},k=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},A=function(){return[zs,vc]},L=function(){return[zs,Ce]};return{cacheSize:500,theme:{colors:[na],spacing:[kn],blur:["none","",Ar,Ce],brightness:A(),borderColor:[e],borderRadius:["none","","full",Ar,Ce],borderSpacing:O(),borderWidth:z(),contrast:A(),grayscale:j(),hueRotate:L(),invert:j(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[cM,Nm],inset:I(),margin:I(),opacity:A(),padding:O(),saturate:A(),scale:A(),sepia:j(),skew:L(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Ar]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(U(),[Ce])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ta]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",ta]}],"grid-cols":[{"grid-cols":[na]}],"col-start-end":[{col:["auto",{span:["full",ta]},Ce]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[na]}],"row-start-end":[{row:["auto",{span:[ta]},Ce]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ce,t]}],"min-w":[{"min-w":["min","max","fit",Ce,kn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ar]},Ar,Ce]}],h:[{h:[Ce,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ce,kn]}],"max-h":[{"max-h":[Ce,t,"min","max","fit"]}],"font-size":[{text:["base",Ar,Nm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vc]}],"font-family":[{font:[na]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",zs,vc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ce,kn]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat($(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",kn]}],"underline-offset":[{"underline-offset":["auto",Ce,kn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(U(),[aM])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat($(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat($())}],"outline-offset":[{"outline-offset":[Ce,kn]}],"outline-w":[{outline:[kn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[kn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ar,uM]}],"shadow-color":[{shadow:[na]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":T()}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ar,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[ta,Ce]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[kn,vc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var pM=eM(mM);function ce(...e){return pM($j(e))}function Sy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kl(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Sy(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Sy(e[s],null)}}}}function be(...e){return f.useCallback(kl(...e),e)}function us(e){const t=vM(e),n=f.forwardRef((r,s)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(yM);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var gM=us("Slot");function vM(e){const t=f.forwardRef((n,r)=>{const{children:s,...o}=n,i=f.isValidElement(s)?bM(s):void 0,l=be(i,r);if(f.isValidElement(s)){const c=wM(o,s.props);return s.type!==f.Fragment&&(c.ref=l),f.cloneElement(s,c)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xM=Symbol("radix.slottable");function yM(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xM}function wM(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function bM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Ny=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ey=$j,yd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ey(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const m=Ny(d)||Ny(h);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,...p}=d;return Object.entries(p).every(w=>{let[g,b]=w;return Array.isArray(b)?b.includes({...o,...l}[g]):{...o,...l}[g]===b})?[...u,h,m]:u},[]);return Ey(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Em=yd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=Z.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?gM:"button";return a.jsx(i,{className:ce(Em({variant:t,size:n,className:e})),ref:o,...s})});B.displayName="Button";function ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function jM(e,t){const n=f.createContext(t),r=o=>{const{children:i,...l}=o,c=f.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Ot(e,t=[]){let n=[];function r(o,i){const l=f.createContext(i),c=n.length;n=[...n,i];const u=h=>{var v;const{scope:m,children:p,...w}=h,g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,b=f.useMemo(()=>w,Object.values(w));return a.jsx(g.Provider,{value:b,children:p})};u.displayName=o+"Provider";function d(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,w=f.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,CM(s,...t)]}function CM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var st=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},SM=Cl[" useInsertionEffect ".trim().toString()]||st;function or({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=NM({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=f.useCallback(d=>{var h;if(l){const m=EM(d)?d(e):d;m!==e&&((h=i.current)==null||h.call(i,m))}else o(d)},[l,e,o,i]);return[c,u]}function NM({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),s=f.useRef(n),o=f.useRef(t);return SM(()=>{o.current=t},[t]),f.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function EM(e){return typeof e=="function"}var _M=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pe=_M.reduce((e,t)=>{const n=us(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ng(e,t){e&&qn.flushSync(()=>e.dispatchEvent(t))}function wd(e){const t=e+"CollectionProvider",[n,r]=Ot(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:v}=g,y=Z.useRef(null),x=Z.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:x,collectionRef:y,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=us(l),u=Z.forwardRef((g,b)=>{const{scope:v,children:y}=g,x=o(l,v),C=be(b,x.collectionRef);return a.jsx(c,{ref:C,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=us(d),p=Z.forwardRef((g,b)=>{const{scope:v,children:y,...x}=g,C=Z.useRef(null),S=be(b,C),E=o(d,v);return Z.useEffect(()=>(E.itemMap.set(C,{ref:C,...x}),()=>void E.itemMap.delete(C))),a.jsx(m,{[h]:"",ref:S,children:y})});p.displayName=d;function w(g){const b=o(e+"CollectionConsumer",g);return Z.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((E,N)=>x.indexOf(E.ref.current)-x.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var PM=f.createContext(void 0);function Di(e){const t=f.useContext(PM);return e||t||"ltr"}function _t(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function kM(e,t=globalThis==null?void 0:globalThis.document){const n=_t(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var TM="DismissableLayer",_m="dismissableLayer.update",RM="dismissableLayer.pointerDownOutside",DM="dismissableLayer.focusOutside",_y,Uj=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mi=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=f.useContext(Uj),[d,h]=f.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),w=be(t,N=>h(N)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),y=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,C=y>=v,S=AM(N=>{const _=N.target,D=[...u.branches].some(R=>R.contains(_));!C||D||(s==null||s(N),i==null||i(N),N.defaultPrevented||l==null||l())},m),E=$M(N=>{const _=N.target;[...u.branches].some(R=>R.contains(_))||(o==null||o(N),i==null||i(N),N.defaultPrevented||l==null||l())},m);return kM(N=>{y===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_y=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Py(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=_y)}},[d,m,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Py())},[d,u]),f.useEffect(()=>{const N=()=>p({});return document.addEventListener(_m,N),()=>document.removeEventListener(_m,N)},[]),a.jsx(pe.div,{...c,ref:w,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,E.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,S.onPointerDownCapture)})});Mi.displayName=TM;var MM="DismissableLayerBranch",zj=f.forwardRef((e,t)=>{const n=f.useContext(Uj),r=f.useRef(null),s=be(t,r);return f.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(pe.div,{...e,ref:s})});zj.displayName=MM;function AM(e,t=globalThis==null?void 0:globalThis.document){const n=_t(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){Bj(RM,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $M(e,t=globalThis==null?void 0:globalThis.document){const n=_t(e),r=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!r.current&&Bj(DM,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Py(){const e=new CustomEvent(_m);document.dispatchEvent(e)}function Bj(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Ng(s,o):s.dispatchEvent(o)}var OM=Mi,IM=zj,Af=0;function bd(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ky()),document.body.insertAdjacentElement("beforeend",e[1]??ky()),Af++,()=>{Af===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Af--}},[])}function ky(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $f="focusScope.autoFocusOnMount",Of="focusScope.autoFocusOnUnmount",Ty={bubbles:!1,cancelable:!0},LM="FocusScope",Tl=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=f.useState(null),u=_t(s),d=_t(o),h=f.useRef(null),m=be(t,g=>c(g)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let g=function(x){if(p.paused||!l)return;const C=x.target;l.contains(C)?h.current=C:Or(h.current,{select:!0})},b=function(x){if(p.paused||!l)return;const C=x.relatedTarget;C!==null&&(l.contains(C)||Or(h.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Or(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),y.disconnect()}}},[r,l,p.paused]),f.useEffect(()=>{if(l){Dy.add(p);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent($f,Ty);l.addEventListener($f,u),l.dispatchEvent(v),v.defaultPrevented||(FM(WM(Wj(l)),{select:!0}),document.activeElement===g&&Or(l))}return()=>{l.removeEventListener($f,u),setTimeout(()=>{const v=new CustomEvent(Of,Ty);l.addEventListener(Of,d),l.dispatchEvent(v),v.defaultPrevented||Or(g??document.body,{select:!0}),l.removeEventListener(Of,d),Dy.remove(p)},0)}}},[l,u,d,p]);const w=f.useCallback(g=>{if(!n&&!r||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const y=g.currentTarget,[x,C]=VM(y);x&&C?!g.shiftKey&&v===C?(g.preventDefault(),n&&Or(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),n&&Or(C,{select:!0})):v===y&&g.preventDefault()}},[n,r,p.paused]);return a.jsx(pe.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});Tl.displayName=LM;function FM(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Or(r,{select:t}),document.activeElement!==n)return}function VM(e){const t=Wj(e),n=Ry(t,e),r=Ry(t.reverse(),e);return[n,r]}function Wj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ry(e,t){for(const n of e)if(!UM(n,{upTo:t}))return n}function UM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zM(e){return e instanceof HTMLInputElement&&"select"in e}function Or(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zM(e)&&t&&e.select()}}var Dy=BM();function BM(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=My(e,t),e.unshift(t)},remove(t){var n;e=My(e,t),(n=e[0])==null||n.resume()}}}function My(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function WM(e){return e.filter(t=>t.tagName!=="A")}var HM=Cl[" useId ".trim().toString()]||(()=>{}),GM=0;function yn(e){const[t,n]=f.useState(HM());return st(()=>{e||n(r=>r??String(GM++))},[e]),e||(t?`radix-${t}`:"")}const qM=["top","right","bottom","left"],ds=Math.min,qt=Math.max,Tu=Math.round,xc=Math.floor,rr=e=>({x:e,y:e}),KM={left:"right",right:"left",bottom:"top",top:"bottom"},YM={start:"end",end:"start"};function Pm(e,t,n){return qt(e,ds(t,n))}function Er(e,t){return typeof e=="function"?e(t):e}function _r(e){return e.split("-")[0]}function Ai(e){return e.split("-")[1]}function Eg(e){return e==="x"?"y":"x"}function _g(e){return e==="y"?"height":"width"}function xr(e){return["top","bottom"].includes(_r(e))?"y":"x"}function Pg(e){return Eg(xr(e))}function JM(e,t,n){n===void 0&&(n=!1);const r=Ai(e),s=Pg(e),o=_g(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Ru(i)),[i,Ru(i)]}function XM(e){const t=Ru(e);return[km(e),t,km(t)]}function km(e){return e.replace(/start|end/g,t=>YM[t])}function QM(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function ZM(e,t,n,r){const s=Ai(e);let o=QM(_r(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(km)))),o}function Ru(e){return e.replace(/left|right|bottom|top/g,t=>KM[t])}function eA(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hj(e){return typeof e!="number"?eA(e):{top:e,right:e,bottom:e,left:e}}function Du(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Ay(e,t,n){let{reference:r,floating:s}=e;const o=xr(t),i=Pg(t),l=_g(i),c=_r(t),u=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Ai(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const tA=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Ay(u,r,c),m=r,p={},w=0;for(let g=0;g<l.length;g++){const{name:b,fn:v}=l[g],{x:y,y:x,data:C,reset:S}=await v({x:d,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,h=x??h,p={...p,[b]:{...p[b],...C}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:h}=Ay(u,m,c)),g=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:p}};async function rl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=Er(t,e),w=Hj(p),b=l[m?h==="floating"?"reference":"floating":h],v=Du(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),C=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Du(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:c}):y);return{top:(v.top-S.top+w.top)/C.y,bottom:(S.bottom-v.bottom+w.bottom)/C.y,left:(v.left-S.left+w.left)/C.x,right:(S.right-v.right+w.right)/C.x}}const nA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Er(e,t)||{};if(u==null)return{};const h=Hj(d),m={x:n,y:r},p=Pg(s),w=_g(p),g=await i.getDimensions(u),b=p==="y",v=b?"top":"left",y=b?"bottom":"right",x=b?"clientHeight":"clientWidth",C=o.reference[w]+o.reference[p]-m[p]-o.floating[w],S=m[p]-o.reference[p],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=E?E[x]:0;(!N||!await(i.isElement==null?void 0:i.isElement(E)))&&(N=l.floating[x]||o.floating[w]);const _=C/2-S/2,D=N/2-g[w]/2-1,R=ds(h[v],D),I=ds(h[y],D),O=R,z=N-g[w]-I,M=N/2-g[w]/2+_,U=Pm(O,M,z),$=!c.arrow&&Ai(s)!=null&&M!==U&&o.reference[w]/2-(M<O?R:I)-g[w]/2<0,T=$?M<O?M-O:M-z:0;return{[p]:m[p]+T,data:{[p]:U,centerOffset:M-U-T,...$&&{alignmentOffset:T}},reset:$}}}),rA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...b}=Er(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=_r(s),y=xr(l),x=_r(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(x||!g?[Ru(l)]:XM(l)),E=w!=="none";!m&&E&&S.push(...ZM(l,g,w,C));const N=[l,...S],_=await rl(t,b),D=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&D.push(_[v]),h){const U=JM(s,i,C);D.push(_[U[0]],_[U[1]])}if(R=[...R,{placement:s,overflows:D}],!D.every(U=>U<=0)){var I,O;const U=(((I=o.flip)==null?void 0:I.index)||0)+1,$=N[U];if($){var z;const P=h==="alignment"?y!==xr($):!1,j=((z=R[0])==null?void 0:z.overflows[0])>0;if(!P||j)return{data:{index:U,overflows:R},reset:{placement:$}}}let T=(O=R.filter(P=>P.overflows[0]<=0).sort((P,j)=>P.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!T)switch(p){case"bestFit":{var M;const P=(M=R.filter(j=>{if(E){const k=xr(j.placement);return k===y||k==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(k=>k>0).reduce((k,A)=>k+A,0)]).sort((j,k)=>j[1]-k[1])[0])==null?void 0:M[0];P&&(T=P);break}case"initialPlacement":T=l;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function $y(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Oy(e){return qM.some(t=>e[t]>=0)}const sA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Er(e,t);switch(r){case"referenceHidden":{const o=await rl(t,{...s,elementContext:"reference"}),i=$y(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Oy(i)}}}case"escaped":{const o=await rl(t,{...s,altBoundary:!0}),i=$y(o,n.floating);return{data:{escapedOffsets:i,escaped:Oy(i)}}}default:return{}}}}};async function oA(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=_r(n),l=Ai(n),c=xr(n)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,h=Er(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const iA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await oA(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},aA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:v,y}=b;return{x:v,y}}},...c}=Er(e,t),u={x:n,y:r},d=await rl(t,c),h=xr(_r(s)),m=Eg(h);let p=u[m],w=u[h];if(o){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=p+d[b],x=p-d[v];p=Pm(y,p,x)}if(i){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=w+d[b],x=w-d[v];w=Pm(y,w,x)}const g=l.fn({...t,[m]:p,[h]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:o,[h]:i}}}}}},lA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Er(e,t),d={x:n,y:r},h=xr(s),m=Eg(h);let p=d[m],w=d[h];const g=Er(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=m==="y"?"height":"width",C=o.reference[m]-o.floating[x]+b.mainAxis,S=o.reference[m]+o.reference[x]-b.mainAxis;p<C?p=C:p>S&&(p=S)}if(u){var v,y;const x=m==="y"?"width":"height",C=["top","left"].includes(_r(s)),S=o.reference[h]-o.floating[x]+(C&&((v=i.offset)==null?void 0:v[h])||0)+(C?0:b.crossAxis),E=o.reference[h]+o.reference[x]+(C?0:((y=i.offset)==null?void 0:y[h])||0)-(C?b.crossAxis:0);w<S?w=S:w>E&&(w=E)}return{[m]:p,[h]:w}}}},cA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Er(e,t),d=await rl(t,u),h=_r(s),m=Ai(s),p=xr(s)==="y",{width:w,height:g}=o.floating;let b,v;h==="top"||h==="bottom"?(b=h,v=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,b=m==="end"?"top":"bottom");const y=g-d.top-d.bottom,x=w-d.left-d.right,C=ds(g-d[b],y),S=ds(w-d[v],x),E=!t.middlewareData.shift;let N=C,_=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=y),E&&!m){const R=qt(d.left,0),I=qt(d.right,0),O=qt(d.top,0),z=qt(d.bottom,0);p?_=w-2*(R!==0||I!==0?R+I:qt(d.left,d.right)):N=g-2*(O!==0||z!==0?O+z:qt(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:N});const D=await i.getDimensions(l.floating);return w!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function jd(){return typeof window<"u"}function $i(e){return Gj(e)?(e.nodeName||"").toLowerCase():"#document"}function Xt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cr(e){var t;return(t=(Gj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Gj(e){return jd()?e instanceof Node||e instanceof Xt(e).Node:!1}function Un(e){return jd()?e instanceof Element||e instanceof Xt(e).Element:!1}function ir(e){return jd()?e instanceof HTMLElement||e instanceof Xt(e).HTMLElement:!1}function Iy(e){return!jd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xt(e).ShadowRoot}function Rl(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function uA(e){return["table","td","th"].includes($i(e))}function Cd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function kg(e){const t=Tg(),n=Un(e)?zn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dA(e){let t=fs(e);for(;ir(t)&&!hi(t);){if(kg(t))return t;if(Cd(t))return null;t=fs(t)}return null}function Tg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hi(e){return["html","body","#document"].includes($i(e))}function zn(e){return Xt(e).getComputedStyle(e)}function Sd(e){return Un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fs(e){if($i(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Iy(e)&&e.host||cr(e);return Iy(t)?t.host:t}function qj(e){const t=fs(e);return hi(t)?e.ownerDocument?e.ownerDocument.body:e.body:ir(t)&&Rl(t)?t:qj(t)}function sl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=qj(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Xt(s);if(o){const l=Tm(i);return t.concat(i,i.visualViewport||[],Rl(s)?s:[],l&&n?sl(l):[])}return t.concat(s,sl(s,[],n))}function Tm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Kj(e){const t=zn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ir(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Tu(n)!==o||Tu(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Rg(e){return Un(e)?e:e.contextElement}function ei(e){const t=Rg(e);if(!ir(t))return rr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Kj(t);let i=(o?Tu(n.width):n.width)/r,l=(o?Tu(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const fA=rr(0);function Yj(e){const t=Xt(e);return!Tg()||!t.visualViewport?fA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xt(e)?!1:t}function Qs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Rg(e);let i=rr(1);t&&(r?Un(r)&&(i=ei(r)):i=ei(e));const l=hA(o,n,r)?Yj(o):rr(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const m=Xt(o),p=r&&Un(r)?Xt(r):r;let w=m,g=Tm(w);for(;g&&r&&p!==w;){const b=ei(g),v=g.getBoundingClientRect(),y=zn(g),x=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,C=v.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=x,u+=C,w=Xt(g),g=Tm(w)}}return Du({width:d,height:h,x:c,y:u})}function Dg(e,t){const n=Sd(e).scrollLeft;return t?t.left+n:Qs(cr(e)).left+n}function Jj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Dg(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function mA(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=cr(r),l=t?Cd(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=rr(1);const d=rr(0),h=ir(r);if((h||!h&&!o)&&(($i(r)!=="body"||Rl(i))&&(c=Sd(r)),ir(r))){const p=Qs(r);u=ei(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=i&&!h&&!o?Jj(i,c,!0):rr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function pA(e){return Array.from(e.getClientRects())}function gA(e){const t=cr(e),n=Sd(e),r=e.ownerDocument.body,s=qt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=qt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Dg(e);const l=-n.scrollTop;return zn(r).direction==="rtl"&&(i+=qt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function vA(e,t){const n=Xt(e),r=cr(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Tg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function xA(e,t){const n=Qs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=ir(e)?ei(e):rr(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function Ly(e,t,n){let r;if(t==="viewport")r=vA(e,n);else if(t==="document")r=gA(cr(e));else if(Un(t))r=xA(t,n);else{const s=Yj(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Du(r)}function Xj(e,t){const n=fs(e);return n===t||!Un(n)||hi(n)?!1:zn(n).position==="fixed"||Xj(n,t)}function yA(e,t){const n=t.get(e);if(n)return n;let r=sl(e,[],!1).filter(l=>Un(l)&&$i(l)!=="body"),s=null;const o=zn(e).position==="fixed";let i=o?fs(e):e;for(;Un(i)&&!hi(i);){const l=zn(i),c=kg(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Rl(i)&&!c&&Xj(e,i))?r=r.filter(d=>d!==i):s=l,i=fs(i)}return t.set(e,r),r}function wA(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Cd(t)?[]:yA(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const h=Ly(t,d,s);return u.top=qt(h.top,u.top),u.right=ds(h.right,u.right),u.bottom=ds(h.bottom,u.bottom),u.left=qt(h.left,u.left),u},Ly(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bA(e){const{width:t,height:n}=Kj(e);return{width:t,height:n}}function jA(e,t,n){const r=ir(t),s=cr(t),o=n==="fixed",i=Qs(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=rr(0);function u(){c.x=Dg(s)}if(r||!r&&!o)if(($i(t)!=="body"||Rl(s))&&(l=Sd(t)),r){const p=Qs(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?Jj(s,l):rr(0),h=i.left+l.scrollLeft-c.x-d.x,m=i.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:i.width,height:i.height}}function If(e){return zn(e).position==="static"}function Fy(e,t){if(!ir(e)||zn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return cr(e)===n&&(n=n.ownerDocument.body),n}function Qj(e,t){const n=Xt(e);if(Cd(e))return n;if(!ir(e)){let s=fs(e);for(;s&&!hi(s);){if(Un(s)&&!If(s))return s;s=fs(s)}return n}let r=Fy(e,t);for(;r&&uA(r)&&If(r);)r=Fy(r,t);return r&&hi(r)&&If(r)&&!kg(r)?n:r||dA(e)||n}const CA=async function(e){const t=this.getOffsetParent||Qj,n=this.getDimensions,r=await n(e.floating);return{reference:jA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SA(e){return zn(e).direction==="rtl"}const NA={convertOffsetParentRelativeRectToViewportRelativeRect:mA,getDocumentElement:cr,getClippingRect:wA,getOffsetParent:Qj,getElementRects:CA,getClientRects:pA,getDimensions:bA,getScale:ei,isElement:Un,isRTL:SA};function Zj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function EA(e,t){let n=null,r;const s=cr(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:p}=u;if(l||t(),!m||!p)return;const w=xc(h),g=xc(s.clientWidth-(d+m)),b=xc(s.clientHeight-(h+p)),v=xc(d),x={rootMargin:-w+"px "+-g+"px "+-b+"px "+-v+"px",threshold:qt(0,ds(1,c))||1};let C=!0;function S(E){const N=E[0].intersectionRatio;if(N!==c){if(!C)return i();N?i(!1,N):r=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!Zj(u,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(e)}return i(!0),o}function eC(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Rg(e),d=s||o?[...u?sl(u):[],...sl(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const h=u&&l?EA(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,g=c?Qs(e):null;c&&b();function b(){const v=Qs(e);g&&!Zj(g,v)&&n(),g=v,w=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const _A=iA,PA=aA,kA=rA,TA=cA,RA=sA,Vy=nA,DA=lA,MA=(e,t,n)=>{const r=new Map,s={platform:NA,...n},o={...s.platform,_c:r};return tA(e,t,{...s,platform:o})};var Jc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Mu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Mu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Mu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function tC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uy(e,t){const n=tC(e);return Math.round(t*n)/n}function Lf(e){const t=f.useRef(e);return Jc(()=>{t.current=e}),t}function nC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(r);Mu(m,r)||p(r);const[w,g]=f.useState(null),[b,v]=f.useState(null),y=f.useCallback(P=>{P!==E.current&&(E.current=P,g(P))},[]),x=f.useCallback(P=>{P!==N.current&&(N.current=P,v(P))},[]),C=o||w,S=i||b,E=f.useRef(null),N=f.useRef(null),_=f.useRef(d),D=c!=null,R=Lf(c),I=Lf(s),O=Lf(u),z=f.useCallback(()=>{if(!E.current||!N.current)return;const P={placement:t,strategy:n,middleware:m};I.current&&(P.platform=I.current),MA(E.current,N.current,P).then(j=>{const k={...j,isPositioned:O.current!==!1};M.current&&!Mu(_.current,k)&&(_.current=k,qn.flushSync(()=>{h(k)}))})},[m,t,n,I,O]);Jc(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[u]);const M=f.useRef(!1);Jc(()=>(M.current=!0,()=>{M.current=!1}),[]),Jc(()=>{if(C&&(E.current=C),S&&(N.current=S),C&&S){if(R.current)return R.current(C,S,z);z()}},[C,S,z,R,D]);const U=f.useMemo(()=>({reference:E,floating:N,setReference:y,setFloating:x}),[y,x]),$=f.useMemo(()=>({reference:C,floating:S}),[C,S]),T=f.useMemo(()=>{const P={position:n,left:0,top:0};if(!$.floating)return P;const j=Uy($.floating,d.x),k=Uy($.floating,d.y);return l?{...P,transform:"translate("+j+"px, "+k+"px)",...tC($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:k}},[n,l,$.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:z,refs:U,elements:$,floatingStyles:T}),[d,z,U,$,T])}const AA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Vy({element:r.current,padding:s}).fn(n):{}:r?Vy({element:r,padding:s}).fn(n):{}}}},rC=(e,t)=>({..._A(e),options:[e,t]}),sC=(e,t)=>({...PA(e),options:[e,t]}),oC=(e,t)=>({...DA(e),options:[e,t]}),iC=(e,t)=>({...kA(e),options:[e,t]}),aC=(e,t)=>({...TA(e),options:[e,t]}),lC=(e,t)=>({...RA(e),options:[e,t]}),cC=(e,t)=>({...AA(e),options:[e,t]});var $A="Arrow",uC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(pe.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});uC.displayName=$A;var OA=uC;function dC(e){const[t,n]=f.useState(void 0);return st(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Mg="Popper",[fC,Oi]=Ot(Mg),[IA,hC]=fC(Mg),mC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return a.jsx(IA,{scope:t,anchor:r,onAnchorChange:s,children:n})};mC.displayName=Mg;var pC="PopperAnchor",gC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=hC(pC,n),i=f.useRef(null),l=be(t,i);return f.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(pe.div,{...s,ref:l})});gC.displayName=pC;var Ag="PopperContent",[LA,FA]=fC(Ag),vC=f.forwardRef((e,t)=>{var H,V,X,re,oe,se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...g}=e,b=hC(Ag,n),[v,y]=f.useState(null),x=be(t,q=>y(q)),[C,S]=f.useState(null),E=dC(C),N=(E==null?void 0:E.width)??0,_=(E==null?void 0:E.height)??0,D=r+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,z={padding:R,boundary:I.filter(UA),altBoundary:O},{refs:M,floatingStyles:U,placement:$,isPositioned:T,middlewareData:P}=nC({strategy:"fixed",placement:D,whileElementsMounted:(...q)=>eC(...q,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[rC({mainAxis:s+_,alignmentAxis:i}),c&&sC({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?oC():void 0,...z}),c&&iC({...z}),aC({...z,apply:({elements:q,rects:te,availableWidth:he,availableHeight:we})=>{const{width:Ve,height:lt}=te.reference,vt=q.floating.style;vt.setProperty("--radix-popper-available-width",`${he}px`),vt.setProperty("--radix-popper-available-height",`${we}px`),vt.setProperty("--radix-popper-anchor-width",`${Ve}px`),vt.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),C&&cC({element:C,padding:l}),zA({arrowWidth:N,arrowHeight:_}),m&&lC({strategy:"referenceHidden",...z})]}),[j,k]=wC($),A=_t(w);st(()=>{T&&(A==null||A())},[T,A]);const L=(H=P.arrow)==null?void 0:H.x,W=(V=P.arrow)==null?void 0:V.y,Y=((X=P.arrow)==null?void 0:X.centerOffset)!==0,[F,G]=f.useState();return st(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:T?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[(re=P.transformOrigin)==null?void 0:re.x,(oe=P.transformOrigin)==null?void 0:oe.y].join(" "),...((se=P.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(LA,{scope:n,placedSide:j,onArrowChange:S,arrowX:L,arrowY:W,shouldHideArrow:Y,children:a.jsx(pe.div,{"data-side":j,"data-align":k,...g,ref:x,style:{...g.style,animation:T?void 0:"none"}})})})});vC.displayName=Ag;var xC="PopperArrow",VA={top:"bottom",right:"left",bottom:"top",left:"right"},yC=f.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=FA(xC,r),i=VA[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(OA,{...s,ref:n,style:{...s.style,display:"block"}})})});yC.displayName=xC;function UA(e){return e!==null}var zA=e=>({name:"transformOrigin",options:e,fn(t){var b,v,y;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=wC(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let w="",g="";return u==="bottom"?(w=i?h:`${m}px`,g=`${-c}px`):u==="top"?(w=i?h:`${m}px`,g=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,g=i?h:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,g=i?h:`${p}px`),{data:{x:w,y:g}}}});function wC(e){const[t,n="center"]=e.split("-");return[t,n]}var $g=mC,Nd=gC,Og=vC,Ig=yC,BA="Portal",Ii=f.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=f.useState(!1);st(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?jj.createPortal(a.jsx(pe.div,{...r,ref:t}),i):null});Ii.displayName=BA;function WA(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var cn=e=>{const{present:t,children:n}=e,r=HA(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),o=be(r.ref,GA(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:o}):null};cn.displayName="Presence";function HA(e){const[t,n]=f.useState(),r=f.useRef(null),s=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=WA(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=yc(r.current);o.current=l==="mounted"?u:"none"},[l]),st(()=>{const u=r.current,d=s.current;if(d!==e){const m=o.current,p=yc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),st(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=yc(r.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(o.current=yc(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function yc(e){return(e==null?void 0:e.animationName)||"none"}function GA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ff="rovingFocusGroup.onEntryFocus",qA={bubbles:!1,cancelable:!0},Dl="RovingFocusGroup",[Rm,bC,KA]=wd(Dl),[YA,Ed]=Ot(Dl,[KA]),[JA,XA]=YA(Dl),jC=f.forwardRef((e,t)=>a.jsx(Rm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Rm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(QA,{...e,ref:t})})}));jC.displayName=Dl;var QA=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=f.useRef(null),p=be(t,m),w=Di(o),[g,b]=or({prop:i,defaultProp:l??null,onChange:c,caller:Dl}),[v,y]=f.useState(!1),x=_t(u),C=bC(n),S=f.useRef(!1),[E,N]=f.useState(0);return f.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(Ff,x),()=>_.removeEventListener(Ff,x)},[x]),a.jsx(JA,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:g,onItemFocus:f.useCallback(_=>b(_),[b]),onItemShiftTab:f.useCallback(()=>y(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(_=>_+1),[]),onFocusableItemRemove:f.useCallback(()=>N(_=>_-1),[]),children:a.jsx(pe.div,{tabIndex:v||E===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{S.current=!0}),onFocus:ee(e.onFocus,_=>{const D=!S.current;if(_.target===_.currentTarget&&D&&!v){const R=new CustomEvent(Ff,qA);if(_.currentTarget.dispatchEvent(R),!R.defaultPrevented){const I=C().filter($=>$.focusable),O=I.find($=>$.active),z=I.find($=>$.id===g),U=[O,z,...I].filter(Boolean).map($=>$.ref.current);NC(U,d)}}S.current=!1}),onBlur:ee(e.onBlur,()=>y(!1))})})}),CC="RovingFocusGroupItem",SC=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=yn(),u=o||c,d=XA(CC,n),h=d.currentTabStopId===u,m=bC(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:g}=d;return f.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),a.jsx(Rm.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(pe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ee(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ee(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=t$(b,d.orientation,d.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=m().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const C=x.indexOf(b.currentTarget);x=d.loop?n$(x,C+1):x.slice(C+1)}setTimeout(()=>NC(x))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:g!=null}):i})})});SC.displayName=CC;var ZA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function t$(e,t,n){const r=e$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ZA[r]}function NC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function n$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var EC=jC,_C=SC,r$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xo=new WeakMap,wc=new WeakMap,bc={},Vf=0,PC=function(e){return e&&(e.host||PC(e.parentNode))},s$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=PC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},o$=function(e,t,n,r){var s=s$(t,Array.isArray(e)?e:[e]);bc[n]||(bc[n]=new WeakMap);var o=bc[n],i=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(r),w=p!==null&&p!=="false",g=(xo.get(m)||0)+1,b=(o.get(m)||0)+1;xo.set(m,g),o.set(m,b),i.push(m),g===1&&w&&wc.set(m,!0),b===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(t),l.clear(),Vf++,function(){i.forEach(function(h){var m=xo.get(h)-1,p=o.get(h)-1;xo.set(h,m),o.set(h,p),m||(wc.has(h)||h.removeAttribute(r),wc.delete(h)),p||h.removeAttribute(n)}),Vf--,Vf||(xo=new WeakMap,xo=new WeakMap,wc=new WeakMap,bc={})}},Ml=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||r$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),o$(r,s,n,"aria-hidden")):function(){return null}},St=function(){return St=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},St.apply(this,arguments)};function Lg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function kC(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var ka="right-scroll-bar-position",Ta="width-before-scroll-bar",i$="with-scroll-bars-hidden",a$="--removed-body-scroll-bar-size";function Uf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function l$(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var c$=typeof window<"u"?f.useLayoutEffect:f.useEffect,zy=new WeakMap;function TC(e,t){var n=l$(t||null,function(r){return e.forEach(function(s){return Uf(s,r)})});return c$(function(){var r=zy.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||Uf(l,null)}),o.forEach(function(l){s.has(l)||Uf(l,i)})}zy.set(n,e)},[e]),n}function u$(e){return e}function d$(e,t){t===void 0&&(t=u$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function RC(e){e===void 0&&(e={});var t=d$(null);return t.options=St({async:!0,ssr:!1},e),t}var DC=function(e){var t=e.sideCar,n=Lg(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,St({},n))};DC.isSideCarExport=!0;function MC(e,t){return e.useMedium(t),DC}var AC=RC(),zf=function(){},_d=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:zf,onWheelCapture:zf,onTouchMoveCapture:zf}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,p=e.noIsolation,w=e.inert,g=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,y=e.gapMode,x=Lg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,S=TC([n,t]),E=St(St({},x),s);return f.createElement(f.Fragment,null,d&&f.createElement(C,{sideCar:AC,removeScrollBar:u,shards:h,noIsolation:p,inert:w,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:y}),i?f.cloneElement(f.Children.only(l),St(St({},E),{ref:S})):f.createElement(v,St({},E,{className:c,ref:S}),l))});_d.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_d.classNames={fullWidth:Ta,zeroRight:ka};var By,f$=function(){if(By)return By;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function h$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=f$();return t&&e.setAttribute("nonce",t),e}function m$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function p$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var g$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=h$())&&(m$(t,n),p$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},v$=function(){var e=g$();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Fg=function(){var e=v$(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},x$={left:0,top:0,right:0,gap:0},Bf=function(e){return parseInt(e||"",10)||0},y$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Bf(n),Bf(r),Bf(s)]},w$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return x$;var t=y$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},b$=Fg(),ti="data-scroll-locked",j$=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(i$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ti,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ka,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ta,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ka," .").concat(ka,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ta," .").concat(Ta,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ti,`] {
    `).concat(a$,": ").concat(l,`px;
  }
`)},Wy=function(){var e=parseInt(document.body.getAttribute(ti)||"0",10);return isFinite(e)?e:0},C$=function(){f.useEffect(function(){return document.body.setAttribute(ti,(Wy()+1).toString()),function(){var e=Wy()-1;e<=0?document.body.removeAttribute(ti):document.body.setAttribute(ti,e.toString())}},[])},$C=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;C$();var o=f.useMemo(function(){return w$(s)},[s]);return f.createElement(b$,{styles:j$(o,!t,s,n?"":"!important")})},Dm=!1;if(typeof window<"u")try{var jc=Object.defineProperty({},"passive",{get:function(){return Dm=!0,!0}});window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{Dm=!1}var yo=Dm?{passive:!1}:!1,S$=function(e){return e.tagName==="TEXTAREA"},OC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!S$(e)&&n[t]==="visible")},N$=function(e){return OC(e,"overflowY")},E$=function(e){return OC(e,"overflowX")},Hy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=IC(e,r);if(s){var o=LC(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},P$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},IC=function(e,t){return e==="v"?N$(t):E$(t)},LC=function(e,t){return e==="v"?_$(t):P$(t)},k$=function(e,t){return e==="h"&&t==="rtl"?-1:1},T$=function(e,t,n,r,s){var o=k$(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,h=0,m=0;do{var p=LC(e,l),w=p[0],g=p[1],b=p[2],v=g-b-o*w;(w||v)&&IC(e,l)&&(h+=v,m+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(h)<1||!s&&i>h)||!d&&(s&&Math.abs(m)<1||!s&&-i>m))&&(u=!0),u},Cc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Gy=function(e){return[e.deltaX,e.deltaY]},qy=function(e){return e&&"current"in e?e.current:e},R$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},D$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},M$=0,wo=[];function A$(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(M$++)[0],o=f.useState(Fg)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=kC([e.lockRef.current],(e.shards||[]).map(qy),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var v=Cc(g),y=n.current,x="deltaX"in g?g.deltaX:y[0]-v[0],C="deltaY"in g?g.deltaY:y[1]-v[1],S,E=g.target,N=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in g&&N==="h"&&E.type==="range")return!1;var _=Hy(N,E);if(!_)return!0;if(_?S=N:(S=N==="v"?"h":"v",_=Hy(N,E)),!_)return!1;if(!r.current&&"changedTouches"in g&&(x||C)&&(r.current=S),!S)return!0;var D=r.current||S;return T$(D,b,g,D==="h"?x:C,!0)},[]),c=f.useCallback(function(g){var b=g;if(!(!wo.length||wo[wo.length-1]!==o)){var v="deltaY"in b?Gy(b):Cc(b),y=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&R$(S.delta,v)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var x=(i.current.shards||[]).map(qy).filter(Boolean).filter(function(S){return S.contains(b.target)}),C=x.length>0?l(b,x[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(g,b,v,y){var x={name:g,delta:b,target:v,should:y,shadowParent:$$(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),d=f.useCallback(function(g){n.current=Cc(g),r.current=void 0},[]),h=f.useCallback(function(g){u(g.type,Gy(g),g.target,l(g,e.lockRef.current))},[]),m=f.useCallback(function(g){u(g.type,Cc(g),g.target,l(g,e.lockRef.current))},[]);f.useEffect(function(){return wo.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,yo),document.addEventListener("touchmove",c,yo),document.addEventListener("touchstart",d,yo),function(){wo=wo.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,yo),document.removeEventListener("touchmove",c,yo),document.removeEventListener("touchstart",d,yo)}},[]);var p=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(o,{styles:D$(s)}):null,p?f.createElement($C,{gapMode:e.gapMode}):null)}function $$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const O$=MC(AC,A$);var FC=f.forwardRef(function(e,t){return f.createElement(_d,St({},e,{ref:t,sideCar:O$}))});FC.classNames=_d.classNames;const Pd=FC;var Mm=["Enter"," "],I$=["ArrowDown","PageUp","Home"],VC=["ArrowUp","PageDown","End"],L$=[...I$,...VC],F$={ltr:[...Mm,"ArrowRight"],rtl:[...Mm,"ArrowLeft"]},V$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Al="Menu",[ol,U$,z$]=wd(Al),[co,UC]=Ot(Al,[z$,Oi,Ed]),kd=Oi(),zC=Ed(),[B$,uo]=co(Al),[W$,$l]=co(Al),BC=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,l=kd(t),[c,u]=f.useState(null),d=f.useRef(!1),h=_t(o),m=Di(s);return f.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx($g,{...l,children:a.jsx(B$,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:a.jsx(W$,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:i,children:r})})})};BC.displayName=Al;var H$="MenuAnchor",Vg=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=kd(n);return a.jsx(Nd,{...s,...r,ref:t})});Vg.displayName=H$;var Ug="MenuPortal",[G$,WC]=co(Ug,{forceMount:void 0}),HC=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=uo(Ug,t);return a.jsx(G$,{scope:t,forceMount:n,children:a.jsx(cn,{present:n||o.open,children:a.jsx(Ii,{asChild:!0,container:s,children:r})})})};HC.displayName=Ug;var wn="MenuContent",[q$,zg]=co(wn),GC=f.forwardRef((e,t)=>{const n=WC(wn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=uo(wn,e.__scopeMenu),i=$l(wn,e.__scopeMenu);return a.jsx(ol.Provider,{scope:e.__scopeMenu,children:a.jsx(cn,{present:r||o.open,children:a.jsx(ol.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(K$,{...s,ref:t}):a.jsx(Y$,{...s,ref:t})})})})}),K$=f.forwardRef((e,t)=>{const n=uo(wn,e.__scopeMenu),r=f.useRef(null),s=be(t,r);return f.useEffect(()=>{const o=r.current;if(o)return Ml(o)},[]),a.jsx(Bg,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Y$=f.forwardRef((e,t)=>{const n=uo(wn,e.__scopeMenu);return a.jsx(Bg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),J$=us("MenuContent.ScrollLock"),Bg=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:w,...g}=e,b=uo(wn,n),v=$l(wn,n),y=kd(n),x=zC(n),C=U$(n),[S,E]=f.useState(null),N=f.useRef(null),_=be(t,N,b.onContentChange),D=f.useRef(0),R=f.useRef(""),I=f.useRef(0),O=f.useRef(null),z=f.useRef("right"),M=f.useRef(0),U=w?Pd:f.Fragment,$=w?{as:J$,allowPinchZoom:!0}:void 0,T=j=>{var H,V;const k=R.current+j,A=C().filter(X=>!X.disabled),L=document.activeElement,W=(H=A.find(X=>X.ref.current===L))==null?void 0:H.textValue,Y=A.map(X=>X.textValue),F=lO(Y,k,W),G=(V=A.find(X=>X.textValue===F))==null?void 0:V.ref.current;(function X(re){R.current=re,window.clearTimeout(D.current),re!==""&&(D.current=window.setTimeout(()=>X(""),1e3))})(k),G&&setTimeout(()=>G.focus())};f.useEffect(()=>()=>window.clearTimeout(D.current),[]),bd();const P=f.useCallback(j=>{var A,L;return z.current===((A=O.current)==null?void 0:A.side)&&uO(j,(L=O.current)==null?void 0:L.area)},[]);return a.jsx(q$,{scope:n,searchRef:R,onItemEnter:f.useCallback(j=>{P(j)&&j.preventDefault()},[P]),onItemLeave:f.useCallback(j=>{var k;P(j)||((k=N.current)==null||k.focus(),E(null))},[P]),onTriggerLeave:f.useCallback(j=>{P(j)&&j.preventDefault()},[P]),pointerGraceTimerRef:I,onPointerGraceIntentChange:f.useCallback(j=>{O.current=j},[]),children:a.jsx(U,{...$,children:a.jsx(Tl,{asChild:!0,trapped:s,onMountAutoFocus:ee(o,j=>{var k;j.preventDefault(),(k=N.current)==null||k.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Mi,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:a.jsx(EC,{asChild:!0,...x,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:ee(c,j=>{v.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Og,{role:"menu","aria-orientation":"vertical","data-state":lS(b.open),"data-radix-menu-content":"",dir:v.dir,...y,...g,ref:_,style:{outline:"none",...g.style},onKeyDown:ee(g.onKeyDown,j=>{const A=j.target.closest("[data-radix-menu-content]")===j.currentTarget,L=j.ctrlKey||j.altKey||j.metaKey,W=j.key.length===1;A&&(j.key==="Tab"&&j.preventDefault(),!L&&W&&T(j.key));const Y=N.current;if(j.target!==Y||!L$.includes(j.key))return;j.preventDefault();const G=C().filter(H=>!H.disabled).map(H=>H.ref.current);VC.includes(j.key)&&G.reverse(),iO(G)}),onBlur:ee(e.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(D.current),R.current="")}),onPointerMove:ee(e.onPointerMove,il(j=>{const k=j.target,A=M.current!==j.clientX;if(j.currentTarget.contains(k)&&A){const L=j.clientX>M.current?"right":"left";z.current=L,M.current=j.clientX}}))})})})})})})});GC.displayName=wn;var X$="MenuGroup",Wg=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(pe.div,{role:"group",...r,ref:t})});Wg.displayName=X$;var Q$="MenuLabel",qC=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(pe.div,{...r,ref:t})});qC.displayName=Q$;var Au="MenuItem",Ky="menu.itemSelect",Td=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=f.useRef(null),i=$l(Au,e.__scopeMenu),l=zg(Au,e.__scopeMenu),c=be(t,o),u=f.useRef(!1),d=()=>{const h=o.current;if(!n&&h){const m=new CustomEvent(Ky,{bubbles:!0,cancelable:!0});h.addEventListener(Ky,p=>r==null?void 0:r(p),{once:!0}),Ng(h,m),m.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(KC,{...s,ref:c,disabled:n,onClick:ee(e.onClick,d),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),u.current=!0},onPointerUp:ee(e.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:ee(e.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||Mm.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Td.displayName=Au;var KC=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=zg(Au,n),l=zC(n),c=f.useRef(null),u=be(t,c),[d,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[o.children]),a.jsx(ol.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:a.jsx(_C,{asChild:!0,...l,focusable:!r,children:a.jsx(pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:ee(e.onPointerMove,il(w=>{r?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(e.onPointerLeave,il(w=>i.onItemLeave(w))),onFocus:ee(e.onFocus,()=>h(!0)),onBlur:ee(e.onBlur,()=>h(!1))})})})}),Z$="MenuCheckboxItem",YC=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(eS,{scope:e.__scopeMenu,checked:n,children:a.jsx(Td,{role:"menuitemcheckbox","aria-checked":$u(n)?"mixed":n,...s,ref:t,"data-state":Gg(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r($u(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YC.displayName=Z$;var JC="MenuRadioGroup",[eO,tO]=co(JC,{value:void 0,onValueChange:()=>{}}),XC=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=_t(r);return a.jsx(eO,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx(Wg,{...s,ref:t})})});XC.displayName=JC;var QC="MenuRadioItem",ZC=f.forwardRef((e,t)=>{const{value:n,...r}=e,s=tO(QC,e.__scopeMenu),o=n===s.value;return a.jsx(eS,{scope:e.__scopeMenu,checked:o,children:a.jsx(Td,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Gg(o),onSelect:ee(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});ZC.displayName=QC;var Hg="MenuItemIndicator",[eS,nO]=co(Hg,{checked:!1}),tS=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=nO(Hg,n);return a.jsx(cn,{present:r||$u(o.checked)||o.checked===!0,children:a.jsx(pe.span,{...s,ref:t,"data-state":Gg(o.checked)})})});tS.displayName=Hg;var rO="MenuSeparator",nS=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});nS.displayName=rO;var sO="MenuArrow",rS=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=kd(n);return a.jsx(Ig,{...s,...r,ref:t})});rS.displayName=sO;var oO="MenuSub",[CG,sS]=co(oO),ma="MenuSubTrigger",oS=f.forwardRef((e,t)=>{const n=uo(ma,e.__scopeMenu),r=$l(ma,e.__scopeMenu),s=sS(ma,e.__scopeMenu),o=zg(ma,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(Vg,{asChild:!0,...u,children:a.jsx(KC,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":lS(n.open),...e,ref:kl(t,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(e.onPointerMove,il(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ee(e.onPointerLeave,il(h=>{var p,w;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(w=n.content)==null?void 0:w.dataset.side,b=g==="right",v=b?-5:5,y=m[b?"left":"right"],x=m[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:y,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ee(e.onKeyDown,h=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&h.key===" "||F$[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});oS.displayName=ma;var iS="MenuSubContent",aS=f.forwardRef((e,t)=>{const n=WC(wn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=uo(wn,e.__scopeMenu),i=$l(wn,e.__scopeMenu),l=sS(iS,e.__scopeMenu),c=f.useRef(null),u=be(t,c);return a.jsx(ol.Provider,{scope:e.__scopeMenu,children:a.jsx(cn,{present:r||o.open,children:a.jsx(ol.Slot,{scope:e.__scopeMenu,children:a.jsx(Bg,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ee(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ee(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:ee(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),m=V$[i.dir].includes(d.key);h&&m&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});aS.displayName=iS;function lS(e){return e?"open":"closed"}function $u(e){return e==="indeterminate"}function Gg(e){return $u(e)?"indeterminate":e?"checked":"unchecked"}function iO(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function aO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function lO(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=aO(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function cO(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,h=c.x,m=c.y;d>r!=m>r&&n<(h-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function uO(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return cO(n,t)}function il(e){return t=>t.pointerType==="mouse"?e(t):void 0}var dO=BC,fO=Vg,hO=HC,mO=GC,pO=Wg,gO=qC,vO=Td,xO=YC,yO=XC,wO=ZC,bO=tS,jO=nS,CO=rS,SO=oS,NO=aS,Rd="DropdownMenu",[EO,SG]=Ot(Rd,[UC]),It=UC(),[_O,cS]=EO(Rd),uS=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=It(t),u=f.useRef(null),[d,h]=or({prop:s,defaultProp:o??!1,onChange:i,caller:Rd});return a.jsx(_O,{scope:t,triggerId:yn(),triggerRef:u,contentId:yn(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:a.jsx(dO,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};uS.displayName=Rd;var dS="DropdownMenuTrigger",fS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=cS(dS,n),i=It(n);return a.jsx(fO,{asChild:!0,...i,children:a.jsx(pe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:kl(t,o.triggerRef),onPointerDown:ee(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ee(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});fS.displayName=dS;var PO="DropdownMenuPortal",hS=e=>{const{__scopeDropdownMenu:t,...n}=e,r=It(t);return a.jsx(hO,{...r,...n})};hS.displayName=PO;var mS="DropdownMenuContent",pS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cS(mS,n),o=It(n),i=f.useRef(!1);return a.jsx(mO,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:ee(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ee(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pS.displayName=mS;var kO="DropdownMenuGroup",TO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(pO,{...s,...r,ref:t})});TO.displayName=kO;var RO="DropdownMenuLabel",gS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(gO,{...s,...r,ref:t})});gS.displayName=RO;var DO="DropdownMenuItem",vS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(vO,{...s,...r,ref:t})});vS.displayName=DO;var MO="DropdownMenuCheckboxItem",xS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(xO,{...s,...r,ref:t})});xS.displayName=MO;var AO="DropdownMenuRadioGroup",$O=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(yO,{...s,...r,ref:t})});$O.displayName=AO;var OO="DropdownMenuRadioItem",yS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(wO,{...s,...r,ref:t})});yS.displayName=OO;var IO="DropdownMenuItemIndicator",wS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(bO,{...s,...r,ref:t})});wS.displayName=IO;var LO="DropdownMenuSeparator",bS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(jO,{...s,...r,ref:t})});bS.displayName=LO;var FO="DropdownMenuArrow",VO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(CO,{...s,...r,ref:t})});VO.displayName=FO;var UO="DropdownMenuSubTrigger",jS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(SO,{...s,...r,ref:t})});jS.displayName=UO;var zO="DropdownMenuSubContent",CS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=It(n);return a.jsx(NO,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CS.displayName=zO;var BO=uS,WO=fS,HO=hS,SS=pS,NS=gS,ES=vS,_S=xS,PS=yS,kS=wS,TS=bS,RS=jS,DS=CS,GO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ne=(e,t)=>{const n=f.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},u)=>f.createElement("svg",{ref:u,...GO,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${qO(e)}`,...c},[...t.map(([d,h])=>f.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},MS=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),KO=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),al=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),YO=ne("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),JO=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),AS=ne("BarChartHorizontalBig",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["rect",{width:"12",height:"4",x:"7",y:"5",rx:"1",key:"936jl1"}],["rect",{width:"7",height:"4",x:"7",y:"13",rx:"1",key:"jqfkpy"}]]),Yy=ne("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),XO=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ou=ne("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),$S=ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),QO=ne("CalendarCheck2",[["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]),ZO=ne("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),OS=ne("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Jy=ne("CalendarOff",[["path",{d:"M4.18 4.18A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"1feomx"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Iu=ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),bn=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),e4=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),On=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),qg=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),IS=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),LS=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Kg=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),t4=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),n4=ne("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),FS=ne("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),VS=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Yr=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xy=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Am=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Yg=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Jg=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Dd=ne("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),Xg=ne("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),r4=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Qy=ne("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]),s4=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),o4=ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),i4=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),US=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ll=ne("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),a4=ne("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),Fn=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),$m=ne("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Md=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),l4=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),c4=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Zy=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),e0=ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),t0=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),zS=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Ol=ne("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),u4=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Qg=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),d4=ne("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Li=ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),n0=ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),f4=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),h4=ne("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),Ad=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),BS=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),r0=ne("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Pr=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Zg=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pa=ne("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),m4=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),s0=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),o0=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ev=ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),fo=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Lu=ne("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),p4=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),WS=ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Fu=ne("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),g4=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ut=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),i0=ne("Users2",[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8",key:"hqbn22"}]]),ar=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Il=ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Gs=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Vu=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),a0=BO,l0=WO,v4=Z.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(RS,{ref:s,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(Kg,{className:"ml-auto h-4 w-4"})]}));v4.displayName=RS.displayName;const x4=Z.forwardRef(({className:e,...t},n)=>a.jsx(DS,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));x4.displayName=DS.displayName;const Om=Z.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(HO,{children:a.jsx(SS,{ref:r,sideOffset:t,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Om.displayName=SS.displayName;const Xc=Z.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(ES,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Xc.displayName=ES.displayName;const y4=Z.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(_S,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(kS,{children:a.jsx(qg,{className:"h-4 w-4"})})}),t]}));y4.displayName=_S.displayName;const w4=Z.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(PS,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(kS,{children:a.jsx(VS,{className:"h-2 w-2 fill-current"})})}),t]}));w4.displayName=PS.displayName;const Qc=Z.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(NS,{ref:r,className:ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Qc.displayName=NS.displayName;const Zc=Z.forwardRef(({className:e,...t},n)=>a.jsx(TS,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));Zc.displayName=TS.displayName;var HS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),b4="VisuallyHidden",tv=f.forwardRef((e,t)=>a.jsx(pe.span,{...e,ref:t,style:{...HS,...e.style}}));tv.displayName=b4;var nv="ToastProvider",[rv,j4,C4]=wd("Toast"),[GS,NG]=Ot("Toast",[C4]),[S4,$d]=GS(nv),qS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=f.useState(null),[u,d]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${nv}\`. Expected non-empty \`string\`.`),a.jsx(rv.Provider,{scope:t,children:a.jsx(S4,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>d(p=>p+1),[]),onToastRemove:f.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};qS.displayName=nv;var KS="ToastViewport",N4=["F8"],Im="toast.viewportPause",Lm="toast.viewportResume",YS=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=N4,label:s="Notifications ({hotkey})",...o}=e,i=$d(KS,n),l=j4(n),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),m=be(t,h,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;f.useEffect(()=>{const b=v=>{var x;r.length!==0&&r.every(C=>v[C]||v.code===C)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),f.useEffect(()=>{const b=c.current,v=h.current;if(w&&b&&v){const y=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(Im);v.dispatchEvent(E),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Lm);v.dispatchEvent(E),i.isClosePausedRef.current=!1}},C=E=>{!b.contains(E.relatedTarget)&&x()},S=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",y),b.addEventListener("focusout",C),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[w,i.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:b})=>{const y=l().map(x=>{const C=x.ref.current,S=[C,...L4(C)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return f.useEffect(()=>{const b=h.current;if(b){const v=y=>{var S,E,N;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const _=document.activeElement,D=y.shiftKey;if(y.target===b&&D){(S=u.current)==null||S.focus();return}const O=g({tabbingDirection:D?"backwards":"forwards"}),z=O.findIndex(M=>M===_);Wf(O.slice(z+1))?y.preventDefault():D?(E=u.current)==null||E.focus():(N=d.current)==null||N.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[l,g]),a.jsxs(IM,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(Fm,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});Wf(b)}}),a.jsx(rv.Slot,{scope:n,children:a.jsx(pe.ol,{tabIndex:-1,...o,ref:m})}),w&&a.jsx(Fm,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});Wf(b)}})]})});YS.displayName=KS;var JS="ToastFocusProxy",Fm=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=$d(JS,n);return a.jsx(tv,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});Fm.displayName=JS;var Ll="Toast",E4="toast.swipeStart",_4="toast.swipeMove",P4="toast.swipeCancel",k4="toast.swipeEnd",XS=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=or({prop:r,defaultProp:s??!0,onChange:o,caller:Ll});return a.jsx(cn,{present:n||l,children:a.jsx(D4,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:_t(e.onPause),onResume:_t(e.onResume),onSwipeStart:ee(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ee(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});XS.displayName=Ll;var[T4,R4]=GS(Ll,{onClose(){}}),D4=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...w}=e,g=$d(Ll,n),[b,v]=f.useState(null),y=be(t,M=>v(M)),x=f.useRef(null),C=f.useRef(null),S=s||g.duration,E=f.useRef(0),N=f.useRef(S),_=f.useRef(0),{onToastAdd:D,onToastRemove:R}=g,I=_t(()=>{var U;(b==null?void 0:b.contains(document.activeElement))&&((U=g.viewport)==null||U.focus()),i()}),O=f.useCallback(M=>{!M||M===1/0||(window.clearTimeout(_.current),E.current=new Date().getTime(),_.current=window.setTimeout(I,M))},[I]);f.useEffect(()=>{const M=g.viewport;if(M){const U=()=>{O(N.current),u==null||u()},$=()=>{const T=new Date().getTime()-E.current;N.current=N.current-T,window.clearTimeout(_.current),c==null||c()};return M.addEventListener(Im,$),M.addEventListener(Lm,U),()=>{M.removeEventListener(Im,$),M.removeEventListener(Lm,U)}}},[g.viewport,S,c,u,O]),f.useEffect(()=>{o&&!g.isClosePausedRef.current&&O(S)},[o,S,g.isClosePausedRef,O]),f.useEffect(()=>(D(),()=>R()),[D,R]);const z=f.useMemo(()=>b?sN(b):null,[b]);return g.viewport?a.jsxs(a.Fragment,{children:[z&&a.jsx(M4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),a.jsx(T4,{scope:n,onClose:I,children:qn.createPortal(a.jsx(rv.ItemSlot,{scope:n,children:a.jsx(OM,{asChild:!0,onEscapeKeyDown:ee(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ee(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ee(e.onPointerDown,M=>{M.button===0&&(x.current={x:M.clientX,y:M.clientY})}),onPointerMove:ee(e.onPointerMove,M=>{if(!x.current)return;const U=M.clientX-x.current.x,$=M.clientY-x.current.y,T=!!C.current,P=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,k=P?j(0,U):0,A=P?0:j(0,$),L=M.pointerType==="touch"?10:2,W={x:k,y:A},Y={originalEvent:M,delta:W};T?(C.current=W,Sc(_4,h,Y,{discrete:!1})):c0(W,g.swipeDirection,L)?(C.current=W,Sc(E4,d,Y,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(U)>L||Math.abs($)>L)&&(x.current=null)}),onPointerUp:ee(e.onPointerUp,M=>{const U=C.current,$=M.target;if($.hasPointerCapture(M.pointerId)&&$.releasePointerCapture(M.pointerId),C.current=null,x.current=null,U){const T=M.currentTarget,P={originalEvent:M,delta:U};c0(U,g.swipeDirection,g.swipeThreshold)?Sc(k4,p,P,{discrete:!0}):Sc(P4,m,P,{discrete:!0}),T.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),M4=e=>{const{__scopeToast:t,children:n,...r}=e,s=$d(Ll,t),[o,i]=f.useState(!1),[l,c]=f.useState(!1);return O4(()=>i(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Ii,{asChild:!0,children:a.jsx(tv,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},A4="ToastTitle",QS=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(pe.div,{...r,ref:t})});QS.displayName=A4;var $4="ToastDescription",ZS=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(pe.div,{...r,ref:t})});ZS.displayName=$4;var eN="ToastAction",tN=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(rN,{altText:n,asChild:!0,children:a.jsx(sv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${eN}\`. Expected non-empty \`string\`.`),null)});tN.displayName=eN;var nN="ToastClose",sv=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=R4(nN,n);return a.jsx(rN,{asChild:!0,children:a.jsx(pe.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,s.onClose)})})});sv.displayName=nN;var rN=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function sN(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),I4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...sN(r))}}),t}function Sc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Ng(s,o):s.dispatchEvent(o)}var c0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function O4(e=()=>{}){const t=_t(e);st(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function I4(e){return e.nodeType===e.ELEMENT_NODE}function L4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Wf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var F4=qS,oN=YS,iN=XS,aN=QS,lN=ZS,cN=tN,uN=sv;const V4=F4,dN=Z.forwardRef(({className:e,...t},n)=>a.jsx(oN,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));dN.displayName=oN.displayName;const U4=yd("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fN=Z.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(iN,{ref:r,className:ce(U4({variant:t}),e),...n}));fN.displayName=iN.displayName;const z4=Z.forwardRef(({className:e,...t},n)=>a.jsx(cN,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));z4.displayName=cN.displayName;const hN=Z.forwardRef(({className:e,...t},n)=>a.jsx(uN,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Vu,{className:"h-4 w-4"})}));hN.displayName=uN.displayName;const mN=Z.forwardRef(({className:e,...t},n)=>a.jsx(aN,{ref:n,className:ce("text-sm font-semibold",e),...t}));mN.displayName=aN.displayName;const pN=Z.forwardRef(({className:e,...t},n)=>a.jsx(lN,{ref:n,className:ce("text-sm opacity-90",e),...t}));pN.displayName=lN.displayName;const B4=1;let Hf=0;function W4(){return Hf=(Hf+1)%Number.MAX_VALUE,Hf.toString()}const Pt={state:{toasts:[]},listeners:[],getState:()=>Pt.state,setState:e=>{typeof e=="function"?Pt.state=e(Pt.state):Pt.state={...Pt.state,...e},Pt.listeners.forEach(t=>t(Pt.state))},subscribe:e=>(Pt.listeners.push(e),()=>{Pt.listeners=Pt.listeners.filter(t=>t!==e)})},H4=({...e})=>{const t=W4(),n=s=>Pt.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...s}:i)})),r=()=>Pt.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==t)}));return Pt.setState(s=>({...s,toasts:[{...e,id:t,dismiss:r},...s.toasts].slice(0,B4)})),{id:t,dismiss:r,update:n}};function Qe(){const[e,t]=f.useState(Pt.getState());return f.useEffect(()=>Pt.subscribe(r=>{t(r)}),[]),f.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:H4,toasts:e.toasts}}function gN(){const{toasts:e}=Qe();return a.jsxs(V4,{children:[e.map(({id:t,title:n,description:r,action:s,...o})=>a.jsxs(fN,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(mN,{children:n}),r&&a.jsx(pN,{children:r})]}),s,a.jsx(hN,{})]},t)),a.jsx(dN,{})]})}const vN=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Od=f.createContext({}),Id=f.createContext(null),Ld=typeof document<"u",ov=Ld?f.useLayoutEffect:f.useEffect,xN=f.createContext({strict:!1}),iv=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),G4="framerAppearId",yN="data-"+iv(G4);function q4(e,t,n,r){const{visualElement:s}=f.useContext(Od),o=f.useContext(xN),i=f.useContext(Id),l=f.useContext(vN).reducedMotion,c=f.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;f.useInsertionEffect(()=>{u&&u.update(n,i)});const d=f.useRef(!!(n[yN]&&!window.HandoffComplete));return ov(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),f.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function K4(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Wo(n)&&(n.current=r))},[t])}function cl(e){return typeof e=="string"||Array.isArray(e)}function Fd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const av=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lv=["initial",...av];function Vd(e){return Fd(e.animate)||lv.some(t=>cl(e[t]))}function wN(e){return!!(Vd(e)||e.variants)}function Y4(e,t){if(Vd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||cl(n)?n:void 0,animate:cl(r)?r:void 0}}return e.inherit!==!1?t:{}}function J4(e){const{initial:t,animate:n}=Y4(e,f.useContext(Od));return f.useMemo(()=>({initial:t,animate:n}),[u0(t),u0(n)])}function u0(e){return Array.isArray(e)?e.join(" "):e}const d0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ul={};for(const e in d0)ul[e]={isEnabled:t=>d0[e].some(n=>!!t[n])};function X4(e){for(const t in e)ul[t]={...ul[t],...e[t]}}const cv=f.createContext({}),bN=f.createContext({}),Q4=Symbol.for("motionComponentSymbol");function Z4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&X4(e);function o(l,c){let u;const d={...f.useContext(vN),...l,layoutId:eI(l)},{isStatic:h}=d,m=J4(l),p=r(l,h);if(!h&&Ld){m.visualElement=q4(s,p,d,t);const w=f.useContext(bN),g=f.useContext(xN).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,g,e,w))}return f.createElement(Od.Provider,{value:m},u&&m.visualElement?f.createElement(u,{visualElement:m.visualElement,...d}):null,n(s,l,K4(p,m.visualElement,c),p,h,m.visualElement))}const i=f.forwardRef(o);return i[Q4]=s,i}function eI({layoutId:e}){const t=f.useContext(cv).id;return t&&e!==void 0?t+"-"+e:e}function tI(e){function t(r,s={}){return Z4(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const nI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uv(e){return typeof e!="string"||e.includes("-")?!1:!!(nI.indexOf(e)>-1||/[A-Z]/.test(e))}const Uu={};function rI(e){Object.assign(Uu,e)}const Fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ho=new Set(Fl);function jN(e,{layout:t,layoutId:n}){return ho.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Uu[e]||e==="opacity")}const Bt=e=>!!(e&&e.getVelocity),sI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oI=Fl.length;function iI(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<oI;i++){const l=Fl[i];if(e[l]!==void 0){const c=sI[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):n&&r&&(o="none"),o}const CN=e=>t=>typeof t=="string"&&t.startsWith(e),SN=CN("--"),Vm=CN("var(--"),aI=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,lI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,hs=(e,t,n)=>Math.min(Math.max(n,e),t),mo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ra={...mo,transform:e=>hs(0,1,e)},Nc={...mo,default:1},Da=e=>Math.round(e*1e5)/1e5,Ud=/(-)?([\d]*\.?[\d])+/g,NN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cI=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Vl(e){return typeof e=="string"}const Ul=e=>({test:t=>Vl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ir=Ul("deg"),sr=Ul("%"),ge=Ul("px"),uI=Ul("vh"),dI=Ul("vw"),f0={...sr,parse:e=>sr.parse(e)/100,transform:e=>sr.transform(e*100)},h0={...mo,transform:Math.round},EN={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,size:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:Nc,scaleX:Nc,scaleY:Nc,scaleZ:Nc,skew:Ir,skewX:Ir,skewY:Ir,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Ra,originX:f0,originY:f0,originZ:ge,zIndex:h0,fillOpacity:Ra,strokeOpacity:Ra,numOctaves:h0};function dv(e,t,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const m=t[h];if(SN(h)){o[h]=m;continue}const p=EN[h],w=lI(m,p);if(ho.has(h)){if(c=!0,i[h]=w,!d)continue;m!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=w):s[h]=w}if(t.transform||(c||r?s.transform=iI(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:p=0}=l;s.transformOrigin=`${h} ${m} ${p}`}}const fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _N(e,t,n){for(const r in t)!Bt(t[r])&&!jN(r,n)&&(e[r]=t[r])}function fI({transformTemplate:e},t,n){return f.useMemo(()=>{const r=fv();return dv(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function hI(e,t,n){const r=e.style||{},s={};return _N(s,r,e),Object.assign(s,fI(e,t,n)),e.transformValues?e.transformValues(s):s}function mI(e,t,n){const r={},s=hI(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const pI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pI.has(e)}let PN=e=>!zu(e);function gI(e){e&&(PN=t=>t.startsWith("on")?!zu(t):e(t))}try{gI(require("@emotion/is-prop-valid").default)}catch{}function vI(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(PN(s)||n===!0&&zu(s)||!t&&!zu(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function m0(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function xI(e,t,n){const r=m0(t,e.x,e.width),s=m0(n,e.y,e.height);return`${r} ${s}`}const yI={offset:"stroke-dashoffset",array:"stroke-dasharray"},wI={offset:"strokeDashoffset",array:"strokeDasharray"};function bI(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?yI:wI;e[o.offset]=ge.transform(-r);const i=ge.transform(t),l=ge.transform(n);e[o.array]=`${i} ${l}`}function hv(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,h,m){if(dv(e,u,d,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:w,dimensions:g}=e;p.transform&&(g&&(w.transform=p.transform),delete p.transform),g&&(s!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=xI(g,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&bI(p,i,l,c,!1)}const kN=()=>({...fv(),attrs:{}}),mv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jI(e,t,n,r){const s=f.useMemo(()=>{const o=kN();return hv(o,t,{enableHardwareAcceleration:!1},mv(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};_N(o,e.style,e),s.style={...o,...s.style}}return s}function CI(e=!1){return(n,r,s,{latestValues:o},i)=>{const c=(uv(n)?jI:mI)(r,o,i,n),d={...vI(r,typeof n=="string",e),...c,ref:s},{children:h}=r,m=f.useMemo(()=>Bt(h)?h.get():h,[h]);return f.createElement(n,{...d,children:m})}}function TN(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const RN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DN(e,t,n,r){TN(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(RN.has(s)?s:iv(s),t.attrs[s])}function pv(e,t){const{style:n}=e,r={};for(const s in n)(Bt(n[s])||t.style&&Bt(t.style[s])||jN(s,e))&&(r[s]=n[s]);return r}function MN(e,t){const n=pv(e,t);for(const r in e)if(Bt(e[r])||Bt(t[r])){const s=Fl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function gv(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function AN(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bu=e=>Array.isArray(e),SI=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),NI=e=>Bu(e)?e[e.length-1]||0:e;function eu(e){const t=Bt(e)?e.get():e;return SI(t)?t.toValue():t}function EI({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o){const i={latestValues:_I(r,s,o,e),renderState:t()};return n&&(i.mount=l=>n(r,l,i)),i}const $N=e=>(t,n)=>{const r=f.useContext(Od),s=f.useContext(Id),o=()=>EI(e,t,r,s);return n?o():AN(o)};function _I(e,t,n,r){const s={},o=r(e,{});for(const m in o)s[m]=eu(o[m]);let{initial:i,animate:l}=e;const c=Vd(e),u=wN(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const h=d?l:i;return h&&typeof h!="boolean"&&!Fd(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const w=gv(e,p);if(!w)return;const{transitionEnd:g,transition:b,...v}=w;for(const y in v){let x=v[y];if(Array.isArray(x)){const C=d?x.length-1:0;x=x[C]}x!==null&&(s[y]=x)}for(const y in g)s[y]=g[y]}),s}const Xe=e=>e;class p0{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function PI(e){let t=new p0,n=new p0,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&s,m=h?t:n;return u&&i.add(c),m.add(c)&&h&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),i.has(d)&&(l.schedule(d),e())}s=!1,o&&(o=!1,l.process(c))}};return l}const Ec=["prepare","read","update","preRender","render","postRender"],kI=40;function TI(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Ec.reduce((h,m)=>(h[m]=PI(()=>n=!0),h),{}),i=h=>o[h].process(s),l=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,kI),1),s.timestamp=h,s.isProcessing=!0,Ec.forEach(i),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:Ec.reduce((h,m)=>{const p=o[m];return h[m]=(w,g=!1,b=!1)=>(n||c(),p.schedule(w,g,b)),h},{}),cancel:h=>Ec.forEach(m=>o[m].cancel(h)),state:s,steps:o}}const{schedule:Le,cancel:kr,state:wt,steps:Gf}=TI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0),RI={useVisualState:$N({scrapeMotionValuesFromProps:MN,createRenderState:kN,onMount:(e,t,{renderState:n,latestValues:r})=>{Le.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Le.render(()=>{hv(n,r,{enableHardwareAcceleration:!1},mv(t.tagName),e.transformTemplate),DN(t,n)})}})},DI={useVisualState:$N({scrapeMotionValuesFromProps:pv,createRenderState:fv})};function MI(e,{forwardMotionProps:t=!1},n,r){return{...uv(e)?RI:DI,preloadedFeatures:n,useRender:CI(t),createVisualElement:r,Component:e}}function gr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const ON=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function zd(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const AI=e=>t=>ON(t)&&e(t,zd(t));function yr(e,t,n,r){return gr(e,t,AI(n),r)}const $I=(e,t)=>n=>t(e(n)),os=(...e)=>e.reduce($I);function IN(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const g0=IN("dragHorizontal"),v0=IN("dragVertical");function LN(e){let t=!1;if(e==="y")t=v0();else if(e==="x")t=g0();else{const n=g0(),r=v0();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function FN(){const e=LN(!0);return e?(e(),!1):!0}class js{constructor(t){this.isMounted=!1,this.node=t}update(){}}function x0(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||FN())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Le.update(()=>l[r](o,i))};return yr(e.current,n,s,{passive:!e.getProps()[r]})}class OI extends js{mount(){this.unmount=os(x0(this.node,!0),x0(this.node,!1))}unmount(){}}class II extends js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=os(gr(this.node.current,"focus",()=>this.onFocus()),gr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const VN=(e,t)=>t?e===t?!0:VN(e,t.parentElement):!1;function qf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,zd(n))}class LI extends js{constructor(){super(...arguments),this.removeStartListeners=Xe,this.removeEndListeners=Xe,this.removeAccessibleListeners=Xe,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=yr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Le.update(()=>{!h&&!VN(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=yr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=os(o,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||qf("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Le.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=gr(this.node.current,"keyup",i),qf("down",(l,c)=>{this.startPress(l,c)})},n=gr(this.node.current,"keydown",t),r=()=>{this.isPressing&&qf("cancel",(o,i)=>this.cancelPress(o,i))},s=gr(this.node.current,"blur",r);this.removeAccessibleListeners=os(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Le.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!FN()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Le.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=yr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=gr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=os(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Um=new WeakMap,Kf=new WeakMap,FI=e=>{const t=Um.get(e.target);t&&t(e)},VI=e=>{e.forEach(FI)};function UI({root:e,...t}){const n=e||document;Kf.has(n)||Kf.set(n,{});const r=Kf.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(VI,{root:e,...t})),r[s]}function zI(e,t,n){const r=UI(t);return Um.set(e,n),r.observe(e),()=>{Um.delete(e),r.unobserve(e)}}const BI={some:0,all:1};class WI extends js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:BI[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return zI(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(HI(t,n))&&this.startObserver()}unmount(){}}function HI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const GI={inView:{Feature:WI},tap:{Feature:LI},focus:{Feature:II},hover:{Feature:OI}};function UN(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function qI(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function KI(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Bd(e,t,n){const r=e.getProps();return gv(r,t,n!==void 0?n:r.custom,qI(e),KI(e))}let YI=Xe,vv=Xe;const is=e=>e*1e3,wr=e=>e/1e3,JI={current:!1},zN=e=>Array.isArray(e)&&typeof e[0]=="number";function BN(e){return!!(!e||typeof e=="string"&&WN[e]||zN(e)||Array.isArray(e)&&e.every(BN))}const ga=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,WN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ga([0,.65,.55,1]),circOut:ga([.55,0,1,.45]),backIn:ga([.31,.01,.66,-.59]),backOut:ga([.33,1.53,.69,.99])};function HN(e){if(e)return zN(e)?ga(e):Array.isArray(e)?e.map(HN):WN[e]}function XI(e,t,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=HN(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function QI(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const GN=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ZI=1e-7,e5=12;function t5(e,t,n,r,s){let o,i,l=0;do i=t+(n-t)/2,o=GN(i,r,s)-e,o>0?n=i:t=i;while(Math.abs(o)>ZI&&++l<e5);return i}function zl(e,t,n,r){if(e===t&&n===r)return Xe;const s=o=>t5(o,0,1,e,n);return o=>o===0||o===1?o:GN(s(o),t,r)}const n5=zl(.42,0,1,1),r5=zl(0,0,.58,1),qN=zl(.42,0,.58,1),s5=e=>Array.isArray(e)&&typeof e[0]!="number",KN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,YN=e=>t=>1-e(1-t),xv=e=>1-Math.sin(Math.acos(e)),JN=YN(xv),o5=KN(xv),XN=zl(.33,1.53,.69,.99),yv=YN(XN),i5=KN(yv),a5=e=>(e*=2)<1?.5*yv(e):.5*(2-Math.pow(2,-10*(e-1))),l5={linear:Xe,easeIn:n5,easeInOut:qN,easeOut:r5,circIn:xv,circInOut:o5,circOut:JN,backIn:yv,backInOut:i5,backOut:XN,anticipate:a5},y0=e=>{if(Array.isArray(e)){vv(e.length===4);const[t,n,r,s]=e;return zl(t,n,r,s)}else if(typeof e=="string")return l5[e];return e},wv=(e,t)=>n=>!!(Vl(n)&&cI.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),QN=(e,t,n)=>r=>{if(!Vl(r))return r;const[s,o,i,l]=r.match(Ud);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},c5=e=>hs(0,255,e),Yf={...mo,transform:e=>Math.round(c5(e))},Bs={test:wv("rgb","red"),parse:QN("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Yf.transform(e)+", "+Yf.transform(t)+", "+Yf.transform(n)+", "+Da(Ra.transform(r))+")"};function u5(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const zm={test:wv("#"),parse:u5,transform:Bs.transform},Ho={test:wv("hsl","hue"),parse:QN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+sr.transform(Da(t))+", "+sr.transform(Da(n))+", "+Da(Ra.transform(r))+")"},kt={test:e=>Bs.test(e)||zm.test(e)||Ho.test(e),parse:e=>Bs.test(e)?Bs.parse(e):Ho.test(e)?Ho.parse(e):zm.parse(e),transform:e=>Vl(e)?e:e.hasOwnProperty("red")?Bs.transform(e):Ho.transform(e)},qe=(e,t,n)=>-n*e+n*t+e;function Jf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function d5({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,i=0;if(!t)s=o=i=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Jf(c,l,e+1/3),o=Jf(c,l,e),i=Jf(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Xf=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},f5=[zm,Bs,Ho],h5=e=>f5.find(t=>t.test(e));function w0(e){const t=h5(e);let n=t.parse(e);return t===Ho&&(n=d5(n)),n}const ZN=(e,t)=>{const n=w0(e),r=w0(t),s={...n};return o=>(s.red=Xf(n.red,r.red,o),s.green=Xf(n.green,r.green,o),s.blue=Xf(n.blue,r.blue,o),s.alpha=qe(n.alpha,r.alpha,o),Bs.transform(s))};function m5(e){var t,n;return isNaN(e)&&Vl(e)&&(((t=e.match(Ud))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(NN))===null||n===void 0?void 0:n.length)||0)>0}const eE={regex:aI,countKey:"Vars",token:"${v}",parse:Xe},tE={regex:NN,countKey:"Colors",token:"${c}",parse:kt.parse},nE={regex:Ud,countKey:"Numbers",token:"${n}",parse:mo.parse};function Qf(e,{regex:t,countKey:n,token:r,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(s)))}function Wu(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Qf(n,eE),Qf(n,tE),Qf(n,nE),n}function rE(e){return Wu(e).values}function sE(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Wu(e),o=t.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(eE.token,i[c]):c<r+n?l=l.replace(tE.token,kt.transform(i[c])):l=l.replace(nE.token,Da(i[c]));return l}}const p5=e=>typeof e=="number"?0:e;function g5(e){const t=rE(e);return sE(e)(t.map(p5))}const ms={test:m5,parse:rE,createTransformer:sE,getAnimatableNone:g5},oE=(e,t)=>n=>`${n>0?t:e}`;function iE(e,t){return typeof e=="number"?n=>qe(e,t,n):kt.test(e)?ZN(e,t):e.startsWith("var(")?oE(e,t):lE(e,t)}const aE=(e,t)=>{const n=[...e],r=n.length,s=e.map((o,i)=>iE(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},v5=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=iE(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},lE=(e,t)=>{const n=ms.createTransformer(t),r=Wu(e),s=Wu(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?os(aE(r.values,s.values),n):oE(e,t)},dl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},b0=(e,t)=>n=>qe(e,t,n);function x5(e){return typeof e=="number"?b0:typeof e=="string"?kt.test(e)?ZN:lE:Array.isArray(e)?aE:typeof e=="object"?v5:b0}function y5(e,t,n){const r=[],s=n||x5(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Xe:t;l=os(c,l)}r.push(l)}return r}function cE(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(vv(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=y5(t,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=dl(e[d],e[d+1],u);return i[d](h)};return n?u=>c(hs(e[0],e[o-1],u)):c}function w5(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=dl(0,t,r);e.push(qe(n,1,s))}}function b5(e){const t=[0];return w5(t,e.length-1),t}function j5(e,t){return e.map(n=>n*t)}function C5(e,t){return e.map(()=>t||qN).splice(0,e.length-1)}function Hu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=s5(r)?r.map(y0):y0(r),o={done:!1,value:t[0]},i=j5(n&&n.length===t.length?n:b5(t),e),l=cE(i,t,{ease:Array.isArray(s)?s:C5(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function uE(e,t){return t?e*(1e3/t):0}const S5=5;function dE(e,t,n){const r=Math.max(t-S5,0);return uE(n-e(r),t-r)}const Zf=.001,N5=.01,j0=10,E5=.05,_5=1;function P5({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o;YI(e<=is(j0));let i=1-t;i=hs(E5,_5,i),e=hs(N5,j0,wr(e)),i<1?(s=u=>{const d=u*i,h=d*e,m=d-n,p=Bm(u,i),w=Math.exp(-h);return Zf-m/p*w},o=u=>{const h=u*i*e,m=h*n+n,p=Math.pow(i,2)*Math.pow(u,2)*e,w=Math.exp(-h),g=Bm(Math.pow(u,2),i);return(-s(u)+Zf>0?-1:1)*((m-p)*w)/g}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Zf+d*h},o=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=T5(s,o,l);if(e=is(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const k5=12;function T5(e,t,n){let r=n;for(let s=1;s<k5;s++)r=r-e(r)/t(r);return r}function Bm(e,t){return e*Math.sqrt(1-t*t)}const R5=["duration","bounce"],D5=["stiffness","damping","mass"];function C0(e,t){return t.some(n=>e[n]!==void 0)}function M5(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!C0(e,D5)&&C0(e,R5)){const n=P5(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function fE({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=M5({...r,velocity:-wr(r.velocity||0)}),p=h||0,w=c/(2*Math.sqrt(l*u)),g=o-s,b=wr(Math.sqrt(l/u)),v=Math.abs(g)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let y;if(w<1){const x=Bm(b,w);y=C=>{const S=Math.exp(-w*b*C);return o-S*((p+w*b*g)/x*Math.sin(x*C)+g*Math.cos(x*C))}}else if(w===1)y=x=>o-Math.exp(-b*x)*(g+(p+b*g)*x);else{const x=b*Math.sqrt(w*w-1);y=C=>{const S=Math.exp(-w*b*C),E=Math.min(x*C,300);return o-S*((p+w*b*g)*Math.sinh(E)+x*g*Math.cosh(E))/x}}return{calculatedDuration:m&&d||null,next:x=>{const C=y(x);if(m)i.done=x>=d;else{let S=p;x!==0&&(w<1?S=dE(y,x,C):S=0);const E=Math.abs(S)<=n,N=Math.abs(o-C)<=t;i.done=E&&N}return i.value=i.done?o:C,i}}}function S0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,w=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let g=n*t;const b=h+g,v=i===void 0?b:i(b);v!==b&&(g=v-h);const y=_=>-g*Math.exp(-_/r),x=_=>v+y(_),C=_=>{const D=y(_),R=x(_);m.done=Math.abs(D)<=u,m.value=m.done?v:R};let S,E;const N=_=>{p(m.value)&&(S=_,E=fE({keyframes:[m.value,w(m.value)],velocity:dE(x,_,m.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:_=>{let D=!1;return!E&&S===void 0&&(D=!0,C(_),N(_)),S!==void 0&&_>S?E.next(_-S):(!D&&C(_),m)}}}const A5=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Le.update(t,!0),stop:()=>kr(t),now:()=>wt.isProcessing?wt.timestamp:performance.now()}},N0=2e4;function E0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<N0;)t+=n,r=e.next(t);return t>=N0?1/0:t}const $5={decay:S0,inertia:S0,tween:Hu,keyframes:Hu,spring:fE};function Gu({autoplay:e=!0,delay:t=0,driver:n=A5,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...m}){let p=1,w=!1,g,b;const v=()=>{b=new Promise(A=>{g=A})};v();let y;const x=$5[s]||Hu;let C;x!==Hu&&typeof r[0]!="number"&&(C=cE([0,100],r,{clamp:!1}),r=[0,100]);const S=x({...m,keyframes:r});let E;l==="mirror"&&(E=x({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let N="idle",_=null,D=null,R=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=E0(S));const{calculatedDuration:I}=S;let O=1/0,z=1/0;I!==null&&(O=I+i,z=O*(o+1)-i);let M=0;const U=A=>{if(D===null)return;p>0&&(D=Math.min(D,A)),p<0&&(D=Math.min(A-z/p,D)),_!==null?M=_:M=Math.round(A-D)*p;const L=M-t*(p>=0?1:-1),W=p>=0?L<0:L>z;M=Math.max(L,0),N==="finished"&&_===null&&(M=z);let Y=M,F=S;if(o){const X=Math.min(M,z)/O;let re=Math.floor(X),oe=X%1;!oe&&X>=1&&(oe=1),oe===1&&re--,re=Math.min(re,o+1),!!(re%2)&&(l==="reverse"?(oe=1-oe,i&&(oe-=i/O)):l==="mirror"&&(F=E)),Y=hs(0,1,oe)*O}const G=W?{done:!1,value:r[0]}:F.next(Y);C&&(G.value=C(G.value));let{done:H}=G;!W&&I!==null&&(H=p>=0?M>=z:M<=0);const V=_===null&&(N==="finished"||N==="running"&&H);return h&&h(G.value),V&&P(),G},$=()=>{y&&y.stop(),y=void 0},T=()=>{N="idle",$(),g(),v(),D=R=null},P=()=>{N="finished",d&&d(),$(),g()},j=()=>{if(w)return;y||(y=n(U));const A=y.now();c&&c(),_!==null?D=A-_:(!D||N==="finished")&&(D=A),N==="finished"&&v(),R=D,_=null,N="running",y.start()};e&&j();const k={then(A,L){return b.then(A,L)},get time(){return wr(M)},set time(A){A=is(A),M=A,_!==null||!y||p===0?_=A:D=y.now()-A/p},get duration(){const A=S.calculatedDuration===null?E0(S):S.calculatedDuration;return wr(A)},get speed(){return p},set speed(A){A===p||!y||(p=A,k.time=wr(M))},get state(){return N},play:j,pause:()=>{N="paused",_=M},stop:()=>{w=!0,N!=="idle"&&(N="idle",u&&u(),T())},cancel:()=>{R!==null&&U(R),T()},complete:()=>{N="finished"},sample:A=>(D=0,U(A))};return k}function O5(e){let t;return()=>(t===void 0&&(t=e()),t)}const I5=O5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),L5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),_c=10,F5=2e4,V5=(e,t)=>t.type==="spring"||e==="backgroundColor"||!BN(t.ease);function U5(e,t,{onUpdate:n,onComplete:r,...s}){if(!(I5()&&L5.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(x=>{l=x})};d();let{keyframes:h,duration:m=300,ease:p,times:w}=s;if(V5(t,s)){const x=Gu({...s,repeat:0,delay:0});let C={done:!1,value:h[0]};const S=[];let E=0;for(;!C.done&&E<F5;)C=x.sample(E),S.push(C.value),E+=_c;w=void 0,h=S,m=E-_c,p="linear"}const g=XI(e.owner.current,t,h,{...s,duration:m,ease:p,times:w}),b=()=>{u=!1,g.cancel()},v=()=>{u=!0,Le.update(b),l(),d()};return g.onfinish=()=>{u||(e.set(QI(h,s)),r&&r(),v())},{then(x,C){return c.then(x,C)},attachTimeline(x){return g.timeline=x,g.onfinish=null,Xe},get time(){return wr(g.currentTime||0)},set time(x){g.currentTime=is(x)},get speed(){return g.playbackRate},set speed(x){g.playbackRate=x},get duration(){return wr(m)},play:()=>{i||(g.play(),kr(b))},pause:()=>g.pause(),stop:()=>{if(i=!0,g.playState==="idle")return;const{currentTime:x}=g;if(x){const C=Gu({...s,autoplay:!1});e.setWithVelocity(C.sample(x-_c).value,C.sample(x).value,_c)}v()},complete:()=>{u||g.finish()},cancel:v}}function z5({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Xe,pause:Xe,stop:Xe,then:o=>(o(),Promise.resolve()),cancel:Xe,complete:Xe});return t?Gu({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const B5={type:"spring",stiffness:500,damping:25,restSpeed:10},W5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),H5={type:"keyframes",duration:.8},G5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q5=(e,{keyframes:t})=>t.length>2?H5:ho.has(e)?e.startsWith("scale")?W5(t[1]):B5:G5,Wm=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ms.test(t)||t==="0")&&!t.startsWith("url(")),K5=new Set(["brightness","contrast","saturate","opacity"]);function Y5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ud)||[];if(!r)return e;const s=n.replace(r,"");let o=K5.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const J5=/([a-z-]*)\(.*?\)/g,Hm={...ms,getAnimatableNone:e=>{const t=e.match(J5);return t?t.map(Y5).join(" "):e}},X5={...EN,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:Hm,WebkitFilter:Hm},bv=e=>X5[e];function hE(e,t){let n=bv(e);return n!==Hm&&(n=ms),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mE=e=>/^0[^.\s]+$/.test(e);function Q5(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||mE(e)}function Z5(e,t,n,r){const s=Wm(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),Q5(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=hE(t,l)}return o}function e3({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function jv(e,t){return e[t]||e.default||e}const t3={skipAnimations:!1},Cv=(e,t,n,r={})=>s=>{const o=jv(r,e)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-is(i);const c=Z5(t,e,n,o),u=c[0],d=c[c.length-1],h=Wm(e,u),m=Wm(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:w=>{t.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(e3(o)||(p={...p,...q5(e,p)}),p.duration&&(p.duration=is(p.duration)),p.repeatDelay&&(p.repeatDelay=is(p.repeatDelay)),!h||!m||JI.current||o.type===!1||t3.skipAnimations)return z5(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=U5(t,e,p);if(w)return w}return Gu(p)};function qu(e){return!!(Bt(e)&&e.add)}const pE=e=>/^\-?\d*\.?\d+$/.test(e);function Sv(e,t){e.indexOf(t)===-1&&e.push(t)}function Nv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ev{constructor(){this.subscriptions=[]}add(t){return Sv(this.subscriptions,t),()=>Nv(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const n3=e=>!isNaN(parseFloat(e));class r3{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=wt;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,Le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=n3(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ev);const r=this.events[t].add(n);return t==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?uE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mi(e,t){return new r3(e,t)}const gE=e=>t=>t.test(e),s3={test:e=>e==="auto",parse:e=>e},vE=[mo,ge,sr,Ir,dI,uI,s3],ra=e=>vE.find(gE(e)),o3=[...vE,kt,ms],i3=e=>o3.find(gE(e));function a3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,mi(n))}function l3(e,t){const n=Bd(e,t);let{transitionEnd:r={},transition:s={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=NI(o[i]);a3(e,i,l)}}function c3(e,t,n){var r,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(pE(d)||mE(d))?d=parseFloat(d):!i3(d)&&ms.test(u)&&(d=hE(c,u)),e.addValue(c,mi(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function u3(e,t){return t?(t[e]||t.default||t).from:void 0}function d3(e,t,n){const r={};for(const s in e){const o=u3(s,t);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function f3({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function h3(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function xE(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const m=e.getValue(h),p=l[h];if(!m||p===void 0||d&&f3(d,h))continue;const w={delay:n,elapsed:0,...jv(o||{},h)};if(window.HandoffAppearAnimations){const v=e.getProps()[yN];if(v){const y=window.HandoffAppearAnimations(v,h,m,Le);y!==null&&(w.elapsed=y,w.isHandoff=!0)}}let g=!w.isHandoff&&!h3(m,p);if(w.type==="spring"&&(m.getVelocity()||w.velocity)&&(g=!1),m.animation&&(g=!1),g)continue;m.start(Cv(h,m,p,e.shouldReduceMotion&&ho.has(h)?{type:!1}:w));const b=m.animation;qu(c)&&(c.add(h),b.then(()=>c.remove(h))),u.push(b)}return i&&Promise.all(u).then(()=>{i&&l3(e,i)}),u}function Gm(e,t,n={}){const r=Bd(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(xE(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return m3(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function m3(e,t,n=0,r=0,s=1,o){const i=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(p3).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(Gm(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function p3(e,t){return e.sortNodePosition(t)}function g3(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Gm(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=Gm(e,t,n);else{const s=typeof t=="function"?Bd(e,t,n.custom):t;r=Promise.all(xE(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const v3=[...av].reverse(),x3=av.length;function y3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>g3(e,n,r)))}function w3(e){let t=y3(e);const n=j3();let r=!0;const s=(c,u)=>{const d=Bd(e,u);if(d){const{transition:h,transitionEnd:m,...p}=d;c={...c,...p,...m}}return c};function o(c){t=c(e)}function i(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},m=[],p=new Set;let w={},g=1/0;for(let v=0;v<x3;v++){const y=v3[v],x=n[y],C=d[y]!==void 0?d[y]:h[y],S=cl(C),E=y===u?x.isActive:null;E===!1&&(g=v);let N=C===h[y]&&C!==d[y]&&S;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),x.protectedKeys={...w},!x.isActive&&E===null||!C&&!x.prevProp||Fd(C)||typeof C=="boolean")continue;let D=b3(x.prevProp,C)||y===u&&x.isActive&&!N&&S||v>g&&S,R=!1;const I=Array.isArray(C)?C:[C];let O=I.reduce(s,{});E===!1&&(O={});const{prevResolvedValues:z={}}=x,M={...z,...O},U=$=>{D=!0,p.has($)&&(R=!0,p.delete($)),x.needsAnimating[$]=!0};for(const $ in M){const T=O[$],P=z[$];if(w.hasOwnProperty($))continue;let j=!1;Bu(T)&&Bu(P)?j=!UN(T,P):j=T!==P,j?T!==void 0?U($):p.add($):T!==void 0&&p.has($)?U($):x.protectedKeys[$]=!0}x.prevProp=C,x.prevResolvedValues=O,x.isActive&&(w={...w,...O}),r&&e.blockInitialAnimation&&(D=!1),D&&(!N||R)&&m.push(...I.map($=>({animation:$,options:{type:y,...c}})))}if(p.size){const v={};p.forEach(y=>{const x=e.getBaseTarget(y);x!==void 0&&(v[y]=x)}),m.push({animation:v})}let b=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(m):Promise.resolve()}function l(c,u,d){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),n[c].isActive=u;const m=i(d,c);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function b3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!UN(t,e):!1}function _s(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function j3(){return{animate:_s(!0),whileInView:_s(),whileHover:_s(),whileTap:_s(),whileDrag:_s(),whileFocus:_s(),exit:_s()}}class C3 extends js{constructor(t){super(t),t.animationState||(t.animationState=w3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Fd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let S3=0;class N3 extends js{constructor(){super(...arguments),this.id=S3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const E3={animation:{Feature:C3},exit:{Feature:N3}},_0=(e,t)=>Math.abs(e-t);function _3(e,t){const n=_0(e.x,t.x),r=_0(e.y,t.y);return Math.sqrt(n**2+r**2)}class yE{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=th(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=_3(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:w}=h,{timestamp:g}=wt;this.history.push({...w,timestamp:g});const{onStart:b,onMove:v}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=eh(m,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=th(h.type==="pointercancel"?this.lastMoveEventInfo:eh(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),w&&w(h,b)},!ON(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=zd(t),l=eh(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=wt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,th(l,this.history)),this.removeListeners=os(yr(this.contextWindow,"pointermove",this.handlePointerMove),yr(this.contextWindow,"pointerup",this.handlePointerUp),yr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),kr(this.updatePoint)}}function eh(e,t){return t?{point:t(e.point)}:e}function P0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function th({point:e},t){return{point:e,delta:P0(e,wE(t)),offset:P0(e,P3(t)),velocity:k3(t,.1)}}function P3(e){return e[0]}function wE(e){return e[e.length-1]}function k3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=wE(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>is(t)));)n--;if(!r)return{x:0,y:0};const o=wr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Zt(e){return e.max-e.min}function qm(e,t=0,n=.01){return Math.abs(e-t)<=n}function k0(e,t,n,r=.5){e.origin=r,e.originPoint=qe(t.min,t.max,e.origin),e.scale=Zt(n)/Zt(t),(qm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=qe(n.min,n.max,e.origin)-e.originPoint,(qm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ma(e,t,n,r){k0(e.x,t.x,n.x,r?r.originX:void 0),k0(e.y,t.y,n.y,r?r.originY:void 0)}function T0(e,t,n){e.min=n.min+t.min,e.max=e.min+Zt(t)}function T3(e,t,n){T0(e.x,t.x,n.x),T0(e.y,t.y,n.y)}function R0(e,t,n){e.min=t.min-n.min,e.max=e.min+Zt(t)}function Aa(e,t,n){R0(e.x,t.x,n.x),R0(e.y,t.y,n.y)}function R3(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?qe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?qe(n,e,r.max):Math.min(e,n)),e}function D0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function D3(e,{top:t,left:n,bottom:r,right:s}){return{x:D0(e.x,n,s),y:D0(e.y,t,r)}}function M0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function M3(e,t){return{x:M0(e.x,t.x),y:M0(e.y,t.y)}}function A3(e,t){let n=.5;const r=Zt(e),s=Zt(t);return s>r?n=dl(t.min,t.max-r,e.min):r>s&&(n=dl(e.min,e.max-s,t.min)),hs(0,1,n)}function $3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Km=.35;function O3(e=Km){return e===!1?e=0:e===!0&&(e=Km),{x:A0(e,"left","right"),y:A0(e,"top","bottom")}}function A0(e,t,n){return{min:$0(e,t),max:$0(e,n)}}function $0(e,t){return typeof e=="number"?e:e[t]||0}const O0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:O0(),y:O0()}),I0=()=>({min:0,max:0}),nt=()=>({x:I0(),y:I0()});function hn(e){return[e("x"),e("y")]}function bE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function I3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function L3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nh(e){return e===void 0||e===1}function Ym({scale:e,scaleX:t,scaleY:n}){return!nh(e)||!nh(t)||!nh(n)}function Ds(e){return Ym(e)||jE(e)||e.z||e.rotate||e.rotateX||e.rotateY}function jE(e){return L0(e.x)||L0(e.y)}function L0(e){return e&&e!=="0%"}function Ku(e,t,n){const r=e-n,s=t*r;return n+s}function F0(e,t,n,r,s){return s!==void 0&&(e=Ku(e,s,r)),Ku(e,n,r)+t}function Jm(e,t=0,n=1,r,s){e.min=F0(e.min,t,n,r,s),e.max=F0(e.max,t,n,r,s)}function CE(e,{x:t,y:n}){Jm(e.x,t.translate,t.scale,t.originPoint),Jm(e.y,n.translate,n.scale,n.originPoint)}function F3(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&qo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,CE(e,i)),r&&Ds(o.latestValues)&&qo(e,o.latestValues))}t.x=V0(t.x),t.y=V0(t.y)}function V0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ur(e,t){e.min=e.min+t,e.max=e.max+t}function U0(e,t,[n,r,s]){const o=t[s]!==void 0?t[s]:.5,i=qe(e.min,e.max,o);Jm(e,t[n],t[r],i,t.scale)}const V3=["x","scaleX","originX"],U3=["y","scaleY","originY"];function qo(e,t){U0(e.x,t,V3),U0(e.y,t,U3)}function SE(e,t){return bE(L3(e.getBoundingClientRect(),t))}function z3(e,t,n){const r=SE(e,n),{scroll:s}=t;return s&&(Ur(r.x,s.offset.x),Ur(r.y,s.offset.y)),r}const NE=({current:e})=>e?e.ownerDocument.defaultView:null,B3=new WeakMap;class W3{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zd(d,"page").point)},o=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:w}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=LN(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(b=>{let v=this.getAxisMotionValue(b).get()||0;if(sr.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[b];x&&(v=Zt(x)*(parseFloat(v)/100))}}this.originPoint[b]=v}),w&&Le.update(()=>w(d,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:w,onDrag:g}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=H3(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),g&&g(d,h)},l=(d,h)=>this.stop(d,h),c=()=>hn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new yE(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:NE(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Le.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Pc(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=R3(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=D3(s.layoutBox,n):this.constraints=!1,this.elastic=O3(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&hn(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=$3(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wo(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=z3(r,s.root,this.visualElement.getTransformPagePoint());let i=M3(s.layout.layoutBox,o);if(n){const l=n(I3(i));this.hasMutatedConstraints=!!l,l&&(i=bE(l))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=hn(d=>{if(!Pc(d,n,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Cv(t,r,0,n))}stopAnimation(){hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){hn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){hn(n=>{const{drag:r}=this.getProps();if(!Pc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(t[n]-qe(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};hn(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=A3({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hn(i=>{if(!Pc(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(qe(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;B3.set(this.visualElement,this);const t=this.visualElement.current,n=yr(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Wo(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=gr(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(hn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=Km,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Pc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function H3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class G3 extends js{constructor(t){super(t),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new W3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const z0=e=>(t,n)=>{e&&Le.update(()=>e(t,n))};class q3 extends js{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(t){this.session=new yE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:z0(t),onStart:z0(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&Le.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=yr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function K3(){const e=f.useContext(Id);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=f.useId();return f.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const tu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function B0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=B0(e,t.target.x),r=B0(e,t.target.y);return`${n}% ${r}%`}},Y3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ms.parse(e);if(s.length>5)return r;const o=ms.createTransformer(e),i=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=qe(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class J3 extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;rI(X3),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),tu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Le.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function EE(e){const[t,n]=K3(),r=f.useContext(cv);return Z.createElement(J3,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(bN),isPresent:t,safeToRemove:n})}const X3={borderRadius:{...sa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sa,borderTopRightRadius:sa,borderBottomLeftRadius:sa,borderBottomRightRadius:sa,boxShadow:Y3},_E=["TopLeft","TopRight","BottomLeft","BottomRight"],Q3=_E.length,W0=e=>typeof e=="string"?parseFloat(e):e,H0=e=>typeof e=="number"||ge.test(e);function Z3(e,t,n,r,s,o){s?(e.opacity=qe(0,n.opacity!==void 0?n.opacity:1,eL(r)),e.opacityExit=qe(t.opacity!==void 0?t.opacity:1,0,tL(r))):o&&(e.opacity=qe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<Q3;i++){const l=`border${_E[i]}Radius`;let c=G0(t,l),u=G0(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||H0(c)===H0(u)?(e[l]=Math.max(qe(W0(c),W0(u),r),0),(sr.test(u)||sr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=qe(t.rotate||0,n.rotate||0,r))}function G0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const eL=PE(0,.5,JN),tL=PE(.5,.95,Xe);function PE(e,t,n){return r=>r<e?0:r>t?1:n(dl(e,t,r))}function q0(e,t){e.min=t.min,e.max=t.max}function dn(e,t){q0(e.x,t.x),q0(e.y,t.y)}function K0(e,t,n,r,s){return e-=t,e=Ku(e,1/n,r),s!==void 0&&(e=Ku(e,1/s,r)),e}function nL(e,t=0,n=1,r=.5,s,o=e,i=e){if(sr.test(t)&&(t=parseFloat(t),t=qe(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=qe(o.min,o.max,r);e===o&&(l-=t),e.min=K0(e.min,t,n,l,s),e.max=K0(e.max,t,n,l,s)}function Y0(e,t,[n,r,s],o,i){nL(e,t[n],t[r],t[s],t.scale,o,i)}const rL=["x","scaleX","originX"],sL=["y","scaleY","originY"];function J0(e,t,n,r){Y0(e.x,t,rL,n?n.x:void 0,r?r.x:void 0),Y0(e.y,t,sL,n?n.y:void 0,r?r.y:void 0)}function X0(e){return e.translate===0&&e.scale===1}function kE(e){return X0(e.x)&&X0(e.y)}function oL(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function TE(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Q0(e){return Zt(e.x)/Zt(e.y)}class iL{constructor(){this.members=[]}add(t){Sv(this.members,t),t.scheduleRender()}remove(t){if(Nv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z0(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const aL=(e,t)=>e.depth-t.depth;class lL{constructor(){this.children=[],this.isDirty=!1}add(t){Sv(this.children,t),this.isDirty=!0}remove(t){Nv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aL),this.isDirty=!1,this.children.forEach(t)}}function cL(e,t){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(kr(r),e(o-t))};return Le.read(r,!0),()=>kr(r)}function uL(e){window.MotionDebug&&window.MotionDebug.record(e)}function dL(e){return e instanceof SVGElement&&e.tagName!=="svg"}function fL(e,t,n){const r=Bt(e)?e:mi(e);return r.start(Cv("",r,t,n)),r.animation}const ew=["","X","Y","Z"],hL={visibility:"hidden"},tw=1e3;let mL=0;const Ms={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function RE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=mL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ms.totalNodes=Ms.resolvedTargetDeltas=Ms.recalculatedProjection=0,this.nodes.forEach(vL),this.nodes.forEach(jL),this.nodes.forEach(CL),this.nodes.forEach(xL),uL(Ms)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new lL)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Ev),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=dL(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=cL(m,250),tu.hasAnimatedSinceResize&&(tu.hasAnimatedSinceResize=!1,this.nodes.forEach(rw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||PL,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),y=!this.targetLayout||!TE(this.targetLayout,w)||p,x=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const C={...jv(g,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||rw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SL),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nw);return}this.isUpdating||this.nodes.forEach(wL),this.isUpdating=!1,this.nodes.forEach(bL),this.nodes.forEach(pL),this.nodes.forEach(gL),this.clearAllSnapshots();const l=performance.now();wt.delta=hs(0,1e3/60,l-wt.timestamp),wt.timestamp=l,wt.isProcessing=!0,Gf.update.process(wt),Gf.preRender.process(wt),Gf.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(yL),this.sharedNodes.forEach(NL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!kE(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||Ds(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),kL(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return nt();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(Ur(l.x,c.offset.x),Ur(l.y,c.offset.y)),l}removeElementScroll(i){const l=nt();dn(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){dn(l,i);const{scroll:m}=this.root;m&&(Ur(l.x,-m.offset.x),Ur(l.y,-m.offset.y))}Ur(l.x,d.offset.x),Ur(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=nt();dn(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qo(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ds(d.latestValues)&&qo(c,d.latestValues)}return Ds(this.latestValues)&&qo(c,this.latestValues),c}removeTransform(i){const l=nt();dn(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ds(u.latestValues))continue;Ym(u.latestValues)&&u.updateSnapshot();const d=nt(),h=u.measurePageBox();dn(d,h),J0(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ds(this.latestValues)&&J0(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Aa(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),CE(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Aa(this.relativeTargetOrigin,this.target,p.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ms.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ym(this.parent.latestValues)||jE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;dn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;F3(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=Go(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go());const g=this.projectionTransform;Ma(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Z0(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Ms.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=nt(),p=c?c.source:void 0,w=this.layout?this.layout.source:void 0,g=p!==w,b=this.getStack(),v=!b||b.members.length<=1,y=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(_L));this.animationProgress=0;let x;this.mixTargetDelta=C=>{const S=C/1e3;sw(h.x,i.x,S),sw(h.y,i.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Aa(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EL(this.relativeTarget,this.relativeTargetOrigin,m,S),x&&oL(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=nt()),dn(x,this.relativeTarget)),g&&(this.animationValues=d,Z3(d,u,this.latestValues,S,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{tu.hasAnimatedSinceResize=!0,this.currentAnimation=fL(0,tw,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&DE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||nt();const h=Zt(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const m=Zt(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+m}dn(l,c),qo(l,d),Ma(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new iL),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<ew.length;d++){const h="rotate"+ew[d];c[h]&&(u[h]=c[h],i.setStaticValue(h,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hL;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=eu(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=eu(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Ds(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Z0(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:w}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in Uu){if(m[g]===void 0)continue;const{correct:b,applyTo:v}=Uu[g],y=u.transform==="none"?m[g]:b(m[g],h);if(v){const x=v.length;for(let C=0;C<x;C++)u[v[C]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=h===this?eu(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(nw),this.root.sharedNodes.clear()}}}function pL(e){e.updateLayout()}function gL(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;o==="size"?hn(h=>{const m=i?n.measuredBox[h]:n.layoutBox[h],p=Zt(m);m.min=r[h].min,m.max=m.min+p}):DE(o,n.layoutBox,r)&&hn(h=>{const m=i?n.measuredBox[h]:n.layoutBox[h],p=Zt(r[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Go();Ma(l,r,n.layoutBox);const c=Go();i?Ma(c,e.applyTransform(s,!0),n.measuredBox):Ma(c,r,n.layoutBox);const u=!kE(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const w=nt();Aa(w,n.layoutBox,m.layoutBox);const g=nt();Aa(g,r,p.layoutBox),TE(w,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function vL(e){Ms.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yL(e){e.clearSnapshot()}function nw(e){e.clearMeasurements()}function wL(e){e.isLayoutDirty=!1}function bL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jL(e){e.resolveTargetDelta()}function CL(e){e.calcProjection()}function SL(e){e.resetRotation()}function NL(e){e.removeLeadSnapshot()}function sw(e,t,n){e.translate=qe(t.translate,0,n),e.scale=qe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ow(e,t,n,r){e.min=qe(t.min,n.min,r),e.max=qe(t.max,n.max,r)}function EL(e,t,n,r){ow(e.x,t.x,n.x,r),ow(e.y,t.y,n.y,r)}function _L(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const PL={duration:.45,ease:[.4,0,.1,1]},iw=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),aw=iw("applewebkit/")&&!iw("chrome/")?Math.round:Xe;function lw(e){e.min=aw(e.min),e.max=aw(e.max)}function kL(e){lw(e.x),lw(e.y)}function DE(e,t,n){return e==="position"||e==="preserve-aspect"&&!qm(Q0(t),Q0(n),.2)}const TL=RE({attachResizeListener:(e,t)=>gr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rh={current:void 0},ME=RE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rh.current){const e=new TL({});e.mount(window),e.setOptions({layoutScroll:!0}),rh.current=e}return rh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),RL={pan:{Feature:q3},drag:{Feature:G3,ProjectionNode:ME,MeasureLayout:EE}},DL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ML(e){const t=DL.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Xm(e,t,n=1){const[r,s]=ML(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return pE(i)?parseFloat(i):i}else return Vm(s)?Xm(s,t,n+1):s}function AL(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const o=s.get();if(!Vm(o))return;const i=Xm(o,r);i&&s.set(i)});for(const s in t){const o=t[s];if(!Vm(o))continue;const i=Xm(o,r);i&&(t[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:t,transitionEnd:n}}const $L=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),AE=e=>$L.has(e),OL=e=>Object.keys(e).some(AE),cw=e=>e===mo||e===ge,uw=(e,t)=>parseFloat(e.split(", ")[t]),dw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return uw(s[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?uw(o[1],e):0}},IL=new Set(["x","y","z"]),LL=Fl.filter(e=>!IL.has(e));function FL(e){const t=[];return LL.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const pi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:dw(4,13),y:dw(5,14)};pi.translateX=pi.x;pi.translateY=pi.y;const VL=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=pi[u](r,o)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=pi[u](c,o)}),e},UL=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(AE);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],h=ra(d);const m=t[c];let p;if(Bu(m)){const w=m.length,g=m[0]===null?1:0;d=m[g],h=ra(d);for(let b=g;b<w&&m[b]!==null;b++)p?vv(ra(m[b])===p):p=ra(m[b])}else p=ra(m);if(h!==p)if(cw(h)&&cw(p)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&p===ge&&(t[c]=m.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(d===0||m===0)?d===0?u.set(p.transform(d)):t[c]=h.transform(m):(i||(o=FL(e),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=VL(t,e,l);return o.length&&o.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),Ld&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function zL(e,t,n,r){return OL(t)?UL(e,t,n,r):{target:t,transitionEnd:r}}const BL=(e,t,n,r)=>{const s=AL(e,t,r);return t=s.target,r=s.transitionEnd,zL(e,t,n,r)},Qm={current:null},$E={current:!1};function WL(){if($E.current=!0,!!Ld)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qm.current=e.matches;e.addListener(t),t()}else Qm.current=!1}function HL(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],i=n[s];if(Bt(o))e.addValue(s,o),qu(r)&&r.add(s);else if(Bt(i))e.addValue(s,mi(o,{owner:e})),qu(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,mi(l!==void 0?l:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const fw=new WeakMap,OE=Object.keys(ul),GL=OE.length,hw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qL=lv.length;class KL{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Le.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Vd(n),this.isVariantNode=wN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const m=d[h];l[h]!==void 0&&Bt(m)&&(m.set(l[h],!1),qu(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,fw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$E.current||WL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fw.delete(this.current),this.projection&&this.projection.unmount(),kr(this.notifyUpdate),kr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=ho.has(t),s=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Le.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,o){let i,l;for(let c=0;c<GL;c++){const u=OE[c],{isEnabled:d,Feature:h,ProjectionNode:m,MeasureLayout:p}=ul[u];m&&(i=m),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:m,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&Wo(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hw.length;r++){const s=hw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=HL(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<qL;r++){const s=lv[r],o=this.props[s];(cl(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=mi(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=gv(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Bt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ev),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class IE extends KL{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},o){let i=d3(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){c3(this,r,i);const l=BL(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function YL(e){return window.getComputedStyle(e)}class JL extends IE{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(ho.has(n)){const r=bv(n);return r&&r.default||0}else{const r=YL(t),s=(SN(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return SE(t,n)}build(t,n,r,s){dv(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return pv(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Bt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){TN(t,n,r,s)}}class XL extends IE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ho.has(n)){const r=bv(n);return r&&r.default||0}return n=RN.has(n)?n:iv(n),t.getAttribute(n)}measureInstanceViewportBox(){return nt()}scrapeMotionValuesFromProps(t,n){return MN(t,n)}build(t,n,r,s){hv(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){DN(t,n,r,s)}mount(t){this.isSVGTag=mv(t.tagName),super.mount(t)}}const QL=(e,t)=>uv(e)?new XL(t,{enableHardwareAcceleration:!1}):new JL(t,{enableHardwareAcceleration:!0}),ZL={layout:{ProjectionNode:ME,MeasureLayout:EE}},eF={...E3,...GI,...RL,...ZL},de=tI((e,t)=>MI(e,t,eF,QL));function LE(){const e=f.useRef(!1);return ov(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function tF(){const e=LE(),[t,n]=f.useState(0),r=f.useCallback(()=>{e.current&&n(t+1)},[t]);return[f.useCallback(()=>Le.postRender(r),[r]),t]}class nF extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function rF({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),s=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),f.createElement(nF,{isPresent:t,childRef:r,sizeRef:s},f.cloneElement(e,{ref:r}))}const sh=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=AN(sF),c=f.useId(),u=f.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return f.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[n]),f.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(e=f.createElement(rF,{isPresent:n},e)),f.createElement(Id.Provider,{value:u},e)};function sF(){return new Map}function oF(e){return f.useEffect(()=>()=>e(),[])}const As=e=>e.key||"";function iF(e,t){e.forEach(n=>{const r=As(n);t.set(r,n)})}function aF(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const fl=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=f.useContext(cv).forceRender||tF()[0],c=LE(),u=aF(e);let d=u;const h=f.useRef(new Map).current,m=f.useRef(d),p=f.useRef(new Map).current,w=f.useRef(!0);if(ov(()=>{w.current=!1,iF(u,p),m.current=d}),oF(()=>{w.current=!0,p.clear(),h.clear()}),w.current)return f.createElement(f.Fragment,null,d.map(y=>f.createElement(sh,{key:As(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},y)));d=[...d];const g=m.current.map(As),b=u.map(As),v=g.length;for(let y=0;y<v;y++){const x=g[y];b.indexOf(x)===-1&&!h.has(x)&&h.set(x,void 0)}return i==="wait"&&h.size&&(d=[]),h.forEach((y,x)=>{if(b.indexOf(x)!==-1)return;const C=p.get(x);if(!C)return;const S=g.indexOf(x);let E=y;if(!E){const N=()=>{h.delete(x);const _=Array.from(p.keys()).filter(D=>!b.includes(D));if(_.forEach(D=>p.delete(D)),m.current=u.filter(D=>{const R=As(D);return R===x||_.includes(R)}),!h.size){if(c.current===!1)return;l(),r&&r()}};E=f.createElement(sh,{key:As(C),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:o,mode:i},C),h.set(x,E)}d.splice(S,0,E)}),d=d.map(y=>{const x=y.key;return h.has(x)?y:f.createElement(sh,{key:As(y),isPresent:!0,presenceAffectsLayout:o,mode:i},y)}),f.createElement(f.Fragment,null,h.size?d:d.map(y=>f.cloneElement(y)))},lF=()=>{const e=Ri(),[t,n]=Z.useState(!1);Z.useState(!1),Z.useEffect(()=>{const i=window.document.documentElement;t?i.classList.add("dark"):i.classList.remove("dark")},[t]);const r=()=>{n(!t)},s=[{to:"/",label:"Page d'Accueil",icon:a.jsx(i4,{className:"mr-2 h-4 w-4"})},{to:"/pointage",label:"Pointage",icon:a.jsx($m,{className:"mr-2 h-4 w-4"})}],o=[{to:"/espace-exploitation",label:"Espace Exploitation",icon:a.jsx(Ou,{className:"mr-2 h-4 w-4"})},{to:"/espace-chef-agence",label:"Espace Chef d'agence",icon:a.jsx(ar,{className:"mr-2 h-4 w-4"})},{to:"/maintenance-terminaux",label:"Maintenance Terminaux",icon:a.jsx(Il,{className:"mr-2 h-4 w-4"})}];return a.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 dark:from-slate-900 dark:via-purple-900 dark:to-slate-800",children:[a.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsxs(Pl,{to:"/",className:"flex items-center space-x-2",children:[a.jsx(de.div,{whileHover:{rotate:[0,10,-10,0],scale:1.1},children:a.jsx("img",{alt:"PMU Mali Logo",class:"h-10 w-auto",src:"https://pzmapmxjkkqhuiamdvjd.supabase.co/storage/v1/object/public/pmu-mali-storage//326291198_1368954473860231_6856823940381691525_n.jpg"})}),a.jsx("span",{className:"font-bold text-xl bg-clip-text text-transparent bg-gradient-to-r from-primary to-pink-500 dark:to-pink-400",children:"PMU Mali Gestion"})]}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-4 lg:space-x-6",children:[s.map(i=>a.jsxs(B,{variant:"ghost",onClick:()=>e(i.to),children:[i.icon," ",i.label]},i.to)),a.jsxs(a0,{children:[a.jsx(l0,{asChild:!0,children:a.jsxs(B,{variant:"ghost",children:["Espaces ",a.jsx(Zy,{className:"ml-2 h-4 w-4"})]})}),a.jsxs(Om,{align:"end",className:"w-56",children:[a.jsx(Qc,{children:"Navigation Principale"}),a.jsx(Zc,{}),o.map(i=>a.jsxs(Xc,{onClick:()=>e(i.to),children:[i.icon,i.label]},i.to))]})]}),a.jsx(B,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Toggle theme",children:t?a.jsx(s0,{className:"h-5 w-5"}):a.jsx(t0,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"md:hidden flex items-center",children:[a.jsx(B,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Toggle theme",className:"mr-2",children:t?a.jsx(s0,{className:"h-5 w-5"}):a.jsx(t0,{className:"h-5 w-5"})}),a.jsxs(a0,{children:[a.jsx(l0,{asChild:!0,children:a.jsx(B,{variant:"ghost",size:"icon",children:a.jsx(Zy,{className:"h-6 w-6"})})}),a.jsxs(Om,{align:"end",className:"w-56",children:[a.jsx(Qc,{children:"Menu"}),a.jsx(Zc,{}),s.map(i=>a.jsxs(Xc,{onClick:()=>e(i.to),children:[i.icon," ",i.label]},i.to)),a.jsx(Zc,{}),a.jsx(Qc,{children:"Espaces"}),o.map(i=>a.jsxs(Xc,{onClick:()=>e(i.to),children:[i.icon,i.label]},i.to))]})]})]})]})}),a.jsx("main",{className:"flex-1 container py-8",children:a.jsx(Cg,{})}),a.jsx("footer",{className:"py-6 md:px-8 md:py-0 border-t border-border/40",children:a.jsxs("div",{className:"container flex flex-col items-center justify-between gap-4 md:h-20 md:flex-row",children:[a.jsxs("p",{className:"text-center text-sm leading-loose text-muted-foreground md:text-left",children:["© ",new Date().getFullYear()," PMU Mali. Tous droits réservés."]}),a.jsx(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"text-xs text-muted-foreground"})]})}),a.jsx(gN,{})]})},oa=({icon:e,title:t,description:n,delay:r})=>a.jsxs(de.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:r},className:"bg-card p-6 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 glassmorphism",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mb-4 rounded-full bg-primary/10 text-primary",children:Z.cloneElement(e,{size:32})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold text-foreground",children:t}),a.jsx("p",{className:"text-muted-foreground",children:n})]}),cF=()=>a.jsxs("div",{className:"min-h-[calc(100vh-10rem)] flex flex-col items-center justify-center p-4 md:p-8 bg-gradient-to-br from-background to-secondary/30 dark:from-background dark:to-secondary/10",children:[a.jsxs(de.header,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.7,ease:"backOut"},className:"text-center mb-12 md:mb-16",children:[a.jsx("img",{class:"w-32 h-32 mx-auto mb-6 rounded-full shadow-lg border-4 border-primary",alt:"Logo PMU Mali",src:"https://pzmapmxjkkqhuiamdvjd.supabase.co/storage/v1/object/public/pmu-mali-storage//326291198_1368954473860231_6856823940381691525_n.jpg"}),a.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4",children:a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-green-400",children:"PMU Mali"})}),a.jsx("p",{className:"text-2xl md:text-3xl font-semibold text-foreground mb-2",children:"Gestion de Planning & Pointage"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Optimisez la gestion de vos agences avec une solution moderne, intuitive et performante."})]}),a.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-12",children:a.jsx(B,{asChild:!0,size:"lg",className:"text-xl px-10 py-8 rounded-full shadow-lg bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-primary-foreground transition-transform hover:scale-105",children:a.jsxs(Pl,{to:"/pointage",children:[a.jsx($m,{className:"mr-3 h-6 w-6"})," Commencer vos Pointages"]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-5xl w-full",children:[a.jsx(oa,{icon:a.jsx(ZO,{}),title:"Planning Intuitif",description:"Créez et gérez les plannings de vos guichetières avec facilité.",delay:.5}),a.jsx(oa,{icon:a.jsx(ar,{}),title:"Gestion des Employés",description:"Centralisez les informations de vos chefs d'agence et guichetières.",delay:.6}),a.jsx(oa,{icon:a.jsx(JO,{}),title:"Statistiques Détaillées",description:"Suivez les performances et la ponctualité grâce à des rapports clairs.",delay:.7}),a.jsx(oa,{icon:a.jsx(Zg,{}),title:"Paramétrage Flexible",description:"Adaptez les règles de pointage selon les besoins de votre organisation.",delay:.8}),a.jsx(oa,{icon:a.jsx($m,{}),title:"Accès Sécurisés",description:"Espaces dédiés et protégés pour l'exploitation et les chefs d'agence.",delay:.9})]}),a.jsx(de.footer,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.2},className:"mt-16 text-center text-muted-foreground",children:a.jsxs("p",{children:["© ",new Date().getFullYear()," PMU Mali. Tous droits réservés."]})})]}),_e=Z.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_e.displayName="Card";const De=Z.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));De.displayName="CardHeader";const Pe=Z.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));Pe.displayName="CardTitle";const $e=Z.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));$e.displayName="CardDescription";const ke=Z.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ce("p-6 pt-0",e),...t}));ke.displayName="CardContent";const Yu=Z.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",e),...t}));Yu.displayName="CardFooter";function gi(e){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(e)}function tt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function fe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function me(e){fe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||gi(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Rt(e,t){fe(2,arguments);var n=me(e),r=tt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function en(e,t){fe(2,arguments);var n=me(e),r=tt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var i=o.getDate();return s>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function uF(e,t){fe(2,arguments);var n=me(e).getTime(),r=tt(t);return new Date(n+r)}var dF={};function Cs(){return dF}function Nt(e,t){var n,r,s,o,i,l,c,u;fe(1,arguments);var d=Cs(),h=tt((n=(r=(s=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=me(e),p=m.getDay(),w=(p<h?7:0)+p-h;return m.setDate(m.getDate()-w),m.setHours(0,0,0,0),m}function Zs(e){return fe(1,arguments),Nt(e,{weekStartsOn:1})}function fF(e){fe(1,arguments);var t=me(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=Zs(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var i=Zs(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function hF(e){fe(1,arguments);var t=fF(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=Zs(n);return r}function hl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function br(e){fe(1,arguments);var t=me(e);return t.setHours(0,0,0,0),t}var mF=864e5;function er(e,t){fe(2,arguments);var n=br(e),r=br(t),s=n.getTime()-hl(n),o=r.getTime()-hl(r);return Math.round((s-o)/mF)}function ml(e,t){fe(2,arguments);var n=tt(t),r=n*7;return Rt(e,r)}function pF(e,t){fe(2,arguments);var n=tt(t);return en(e,n*12)}function gF(e){fe(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(gi(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var s=me(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function vF(e){fe(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(gi(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var s=me(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}var _v=6e4,FE=36e5;function dt(e,t){fe(2,arguments);var n=br(e),r=br(t);return n.getTime()===r.getTime()}function Pv(e){return fe(1,arguments),e instanceof Date||gi(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bt(e){if(fe(1,arguments),!Pv(e)&&typeof e!="number")return!1;var t=me(e);return!isNaN(Number(t))}function pl(e,t){fe(2,arguments);var n=me(e),r=me(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}var xF=6048e5;function yF(e,t,n){fe(2,arguments);var r=Nt(e,n),s=Nt(t,n),o=r.getTime()-hl(r),i=s.getTime()-hl(s);return Math.round((o-i)/xF)}function mw(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function wF(e,t){fe(2,arguments);var n=me(e),r=me(t),s=mw(n,r),o=Math.abs(er(n,r));n.setDate(n.getDate()-s*o);var i=+(mw(n,r)===-s),l=s*(o-i);return l===0?0:l}function bF(e,t){return fe(2,arguments),me(e).getTime()-me(t).getTime()}var pw={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},jF="trunc";function CF(e){return e?pw[e]:pw[jF]}function gw(e,t,n){fe(2,arguments);var r=bF(e,t)/_v;return CF(n==null?void 0:n.roundingMethod)(r)}function oh(e){fe(1,arguments);var t=me(e);return t.setHours(23,59,59,999),t}function Yt(e){fe(1,arguments);var t=me(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Zm(e,t){var n;fe(1,arguments);var r=e||{},s=me(r.start),o=me(r.end),i=o.getTime();if(!(s.getTime()<=i))throw new RangeError("Invalid interval");var l=[],c=s;c.setHours(0,0,0,0);var u=Number((n=t==null?void 0:t.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=i;)l.push(me(c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return l}function Ae(e){fe(1,arguments);var t=me(e);return t.setDate(1),t.setHours(0,0,0,0),t}function VE(e){fe(1,arguments);var t=me(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function kv(e){fe(1,arguments);var t=me(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function as(e,t){var n,r,s,o,i,l,c,u;fe(1,arguments);var d=Cs(),h=tt((n=(r=(s=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=me(e),p=m.getDay(),w=(p<h?-7:0)+6-(p-h);return m.setDate(m.getDate()+w),m.setHours(23,59,59,999),m}function UE(e){return fe(1,arguments),as(e,{weekStartsOn:1})}function SF(e,t){fe(2,arguments);var n=tt(t);return uF(e,-n)}var NF=864e5;function EF(e){fe(1,arguments);var t=me(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/NF)+1}function Ju(e){fe(1,arguments);var t=1,n=me(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function zE(e){fe(1,arguments);var t=me(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Ju(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=Ju(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function _F(e){fe(1,arguments);var t=zE(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Ju(n);return r}var PF=6048e5;function kF(e){fe(1,arguments);var t=me(e),n=Ju(t).getTime()-_F(t).getTime();return Math.round(n/PF)+1}function Xu(e,t){var n,r,s,o,i,l,c,u;fe(1,arguments);var d=Cs(),h=tt((n=(r=(s=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=me(e),p=m.getUTCDay(),w=(p<h?7:0)+p-h;return m.setUTCDate(m.getUTCDate()-w),m.setUTCHours(0,0,0,0),m}function BE(e,t){var n,r,s,o,i,l,c,u;fe(1,arguments);var d=me(e),h=d.getUTCFullYear(),m=Cs(),p=tt((n=(r=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(h+1,0,p),w.setUTCHours(0,0,0,0);var g=Xu(w,t),b=new Date(0);b.setUTCFullYear(h,0,p),b.setUTCHours(0,0,0,0);var v=Xu(b,t);return d.getTime()>=g.getTime()?h+1:d.getTime()>=v.getTime()?h:h-1}function TF(e,t){var n,r,s,o,i,l,c,u;fe(1,arguments);var d=Cs(),h=tt((n=(r=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=BE(e,t),p=new Date(0);p.setUTCFullYear(m,0,h),p.setUTCHours(0,0,0,0);var w=Xu(p,t);return w}var RF=6048e5;function DF(e,t){fe(1,arguments);var n=me(e),r=Xu(n,t).getTime()-TF(n,t).getTime();return Math.round(r/RF)+1}function Te(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var MF={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return Te(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Te(r+1,2)},d:function(t,n){return Te(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Te(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Te(t.getUTCHours(),n.length)},m:function(t,n){return Te(t.getUTCMinutes(),n.length)},s:function(t,n){return Te(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return Te(o,n.length)}};const $r=MF;var bo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AF={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return $r.y(t,n)},Y:function(t,n,r,s){var o=BE(t,s),i=o>0?o:1-o;if(n==="YY"){var l=i%100;return Te(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):Te(i,n.length)},R:function(t,n){var r=zE(t);return Te(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Te(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Te(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Te(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return $r.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Te(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var o=DF(t,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Te(o,n.length)},I:function(t,n,r){var s=kF(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Te(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):$r.d(t,n)},D:function(t,n,r){var s=EF(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Te(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var o=t.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return Te(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var o=t.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return Te(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return Te(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),o;switch(s===12?o=bo.noon:s===0?o=bo.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),o;switch(s>=17?o=bo.evening:s>=12?o=bo.afternoon:s>=4?o=bo.morning:o=bo.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return $r.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):$r.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Te(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Te(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):$r.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):$r.s(t,n)},S:function(t,n){return $r.S(t,n)},X:function(t,n,r,s){var o=s._originalDate||t,i=o.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return xw(i);case"XXXX":case"XX":return $s(i);case"XXXXX":case"XXX":default:return $s(i,":")}},x:function(t,n,r,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(n){case"x":return xw(i);case"xxxx":case"xx":return $s(i);case"xxxxx":case"xxx":default:return $s(i,":")}},O:function(t,n,r,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+vw(i,":");case"OOOO":default:return"GMT"+$s(i,":")}},z:function(t,n,r,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+vw(i,":");case"zzzz":default:return"GMT"+$s(i,":")}},t:function(t,n,r,s){var o=s._originalDate||t,i=Math.floor(o.getTime()/1e3);return Te(i,n.length)},T:function(t,n,r,s){var o=s._originalDate||t,i=o.getTime();return Te(i,n.length)}};function vw(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var i=t||"";return n+String(s)+i+Te(o,2)}function xw(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Te(Math.abs(e)/60,2)}return $s(e,t)}function $s(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),o=Te(Math.floor(s/60),2),i=Te(s%60,2);return r+o+n+i}const $F=AF;var yw=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},WE=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},OF=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return yw(t,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",yw(s,n)).replace("{{time}}",WE(o,n))},IF={p:WE,P:OF};const LF=IF;var FF=["D","DD"],VF=["YY","YYYY"];function UF(e){return FF.indexOf(e)!==-1}function zF(e){return VF.indexOf(e)!==-1}function ww(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var BF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WF=function(t,n,r){var s,o=BF[t];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const HF=WF;function ni(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var GF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YF={date:ni({formats:GF,defaultWidth:"full"}),time:ni({formats:qF,defaultWidth:"full"}),dateTime:ni({formats:KF,defaultWidth:"full"})};const JF=YF;var XF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QF=function(t,n,r,s){return XF[t]};const ZF=QF;function Qn(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):o;s=e.formattingValues[i]||e.formattingValues[o]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var e6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},n6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},r6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},o6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},i6=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},a6={ordinalNumber:i6,era:Qn({values:e6,defaultWidth:"wide"}),quarter:Qn({values:t6,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Qn({values:n6,defaultWidth:"wide"}),day:Qn({values:r6,defaultWidth:"wide"}),dayPeriod:Qn({values:s6,defaultWidth:"wide",formattingValues:o6,defaultFormattingWidth:"wide"})};const l6=a6;function Zn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?u6(l,function(h){return h.test(i)}):c6(l,function(h){return h.test(i)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(i.length);return{value:u,rest:d}}}function c6(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function u6(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function HE(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;var l=t.slice(s.length);return{value:i,rest:l}}}var d6=/^(\d+)(th|st|nd|rd)?/i,f6=/\d+/i,h6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},m6={any:[/^b/i,/^(a|c)/i]},p6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g6={any:[/1/i,/2/i,/3/i,/4/i]},v6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},x6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},w6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},b6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},C6={ordinalNumber:HE({matchPattern:d6,parsePattern:f6,valueCallback:function(t){return parseInt(t,10)}}),era:Zn({matchPatterns:h6,defaultMatchWidth:"wide",parsePatterns:m6,defaultParseWidth:"any"}),quarter:Zn({matchPatterns:p6,defaultMatchWidth:"wide",parsePatterns:g6,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Zn({matchPatterns:v6,defaultMatchWidth:"wide",parsePatterns:x6,defaultParseWidth:"any"}),day:Zn({matchPatterns:y6,defaultMatchWidth:"wide",parsePatterns:w6,defaultParseWidth:"any"}),dayPeriod:Zn({matchPatterns:b6,defaultMatchWidth:"any",parsePatterns:j6,defaultParseWidth:"any"})};const S6=C6;var N6={code:"en-US",formatDistance:HF,formatLong:JF,formatRelative:ZF,localize:l6,match:S6,options:{weekStartsOn:0,firstWeekContainsDate:1}};const GE=N6;var E6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P6=/^'([^]*?)'?$/,k6=/''/g,T6=/[a-zA-Z]/;function ye(e,t,n){var r,s,o,i,l,c,u,d,h,m,p,w,g,b,v,y,x,C;fe(2,arguments);var S=String(t),E=Cs(),N=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:E.locale)!==null&&r!==void 0?r:GE,_=tt((o=(i=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&i!==void 0?i:(h=E.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=tt((p=(w=(g=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(v=n.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:E.weekStartsOn)!==null&&w!==void 0?w:(x=E.locale)===null||x===void 0||(C=x.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&p!==void 0?p:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var R=me(e);if(!bt(R))throw new RangeError("Invalid time value");var I=hl(R),O=SF(R,I),z={firstWeekContainsDate:_,weekStartsOn:D,locale:N,_originalDate:R},M=S.match(_6).map(function(U){var $=U[0];if($==="p"||$==="P"){var T=LF[$];return T(U,N.formatLong)}return U}).join("").match(E6).map(function(U){if(U==="''")return"'";var $=U[0];if($==="'")return R6(U);var T=$F[$];if(T)return!(n!=null&&n.useAdditionalWeekYearTokens)&&zF(U)&&ww(U,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&UF(U)&&ww(U,t,String(e)),T(O,U,N.localize,z);if($.match(T6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return U}).join("");return M}function R6(e){var t=e.match(P6);return t?t[1].replace(k6,"'"):e}function qE(e){fe(1,arguments);var t=me(e),n=t.getDay();return n}function D6(e){fe(1,arguments);var t=me(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var M6=6048e5;function A6(e){fe(1,arguments);var t=me(e),n=Zs(t).getTime()-hF(t).getTime();return Math.round(n/M6)+1}function $6(e){fe(1,arguments);var t=me(e),n=t.getTime();return n}function O6(e){return fe(1,arguments),Math.floor($6(e)/1e3)}function I6(e,t){var n,r,s,o,i,l,c,u;fe(1,arguments);var d=me(e),h=d.getFullYear(),m=Cs(),p=tt((n=(r=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setFullYear(h+1,0,p),w.setHours(0,0,0,0);var g=Nt(w,t),b=new Date(0);b.setFullYear(h,0,p),b.setHours(0,0,0,0);var v=Nt(b,t);return d.getTime()>=g.getTime()?h+1:d.getTime()>=v.getTime()?h:h-1}function L6(e,t){var n,r,s,o,i,l,c,u;fe(1,arguments);var d=Cs(),h=tt((n=(r=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=I6(e,t),p=new Date(0);p.setFullYear(m,0,h),p.setHours(0,0,0,0);var w=Nt(p,t);return w}var F6=6048e5;function V6(e,t){fe(1,arguments);var n=me(e),r=Nt(n,t).getTime()-L6(n,t).getTime();return Math.round(r/F6)+1}function U6(e){fe(1,arguments);var t=me(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function z6(e,t){return fe(1,arguments),yF(U6(e),Ae(e),t)+1}function ep(e,t){fe(2,arguments);var n=me(e),r=me(t);return n.getTime()>r.getTime()}function KE(e,t){fe(2,arguments);var n=me(e),r=me(t);return n.getTime()<r.getTime()}function gl(e,t){fe(2,arguments);var n=me(e),r=me(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function B6(e,t){fe(2,arguments);var n=me(e),r=me(t);return n.getFullYear()===r.getFullYear()}function tp(e,t){fe(2,arguments);var n=me(e).getTime(),r=me(t.start).getTime(),s=me(t.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return n>=r&&n<=s}function ri(e,t){fe(2,arguments);var n=tt(t);return Rt(e,-n)}function He(e,t){var n;fe(1,arguments);var r=tt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=q6(e),o;if(s.date){var i=K6(s.date,r);o=Y6(i.restDateString,i.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var l=o.getTime(),c=0,u;if(s.time&&(c=J6(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(u=X6(s.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(l+c),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(l+c+u)}var kc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},W6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,H6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,G6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function q6(e){var t={},n=e.split(kc.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],kc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(kc.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=kc.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function K6(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function Y6(e,t){if(t===null)return new Date(NaN);var n=e.match(W6);if(!n)return new Date(NaN);var r=!!n[4],s=ia(n[1]),o=ia(n[2])-1,i=ia(n[3]),l=ia(n[4]),c=ia(n[5])-1;if(r)return n8(t,l,c)?Q6(t,l,c):new Date(NaN);var u=new Date(0);return!e8(t,o,i)||!t8(t,s)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(s,i)),u)}function ia(e){return e?parseInt(e):1}function J6(e){var t=e.match(H6);if(!t)return NaN;var n=ih(t[1]),r=ih(t[2]),s=ih(t[3]);return r8(n,r,s)?n*FE+r*_v+s*1e3:NaN}function ih(e){return e&&parseFloat(e.replace(",","."))||0}function X6(e){if(e==="Z")return 0;var t=e.match(G6);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return s8(r,s)?n*(r*FE+s*_v):NaN}function Q6(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,o=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}var Z6=[31,null,31,30,31,30,31,31,30,31,30,31];function YE(e){return e%400===0||e%4===0&&e%100!==0}function e8(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Z6[t]||(YE(e)?29:28))}function t8(e,t){return t>=1&&t<=(YE(e)?366:365)}function n8(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function r8(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function s8(e,t){return t>=0&&t<=59}function ah(e,t){fe(2,arguments);var n=me(e),r=tt(t),s=n.getFullYear(),o=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var l=D6(i);return n.setMonth(r,Math.min(o,l)),n}function bw(e,t){fe(2,arguments);var n=me(e),r=tt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function $a(e,t){fe(2,arguments);var n=tt(t);return en(e,-n)}function nu(e,t){fe(2,arguments);var n=tt(t);return ml(e,-n)}var o8={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},i8=function(t,n,r){var s,o=o8[t];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+s:"il y a "+s:s};const a8=i8;var l8={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},c8={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},u8={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},d8={date:ni({formats:l8,defaultWidth:"full"}),time:ni({formats:c8,defaultWidth:"full"}),dateTime:ni({formats:u8,defaultWidth:"full"})};const f8=d8;var h8={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},m8=function(t,n,r,s){return h8[t]};const p8=m8;var g8={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},v8={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},x8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},y8={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},w8={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},b8=function(t,n){var r=Number(t),s=n==null?void 0:n.unit;if(r===0)return"0";var o=["year","week","hour","minute","second"],i;return r===1?i=s&&o.includes(s)?"ère":"er":i="ème",r+i},j8={ordinalNumber:b8,era:Qn({values:g8,defaultWidth:"wide"}),quarter:Qn({values:v8,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Qn({values:x8,defaultWidth:"wide"}),day:Qn({values:y8,defaultWidth:"wide"}),dayPeriod:Qn({values:w8,defaultWidth:"wide"})};const C8=j8;var S8=/^(\d+)(ième|ère|ème|er|e)?/i,N8=/\d+/i,E8={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},_8={any:[/^av/i,/^ap/i]},P8={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},k8={any:[/1/i,/2/i,/3/i,/4/i]},T8={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},R8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},D8={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},M8={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},A8={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},$8={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},O8={ordinalNumber:HE({matchPattern:S8,parsePattern:N8,valueCallback:function(t){return parseInt(t)}}),era:Zn({matchPatterns:E8,defaultMatchWidth:"wide",parsePatterns:_8,defaultParseWidth:"any"}),quarter:Zn({matchPatterns:P8,defaultMatchWidth:"wide",parsePatterns:k8,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Zn({matchPatterns:T8,defaultMatchWidth:"wide",parsePatterns:R8,defaultParseWidth:"any"}),day:Zn({matchPatterns:D8,defaultMatchWidth:"wide",parsePatterns:M8,defaultParseWidth:"any"}),dayPeriod:Zn({matchPatterns:A8,defaultMatchWidth:"any",parsePatterns:$8,defaultParseWidth:"any"})};const I8=O8;var L8={code:"fr",formatDistance:a8,formatLong:f8,formatRelative:p8,localize:C8,match:I8,options:{weekStartsOn:1,firstWeekContainsDate:4}};const vn=L8;var JE={exports:{}},XE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=f;function F8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var V8=typeof Object.is=="function"?Object.is:F8,U8=vi.useState,z8=vi.useEffect,B8=vi.useLayoutEffect,W8=vi.useDebugValue;function H8(e,t){var n=t(),r=U8({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return B8(function(){s.value=n,s.getSnapshot=t,lh(s)&&o({inst:s})},[e,n,t]),z8(function(){return lh(s)&&o({inst:s}),e(function(){lh(s)&&o({inst:s})})},[e]),W8(n),n}function lh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!V8(e,n)}catch{return!0}}function G8(e,t){return t()}var q8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?G8:H8;XE.useSyncExternalStore=vi.useSyncExternalStore!==void 0?vi.useSyncExternalStore:q8;JE.exports=XE;var K8=JE.exports;function Y8(){return K8.useSyncExternalStore(J8,()=>!0,()=>!1)}function J8(){return()=>{}}var Tv="Avatar",[X8,_G]=Ot(Tv),[Q8,QE]=X8(Tv),ZE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=f.useState("idle");return a.jsx(Q8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(pe.span,{...r,ref:t})})});ZE.displayName=Tv;var e2="AvatarImage",t2=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=QE(e2,n),l=Z8(r,o),c=_t(u=>{s(u),i.onImageLoadingStatusChange(u)});return st(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(pe.img,{...o,ref:t,src:r}):null});t2.displayName=e2;var n2="AvatarFallback",r2=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=QE(n2,n),[i,l]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(pe.span,{...s,ref:t}):null});r2.displayName=n2;function jw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Z8(e,{referrerPolicy:t,crossOrigin:n}){const r=Y8(),s=f.useRef(null),o=(()=>r?(s.current||(s.current=new window.Image),s.current):null)(),[i,l]=f.useState(()=>jw(o,e));return st(()=>{l(jw(o,e))},[o,e]),st(()=>{const c=h=>()=>{l(h)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var s2=ZE,o2=t2,i2=r2;const ps=Z.forwardRef(({className:e,...t},n)=>a.jsx(s2,{ref:n,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ps.displayName=s2.displayName;const eo=Z.forwardRef(({className:e,...t},n)=>a.jsx(o2,{ref:n,className:ce("aspect-square h-full w-full",e),...t}));eo.displayName=o2.displayName;const gs=Z.forwardRef(({className:e,...t},n)=>a.jsx(i2,{ref:n,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));gs.displayName=i2.displayName;const xe=Z.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));xe.displayName="Input";var eV="Label",a2=f.forwardRef((e,t)=>a.jsx(pe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));a2.displayName=eV;var l2=a2;const tV=yd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ae=Z.forwardRef(({className:e,...t},n)=>a.jsx(l2,{ref:n,className:ce(tV(),e),...t}));ae.displayName=l2.displayName;const nV=({matricule:e,setMatricule:t,onSubmit:n,isLoading:r})=>a.jsxs(de.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"space-y-6",children:[a.jsx(Pe,{className:"text-2xl font-semibold text-center text-primary",children:"Étape 1: Identification"}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"matricule",className:"text-lg",children:"Matricule de la Guichetière"}),a.jsx(xe,{id:"matricule",type:"text",value:e,onChange:s=>t(s.target.value),placeholder:"Entrez votre matricule",className:"mt-2 text-lg p-4",disabled:r})]}),a.jsxs(B,{onClick:n,className:"w-full text-lg py-6 bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white",disabled:r,children:[r?"Vérification...":"Vérifier Matricule"," ",a.jsx(WS,{className:"ml-2 h-5 w-5"})]})]}),rV=({guichetiereInfo:e,onSubmit:t,onReset:n,isLoading:r})=>{const s=f.useRef(null),o=f.useRef(null),[i,l]=f.useState(!1),[c,u]=f.useState(null),[d,h]=f.useState(null),[m,p]=f.useState(!1),{toast:w}=Qe(),g=(e==null?void 0:e.photo_url)||null;f.useEffect(()=>{let C;return i&&s.current&&(u(null),h(null),navigator.mediaDevices.getUserMedia({video:!0}).then(S=>{C=S,s.current.srcObject=C}).catch(S=>{console.error("Erreur accès caméra: ",S),w({title:"Erreur Caméra",description:"Impossible d'accéder à la caméra.",variant:"destructive"}),l(!1)})),()=>{C&&C.getTracks().forEach(S=>S.stop())}},[i,w]);const b=()=>{if(!g){w({title:"Action impossible",description:"La photo de profil de la guichetière est manquante. La reconnaissance faciale ne peut pas être effectuée.",variant:"destructive",duration:5e3});return}l(!0),u(null),h(null)},v=()=>{if(s.current&&o.current){p(!0),h("pending");const C=s.current,S=o.current;S.width=C.videoWidth,S.height=C.videoHeight,S.getContext("2d").drawImage(C,0,0,S.width,S.height);const N=S.toDataURL("image/jpeg",.8);u(N),l(!1),setTimeout(()=>{const _=Math.random()>.3;h(_?"match":"no_match"),p(!1),w(_?{title:"Correspondance !",description:"La reconnaissance faciale a réussi.",className:"bg-green-500 text-white"}:{title:"Échec de la reconnaissance",description:"Les visages ne semblent pas correspondre. Veuillez réessayer ou annuler.",variant:"destructive",duration:5e3})},2e3)}},y=()=>{d==="match"?t():w({title:"Action impossible",description:"La reconnaissance faciale doit réussir pour continuer.",variant:"destructive"})},x=r||m;return a.jsxs(de.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"space-y-4 md:space-y-6 text-center",children:[a.jsx(Pe,{className:"text-xl md:text-2xl font-semibold text-primary",children:"Étape 2: Reconnaissance Faciale"}),a.jsx($e,{className:"text-sm md:text-base",children:i?"Placez votre visage devant la caméra.":"Vérification de l'identité par reconnaissance faciale."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center my-4",children:[a.jsxs("div",{className:"flex flex-col items-center p-2 border rounded-lg bg-muted/30 min-h-[180px] md:min-h-[220px] justify-center",children:[a.jsx($e,{className:"mb-2 text-xs md:text-sm font-medium",children:"Photo de Profil"}),g?a.jsxs(ps,{className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-2 border-primary shadow-md",children:[a.jsx(eo,{src:g,alt:`Profil de ${e==null?void 0:e.prenom}`,className:"object-cover"}),a.jsx(gs,{className:"bg-gray-200 text-gray-400",children:a.jsx(ut,{className:"w-12 h-12"})})]}):a.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full bg-gray-200 flex items-center justify-center border-2 border-muted",children:a.jsx(ut,{className:"w-12 h-12 text-gray-400"})}),a.jsxs("p",{className:"mt-2 text-sm font-medium",children:[e==null?void 0:e.prenom," ",e==null?void 0:e.nom]})]}),a.jsxs("div",{className:"flex flex-col items-center p-2 border rounded-lg bg-muted/30 min-h-[180px] md:min-h-[220px] justify-center",children:[a.jsx($e,{className:"mb-2 text-xs md:text-sm font-medium",children:"Capture Caméra"}),i&&a.jsx("video",{ref:s,autoPlay:!0,className:"w-24 h-24 md:w-32 md:h-32 rounded-lg object-cover border-2 border-input shadow-md bg-black"}),c&&!i&&a.jsx("img",{src:c,alt:"Capture faciale",className:"w-24 h-24 md:w-32 md:h-32 rounded-lg object-cover border-2 border-blue-500 shadow-md"}),!i&&!c&&a.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-lg bg-gray-200 flex items-center justify-center border-2 border-muted",children:a.jsx(bn,{className:"w-12 h-12 text-gray-400"})}),a.jsx("canvas",{ref:o,className:"hidden"})]})]}),d&&d!=="pending"&&a.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-2 rounded-md text-sm md:text-base font-semibold flex items-center justify-center
            ${d==="match"?"bg-green-100 text-green-700 dark:bg-green-700 dark:text-green-100":"bg-red-100 text-red-700 dark:bg-red-700 dark:text-red-100"}`,children:[d==="match"?a.jsx(On,{className:"mr-2 h-5 w-5"}):a.jsx(Gs,{className:"mr-2 h-5 w-5"}),d==="match"?"Correspondance trouvée !":"Aucune correspondance trouvée."]}),d==="pending"&&a.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-2 rounded-md text-sm md:text-base font-semibold flex items-center justify-center bg-blue-100 text-blue-700 dark:bg-blue-700 dark:text-blue-100",children:[a.jsx(Qy,{className:"mr-2 h-5 w-5 animate-pulse"}),"Analyse en cours..."]}),!i&&!c&&a.jsxs(B,{onClick:b,className:"w-full text-base md:text-lg py-3 md:py-6 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white",disabled:x||!g,children:[x?"Chargement...":"Lancer la Reconnaissance"," ",a.jsx(bn,{className:"ml-2 h-4 w-4 md:h-5 md:w-5"})]}),i&&a.jsxs(B,{onClick:v,className:"w-full text-base md:text-lg py-3 md:py-6 bg-green-500 hover:bg-green-600 text-white",disabled:x,children:[x?"Capture...":"Prendre la Photo & Comparer"," ",a.jsx(Qy,{className:"ml-2 h-4 w-4 md:h-5 md:w-5"})]}),d==="match"&&a.jsx(B,{onClick:y,className:"w-full text-base md:text-lg py-3 md:py-6 bg-primary hover:bg-primary/90 text-white",disabled:x,children:x?"Chargement...":"Passer à la Signature"}),d==="no_match"&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-2",children:[a.jsxs(B,{onClick:b,variant:"outline",className:"w-full",disabled:x,children:[a.jsx(Ad,{className:"mr-2 h-4 w-4"})," Recommencer Reconnaissance"]}),a.jsxs(B,{variant:"destructive",onClick:n,className:"w-full",disabled:x,children:[a.jsx(Gs,{className:"mr-2 h-4 w-4"})," Annuler Pointage"]})]}),(d==="match"||!i&&!c&&!d)&&a.jsxs(B,{variant:"outline",onClick:n,className:"w-full mt-2 text-xs md:text-sm",disabled:x,children:[a.jsx(f4,{className:"mr-2 h-3 w-3 md:h-4 md:w-4"})," Annuler et Recommencer le Pointage"]}),!g&&a.jsx("p",{className:"text-xs text-red-500 mt-2",children:"La photo de profil de la guichetière est manquante. La reconnaissance faciale ne peut pas être effectuée."})]})},sV=({onSubmit:e,onReset:t,isLoading:n})=>{const r=f.useRef(null),[s,o]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(null);Z.useEffect(()=>{const b=r.current;if(b){b.width=b.offsetWidth,b.height=b.offsetHeight;const v=b.getContext("2d");v.lineWidth=3,v.lineCap="round",v.strokeStyle="#000",u(v)}},[]);const d=b=>{if(!c)return;o(!0);const{offsetX:v,offsetY:y}=p(b);c.beginPath(),c.moveTo(v,y),l(!0)},h=b=>{if(!s||!c)return;const{offsetX:v,offsetY:y}=p(b);c.lineTo(v,y),c.stroke()},m=()=>{c&&(o(!1),c.closePath())},p=b=>{const v=r.current;if(!v)return{offsetX:0,offsetY:0};let y,x;if(b.type.includes("touch")){const C=v.getBoundingClientRect(),S=b.touches[0]||b.changedTouches[0];y=S.clientX-C.left,x=S.clientY-C.top}else y=b.nativeEvent.offsetX,x=b.nativeEvent.offsetY;return{offsetX:y,offsetY:x}},w=()=>{!c||!r.current||(c.clearRect(0,0,r.current.width,r.current.height),l(!1))},g=()=>{if(!i||!r.current)return;const b=r.current.toDataURL("image/png");e(b)};return a.jsxs(de.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"space-y-6 text-center",children:[a.jsx(Pe,{className:"text-2xl font-semibold text-primary",children:"Étape 3: Signature Électronique"}),a.jsx($e,{children:"Veuillez signer dans l'espace ci-dessous avec votre doigt ou la souris."}),a.jsxs("div",{className:"relative",children:[a.jsx("canvas",{ref:r,className:"w-full h-64 bg-white dark:bg-gray-800 rounded-md border-2 border-primary cursor-crosshair touch-none",onMouseDown:d,onMouseMove:h,onMouseUp:m,onMouseLeave:m,onTouchStart:d,onTouchMove:h,onTouchEnd:m}),!i&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none text-gray-400 dark:text-gray-500",children:[a.jsx(zS,{className:"h-12 w-12 mb-2"}),a.jsx("p",{children:"Signez ici"})]}),a.jsxs(B,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 bg-white/80 dark:bg-gray-800/80",onClick:w,disabled:n||!i,children:[a.jsx(Ad,{className:"h-4 w-4 mr-1"})," Effacer"]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(B,{variant:"outline",onClick:t,className:"flex-1",disabled:n,children:"Recommencer"}),a.jsxs(B,{onClick:g,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white",disabled:n||!i,children:[n?"Validation...":"Valider la signature"," ",a.jsx(BS,{className:"ml-2 h-5 w-5"})]})]})]})},oV=({onSubmit:e,onReset:t,isLoading:n,currentPointageStatus:r,signature:s})=>{const o=r==null?void 0:r.canPointe,i=r==null?void 0:r.message,[l,c]=f.useState(10),[u,d]=f.useState(!1);f.useEffect(()=>{let p;return o&&l>0?p=setTimeout(()=>{c(w=>w-1)},1e3):o&&l===0&&!n&&(d(!0),setTimeout(()=>{e()},1e3)),()=>clearTimeout(p)},[l,o,n,e]);const h=()=>{d(!0),setTimeout(()=>{e()},500)},m=()=>{c(10),d(!1),t()};return a.jsxs(de.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"text-center",children:[u?a.jsx(de.div,{initial:{scale:0},animate:{scale:1,rotate:[0,10,0]},className:"mb-6",children:a.jsx(On,{className:"h-28 w-28 text-green-500 mx-auto"})}):o?a.jsx(On,{className:"h-20 w-20 text-green-500 mx-auto mb-6"}):a.jsx(al,{className:"h-20 w-20 text-red-500 mx-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Confirmation du Pointage"}),a.jsx("p",{className:`text-lg mb-6 ${o?"text-muted-foreground":"text-red-600 dark:text-red-400"}`,children:i||(o?"Veuillez confirmer votre pointage.":"Impossible de pointer pour le moment.")}),s&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx(Ol,{className:"h-5 w-5 mr-2 text-primary"}),a.jsx("h3",{className:"text-lg font-medium text-primary",children:"Votre signature"})]}),a.jsx("div",{className:"mx-auto bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md p-2 w-64 h-auto",children:a.jsx("img",{src:s,alt:"Signature électronique",className:"w-full h-auto object-contain"})})]}),o&&!u&&a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsxs(de.div,{className:"flex items-center rounded-full bg-primary/10 px-4 py-2",animate:{opacity:[.7,1,.7]},transition:{repeat:1/0,duration:2},children:[a.jsx(Yr,{className:"h-5 w-5 mr-2 text-primary"}),a.jsxs("span",{className:"text-primary font-medium",children:["Validation automatique dans ",l," secondes"]})]})}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsxs(B,{variant:"outline",onClick:m,disabled:n||u,className:"text-lg px-8 py-6",children:[a.jsx(Ad,{className:"mr-2 h-5 w-5"})," Annuler"]}),a.jsx(B,{onClick:h,disabled:n||!o||u,className:"text-lg px-8 py-6 bg-gradient-to-r from-green-500 to-primary hover:from-green-600 hover:to-primary/90 text-white",children:n?"Validation...":u?"Validé!":"Valider le Pointage"})]}),!o&&a.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Si vous pensez qu'il s'agit d'une erreur, veuillez vérifier l'heure ou contacter votre chef d'agence."})]},"confirmation")},iV=({guichetiere:e,pointages:t,creneauxPointageSettings:n,isIdentified:r})=>{const s=n.length,o=t.length,i=s>0?o/s*100:0;return a.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-3 rounded-md border ${r?"bg-primary/10 border-primary shadow-lg":"bg-muted/50 dark:bg-muted/30"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:`font-semibold ${r?"text-primary":"text-foreground"}`,children:[e.prenom," ",e.nom]}),r&&a.jsx(ut,{className:"h-5 w-5 text-primary"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Matricule: ",e.matricule]}),a.jsxs("div",{className:"mt-2",children:[a.jsxs(ae,{className:"text-xs",children:["Progression (",o,"/",s,")"]}),a.jsx("div",{className:"w-full bg-background dark:bg-gray-700 rounded-full h-2.5 mt-0.5 overflow-hidden",children:a.jsx(de.div,{className:`h-2.5 rounded-full ${i>=100?"bg-green-500":"bg-gradient-to-r from-yellow-400 to-orange-500"}`,initial:{width:0},animate:{width:`${Math.min(100,i)}%`},transition:{duration:.5,ease:"circOut"}})}),a.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[i.toFixed(0),"%"]})]}),o>0&&a.jsxs("div",{className:"mt-1",children:[a.jsx(ae,{className:"text-xs",children:"Dernier pointage:"}),a.jsx("p",{className:"text-xs text-foreground",children:new Date(t[o-1].time).toLocaleTimeString()})]}),o===0&&a.jsx("p",{className:"text-xs text-muted-foreground italic mt-1",children:"Aucun pointage."}),o>=s&&s>0&&a.jsxs("div",{className:"mt-1 text-xs text-green-600 dark:text-green-400 flex items-center",children:[a.jsx(On,{className:"h-3 w-3 mr-1"})," Pointages complets."]})]})},aV=({guichetieresPlanifiees:e,pointagesData:t,creneauxPointageSettings:n})=>{if(e.length===0)return null;const r=n.length,s=e.length,o=e.filter(u=>(t[u.matricule]||[]).length>=r&&r>0).length,i=e.reduce((u,d)=>u+(t[d.matricule]||[]).length,0),l=s*r,c=l>0?i/l*100:0;return a.jsxs(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3,delay:.2},className:"mt-4 p-4 bg-primary/5 dark:bg-primary/10 border border-primary/30 rounded-lg space-y-2",children:[a.jsxs("h4",{className:"font-semibold text-primary flex items-center",children:[a.jsx(MS,{className:"h-5 w-5 mr-2"}),"Résumé Agence du Jour"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ar,{className:"h-4 w-4 mr-1 text-primary/80"}),"Planifiées: ",a.jsx("span",{className:"font-semibold ml-auto",children:s})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(On,{className:"h-4 w-4 mr-1 text-green-500"}),"Complétés: ",a.jsx("span",{className:"font-semibold ml-auto",children:o})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(o0,{className:"h-4 w-4 mr-1 text-primary/80"}),"Pointages Effectués: ",a.jsx("span",{className:"font-semibold ml-auto",children:i})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(o0,{className:"h-4 w-4 mr-1 text-primary/80"}),"Pointages Attendus: ",a.jsx("span",{className:"font-semibold ml-auto",children:l})]})]}),l>0&&a.jsxs("div",{className:"pt-1",children:[a.jsx(ae,{className:"text-xs text-primary",children:"Taux de complétion global"}),a.jsx("div",{className:"w-full bg-background dark:bg-gray-700 rounded-full h-3 mt-0.5 overflow-hidden",children:a.jsx(de.div,{className:`h-3 rounded-full ${c>=100?"bg-green-500":"bg-gradient-to-r from-primary to-green-500"}`,initial:{width:0},animate:{width:`${Math.min(100,c)}%`},transition:{duration:.5,ease:"circOut",delay:.3}})}),a.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[c.toFixed(0),"%"]})]})]})},lV=({guichetieresPlanifiees:e,pointagesData:t,creneauxPointageSettings:n,identifiedGuichetiereMatricule:r,nomAgence:s})=>!e||e.length===0?a.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 border border-amber-300 dark:border-amber-700 rounded-md text-amber-700 dark:text-amber-300 flex flex-col items-center text-center",children:[a.jsx(al,{className:"h-8 w-8 mb-2"}),a.jsx("p",{className:"font-semibold",children:"Aucune guichetière planifiée"}),a.jsxs("p",{className:"text-xs",children:[`Aucune guichetière n'est actuellement planifiée pour l'agence "`,s,`" aujourd'hui.`]}),a.jsx("p",{className:"text-xs mt-1",children:"Veuillez vérifier le planning ou contacter l'administration."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs($e,{className:"flex items-center",children:[a.jsx(ar,{className:"h-5 w-5 mr-2 text-primary"})," Statut des guichetières planifiées"]}),a.jsx("div",{className:"space-y-3 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar",children:e.map(o=>{const i=t[o.matricule]||[];return a.jsx(iV,{guichetiere:o,pointages:i,creneauxPointageSettings:n,isIdentified:o.matricule===r},o.id)})}),a.jsx(aV,{guichetieresPlanifiees:e,pointagesData:t,creneauxPointageSettings:n}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/50 border border-blue-300 dark:border-blue-700 rounded-md text-blue-700 dark:text-blue-300",children:[a.jsxs("h4",{className:"font-semibold flex items-center",children:[a.jsx(US,{className:"h-4 w-4 mr-1"})," Rappel Général"]}),a.jsxs("p",{className:"text-xs",children:["Nombre de pointages requis par jour : ",n.length,"."]}),a.jsx("p",{className:"text-xs font-medium mt-1",children:"Créneaux de pointage :"}),a.jsx("ul",{className:"list-disc list-inside text-xs",children:n.map((o,i)=>a.jsxs("li",{children:["Créneau ",i+1,": ",o.debut," - ",o.fin]},i))})]})]});function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(null,arguments)}function hr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function cV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function c2(...e){return t=>e.forEach(n=>cV(n,t))}function Fi(...e){return f.useCallback(c2(...e),e)}function u2(e,t=[]){let n=[];function r(o,i){const l=f.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:m,children:p,...w}=h,g=(m==null?void 0:m[e][c])||l,b=f.useMemo(()=>w,Object.values(w));return f.createElement(g.Provider,{value:b},p)}function d(h,m){const p=(m==null?void 0:m[e][c])||l,w=f.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,uV(s,...t)]}function uV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const d2=f.forwardRef((e,t)=>{const{children:n,...r}=e,s=f.Children.toArray(n),o=s.find(dV);if(o){const i=o.props.children,l=s.map(c=>c===o?f.Children.count(i)>1?f.Children.only(null):f.isValidElement(i)?i.props.children:null:c);return f.createElement(np,Me({},r,{ref:t}),f.isValidElement(i)?f.cloneElement(i,void 0,l):null)}return f.createElement(np,Me({},r,{ref:t}),n)});d2.displayName="Slot";const np=f.forwardRef((e,t)=>{const{children:n,...r}=e;return f.isValidElement(n)?f.cloneElement(n,{...fV(r,n.props),ref:t?c2(t,n.ref):n.ref}):f.Children.count(n)>1?f.Children.only(null):null});np.displayName="SlotClone";const f2=({children:e})=>f.createElement(f.Fragment,null,e);function dV(e){return f.isValidElement(e)&&e.type===f2}function fV(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{o(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}const hV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Bl=hV.reduce((e,t)=>{const n=f.forwardRef((r,s)=>{const{asChild:o,...i}=r,l=o?d2:t;return f.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),f.createElement(l,Me({},i,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function mV(e,t){e&&qn.flushSync(()=>e.dispatchEvent(t))}function Vi(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function pV(e,t=globalThis==null?void 0:globalThis.document){const n=Vi(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const rp="dismissableLayer.update",gV="dismissableLayer.pointerDownOutside",vV="dismissableLayer.focusOutside";let Cw;const xV=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yV=f.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...u}=e,d=f.useContext(xV),[h,m]=f.useState(null),p=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=f.useState({}),g=Fi(t,_=>m(_)),b=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(v),x=h?b.indexOf(h):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,E=wV(_=>{const D=_.target,R=[...d.branches].some(I=>I.contains(D));!S||R||(o==null||o(_),l==null||l(_),_.defaultPrevented||c==null||c())},p),N=bV(_=>{const D=_.target;[...d.branches].some(I=>I.contains(D))||(i==null||i(_),l==null||l(_),_.defaultPrevented||c==null||c())},p);return pV(_=>{x===d.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},p),f.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Cw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Sw(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Cw)}},[h,p,r,d]),f.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Sw())},[h,d]),f.useEffect(()=>{const _=()=>w({});return document.addEventListener(rp,_),()=>document.removeEventListener(rp,_)},[]),f.createElement(Bl.div,Me({},u,{ref:g,style:{pointerEvents:C?S?"auto":"none":void 0,...e.style},onFocusCapture:hr(e.onFocusCapture,N.onFocusCapture),onBlurCapture:hr(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:hr(e.onPointerDownCapture,E.onPointerDownCapture)}))});function wV(e,t=globalThis==null?void 0:globalThis.document){const n=Vi(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let u=function(){h2(gV,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function bV(e,t=globalThis==null?void 0:globalThis.document){const n=Vi(e),r=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!r.current&&h2(vV,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Sw(){const e=new CustomEvent(rp);document.dispatchEvent(e)}function h2(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?mV(s,o):s.dispatchEvent(o)}const xi=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},jV=Cl["useId".toString()]||(()=>{});let CV=0;function SV(e){const[t,n]=f.useState(jV());return xi(()=>{e||n(r=>r??String(CV++))},[e]),e||(t?`radix-${t}`:"")}function NV(e){const[t,n]=f.useState(void 0);return xi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const m2="Popper",[p2,g2]=u2(m2),[EV,v2]=p2(m2),_V=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return f.createElement(EV,{scope:t,anchor:r,onAnchorChange:s},n)},PV="PopperAnchor",kV=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=v2(PV,n),i=f.useRef(null),l=Fi(t,i);return f.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:f.createElement(Bl.div,Me({},s,{ref:l}))}),x2="PopperContent",[TV,PG]=p2(x2),RV=f.forwardRef((e,t)=>{var n,r,s,o,i,l,c,u;const{__scopePopper:d,side:h="bottom",sideOffset:m=0,align:p="center",alignOffset:w=0,arrowPadding:g=0,avoidCollisions:b=!0,collisionBoundary:v=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:C=!1,updatePositionStrategy:S="optimized",onPlaced:E,...N}=e,_=v2(x2,d),[D,R]=f.useState(null),I=Fi(t,he=>R(he)),[O,z]=f.useState(null),M=NV(O),U=(n=M==null?void 0:M.width)!==null&&n!==void 0?n:0,$=(r=M==null?void 0:M.height)!==null&&r!==void 0?r:0,T=h+(p!=="center"?"-"+p:""),P=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},j=Array.isArray(v)?v:[v],k=j.length>0,A={padding:P,boundary:j.filter(DV),altBoundary:k},{refs:L,floatingStyles:W,placement:Y,isPositioned:F,middlewareData:G}=nC({strategy:"fixed",placement:T,whileElementsMounted:(...he)=>eC(...he,{animationFrame:S==="always"}),elements:{reference:_.anchor},middleware:[rC({mainAxis:m+$,alignmentAxis:w}),b&&sC({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?oC():void 0,...A}),b&&iC({...A}),aC({...A,apply:({elements:he,rects:we,availableWidth:Ve,availableHeight:lt})=>{const{width:vt,height:un}=we.reference,ht=he.floating.style;ht.setProperty("--radix-popper-available-width",`${Ve}px`),ht.setProperty("--radix-popper-available-height",`${lt}px`),ht.setProperty("--radix-popper-anchor-width",`${vt}px`),ht.setProperty("--radix-popper-anchor-height",`${un}px`)}}),O&&cC({element:O,padding:g}),MV({arrowWidth:U,arrowHeight:$}),C&&lC({strategy:"referenceHidden",...A})]}),[H,V]=y2(Y),X=Vi(E);xi(()=>{F&&(X==null||X())},[F,X]);const re=(s=G.arrow)===null||s===void 0?void 0:s.x,oe=(o=G.arrow)===null||o===void 0?void 0:o.y,se=((i=G.arrow)===null||i===void 0?void 0:i.centerOffset)!==0,[q,te]=f.useState();return xi(()=>{D&&te(window.getComputedStyle(D).zIndex)},[D]),f.createElement("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:F?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(l=G.transformOrigin)===null||l===void 0?void 0:l.x,(c=G.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},f.createElement(TV,{scope:d,placedSide:H,onArrowChange:z,arrowX:re,arrowY:oe,shouldHideArrow:se},f.createElement(Bl.div,Me({"data-side":H,"data-align":V},N,{ref:I,style:{...N.style,animation:F?void 0:"none",opacity:(u=G.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function DV(e){return e!==null}const MV=e=>({name:"transformOrigin",options:e,fn(t){var n,r,s,o,i;const{placement:l,rects:c,middlewareData:u}=t,h=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,m=h?0:e.arrowWidth,p=h?0:e.arrowHeight,[w,g]=y2(l),b={start:"0%",center:"50%",end:"100%"}[g],v=((r=(s=u.arrow)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0)+m/2,y=((o=(i=u.arrow)===null||i===void 0?void 0:i.y)!==null&&o!==void 0?o:0)+p/2;let x="",C="";return w==="bottom"?(x=h?b:`${v}px`,C=`${-p}px`):w==="top"?(x=h?b:`${v}px`,C=`${c.floating.height+p}px`):w==="right"?(x=`${-p}px`,C=h?b:`${y}px`):w==="left"&&(x=`${c.floating.width+p}px`,C=h?b:`${y}px`),{data:{x,y:C}}}});function y2(e){const[t,n="center"]=e.split("-");return[t,n]}const AV=_V,$V=kV,OV=RV;function IV(e,t){return f.useReducer((n,r)=>{const s=t[n][r];return s??n},e)}const w2=e=>{const{present:t,children:n}=e,r=LV(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),o=Fi(r.ref,s.ref);return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:o}):null};w2.displayName="Presence";function LV(e){const[t,n]=f.useState(),r=f.useRef({}),s=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=IV(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Tc(r.current);o.current=l==="mounted"?u:"none"},[l]),xi(()=>{const u=r.current,d=s.current;if(d!==e){const m=o.current,p=Tc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),xi(()=>{if(t){const u=h=>{const p=Tc(r.current).includes(h.animationName);h.target===t&&p&&qn.flushSync(()=>c("ANIMATION_END"))},d=h=>{h.target===t&&(o.current=Tc(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Tc(e){return(e==null?void 0:e.animationName)||"none"}function FV({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=VV({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,l=Vi(n),c=f.useCallback(u=>{if(o){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[o,e,s,l]);return[i,c]}function VV({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,s=f.useRef(r),o=Vi(t);return f.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}const UV=f.forwardRef((e,t)=>f.createElement(Bl.span,Me({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),zV=UV,[Wd,kG]=u2("Tooltip",[g2]),Rv=g2(),BV="TooltipProvider",WV=700,sp="tooltip.open",[HV,Dv]=Wd(BV),GV=e=>{const{__scopeTooltip:t,delayDuration:n=WV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[i,l]=f.useState(!0),c=f.useRef(!1),u=f.useRef(0);return f.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),f.createElement(HV,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(d=>{c.current=d},[]),disableHoverableContent:s},o)},Mv="Tooltip",[qV,Hd]=Wd(Mv),KV=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=Dv(Mv,e.__scopeTooltip),u=Rv(t),[d,h]=f.useState(null),m=SV(),p=f.useRef(0),w=i??c.disableHoverableContent,g=l??c.delayDuration,b=f.useRef(!1),[v=!1,y]=FV({prop:r,defaultProp:s,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(sp))):c.onClose(),o==null||o(N)}}),x=f.useMemo(()=>v?b.current?"delayed-open":"instant-open":"closed",[v]),C=f.useCallback(()=>{window.clearTimeout(p.current),b.current=!1,y(!0)},[y]),S=f.useCallback(()=>{window.clearTimeout(p.current),y(!1)},[y]),E=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,y(!0)},g)},[g,y]);return f.useEffect(()=>()=>window.clearTimeout(p.current),[]),f.createElement(AV,u,f.createElement(qV,{scope:t,contentId:m,open:v,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayed?E():C()},[c.isOpenDelayed,E,C]),onTriggerLeave:f.useCallback(()=>{w?S():window.clearTimeout(p.current)},[S,w]),onOpen:C,onClose:S,disableHoverableContent:w},n))},Nw="TooltipTrigger",YV=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Hd(Nw,n),o=Dv(Nw,n),i=Rv(n),l=f.useRef(null),c=Fi(t,l,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.createElement($V,Me({asChild:!0},i),f.createElement(Bl.button,Me({"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute},r,{ref:c,onPointerMove:hr(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:hr(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:hr(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:hr(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:hr(e.onBlur,s.onClose),onClick:hr(e.onClick,s.onClose)})))}),JV="TooltipPortal",[TG,XV]=Wd(JV,{forceMount:void 0}),vl="TooltipContent",QV=f.forwardRef((e,t)=>{const n=XV(vl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Hd(vl,e.__scopeTooltip);return f.createElement(w2,{present:r||i.open},i.disableHoverableContent?f.createElement(b2,Me({side:s},o,{ref:t})):f.createElement(ZV,Me({side:s},o,{ref:t})))}),ZV=f.forwardRef((e,t)=>{const n=Hd(vl,e.__scopeTooltip),r=Dv(vl,e.__scopeTooltip),s=f.useRef(null),o=Fi(t,s),[i,l]=f.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,m=f.useCallback(()=>{l(null),h(!1)},[h]),p=f.useCallback((w,g)=>{const b=w.currentTarget,v={x:w.clientX,y:w.clientY},y=t7(v,b.getBoundingClientRect()),x=n7(v,y),C=r7(g.getBoundingClientRect()),S=o7([...x,...C]);l(S),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&d){const w=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",g)}}},[c,d,p,m]),f.useEffect(()=>{if(i){const w=g=>{const b=g.target,v={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!s7(v,i);y?m():x&&(m(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,i,u,m]),f.createElement(b2,Me({},e,{ref:o}))}),[e7,RG]=Wd(Mv,{isInside:!1}),b2=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Hd(vl,n),u=Rv(n),{onClose:d}=c;return f.useEffect(()=>(document.addEventListener(sp,d),()=>document.removeEventListener(sp,d)),[d]),f.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),f.createElement(yV,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d},f.createElement(OV,Me({"data-state":c.stateAttribute},u,l,{ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),f.createElement(f2,null,r),f.createElement(e7,{scope:n,isInside:!0},f.createElement(zV,{id:c.contentId,role:"tooltip"},s||r))))});function t7(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function n7(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function r7(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function s7(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function o7(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),i7(t)}function i7(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}const a7=GV,l7=KV,c7=YV,j2=QV,C2=a7,u7=l7,d7=c7,S2=Z.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(j2,{ref:r,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));S2.displayName=j2.displayName;var Gd="Tabs",[f7,DG]=Ot(Gd,[Ed]),N2=Ed(),[h7,Av]=f7(Gd),E2=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Di(l),[h,m]=or({prop:r,onChange:s,defaultProp:o??"",caller:Gd});return a.jsx(h7,{scope:n,baseId:yn(),value:h,onValueChange:m,orientation:i,dir:d,activationMode:c,children:a.jsx(pe.div,{dir:d,"data-orientation":i,...u,ref:t})})});E2.displayName=Gd;var _2="TabsList",P2=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Av(_2,n),i=N2(n);return a.jsx(EC,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(pe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});P2.displayName=_2;var k2="TabsTrigger",T2=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Av(k2,n),l=N2(n),c=M2(i.baseId,r),u=A2(i.baseId,r),d=r===i.value;return a.jsx(_C,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:ee(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:ee(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:ee(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});T2.displayName=k2;var R2="TabsContent",D2=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=Av(R2,n),c=M2(l.baseId,r),u=A2(l.baseId,r),d=r===l.value,h=f.useRef(d);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(cn,{present:s||d,children:({present:m})=>a.jsx(pe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});D2.displayName=R2;function M2(e,t){return`${e}-trigger-${t}`}function A2(e,t){return`${e}-content-${t}`}var m7=E2,$2=P2,O2=T2,I2=D2;const Wl=m7,Ui=Z.forwardRef(({className:e,...t},n)=>a.jsx($2,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ui.displayName=$2.displayName;const jn=Z.forwardRef(({className:e,...t},n)=>a.jsx(O2,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));jn.displayName=O2.displayName;const Cn=Z.forwardRef(({className:e,...t},n)=>a.jsx(I2,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Cn.displayName=I2.displayName;const p7=({currentTime:e,creneaux:t,guichetieresPlanifiees:n,pointagesData:r,currentCreneauIndex:s})=>{const[o,i]=f.useState("timeline"),[l,c]=f.useState(!1),[u,d]=f.useState(s!==-1?s:null),[h,m]=f.useState(typeof window<"u"?window.innerWidth:1024),p=h<640,w=h>=640&&h<1024;f.useEffect(()=>{const D=()=>m(window.innerWidth);return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const g=10*60,b=D=>{if(!D||typeof D!="string"||!D.includes(":"))return 0;const[R,I]=D.split(":").map(Number);return(R-9)*60+I},v=(e.getHours()-9)*60+e.getMinutes(),y=Math.max(0,Math.min(100,v/g*100)),x=(D,R)=>(r[D]||[]).find(O=>O.creneauIndex===R),C=(D,R)=>((D==null?void 0:D.charAt(0))||"")+((R==null?void 0:R.charAt(0))||""),S=D=>{const R=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500","bg-orange-500","bg-cyan-500","bg-amber-500"];let I=0;for(let O=0;O<(D==null?void 0:D.length);O++)I=D.charCodeAt(O)+((I<<5)-I);return R[Math.abs(I)%R.length]},E=n.map(D=>{const I=(r[D.matricule]||[]).length,O=t.length,z=I>=O,M=t.map((U,$)=>{const T=x(D.matricule,$),P=T!=null&&T.time&&bt(new Date(T.time))?ye(new Date(T.time),"HH:mm"):null,j=b(U.fin)<v,k=$===s;return{creneauIndex:$,debut:U.debut,fin:U.fin,pointage:T,heurePointage:P,status:P?"pointed":k?"active":j?"missed":"upcoming"}});return{...D,totalPointages:I,totalCreneaux:O,isComplete:z,progress:O>0?I/O*100:0,avatarColor:S(D.matricule),initials:C(D.prenom,D.nom),detailsParCreneau:M}}),N=()=>a.jsxs("div",{className:"w-full pt-2",children:[a.jsxs("div",{className:"relative h-6 sm:h-8 mb-6 sm:mb-8 bg-muted rounded-full overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary to-green-500 transition-all duration-1000 ease-linear",style:{width:`${y}%`}}),!p&&t.map((D,R)=>{const I=b(D.debut)/g*100,O=b(D.fin)/g*100,z=R===s;return a.jsxs("div",{className:"absolute top-0 h-full",children:[a.jsx("div",{className:`absolute h-full border-l-2 ${z?"border-yellow-500":"border-primary/40"}`,style:{left:`${I}%`}}),a.jsx("div",{className:"absolute -top-5 sm:-top-6 text-xs font-semibold px-1 py-0.5 rounded bg-primary/80 text-white",style:{left:`${I+(O-I)/2-1.5}%`},children:R+1}),a.jsx("div",{className:`absolute h-full border-r-2 ${z?"border-yellow-500":"border-primary/40"}`,style:{left:`${O}%`}})]},R)}),a.jsx("div",{className:"absolute top-0 h-full w-1 bg-red-500 z-20",style:{left:`${y}%`}})]}),a.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs text-muted-foreground mb-6",children:[a.jsx("span",{children:"09:00"}),!p&&a.jsx("span",{children:"11:00"}),a.jsx("span",{children:"13:00"}),!p&&a.jsx("span",{children:"15:00"}),a.jsx("span",{children:"17:00"}),!p&&a.jsx("span",{children:"19:00"})]}),a.jsx("div",{className:"space-y-3 sm:space-y-4",children:E.map(D=>a.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-background/70 rounded-lg shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"flex items-center p-2 sm:p-3 border-b",children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full text-white font-medium ${D.avatarColor}`,children:D.initials}),a.jsxs("div",{className:"ml-2 sm:ml-3 flex-grow min-w-0",children:[a.jsxs("h3",{className:"font-medium text-xs sm:text-sm truncate",children:[D.prenom," ",D.nom]}),a.jsxs("div",{className:"flex items-center text-[10px] sm:text-xs text-muted-foreground",children:[a.jsxs("span",{className:"mr-1",children:[D.totalPointages,"/",D.totalCreneaux]}),a.jsx("div",{className:"w-16 sm:w-24 h-1.5 rounded-full bg-muted overflow-hidden",children:a.jsx("div",{className:`h-full ${D.isComplete?"bg-green-500":"bg-blue-500"}`,style:{width:`${D.progress}%`}})})]})]}),D.isComplete?a.jsxs("div",{className:"ml-auto flex items-center text-green-500 text-[10px] sm:text-xs font-medium",children:[a.jsx(On,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),!p&&"Complet"]}):a.jsx("div",{className:"ml-auto text-muted-foreground text-[10px] sm:text-xs",children:D.totalPointages>0?"En cours":"Attente"})]}),a.jsxs("div",{className:"relative h-10 sm:h-14 px-2 pb-2",children:[a.jsx("div",{className:"absolute top-5 sm:top-6 left-0 right-0 h-1 sm:h-2 bg-muted rounded-full"}),D.detailsParCreneau.map((R,I)=>{const O=b(R.debut)/g*100,z=b(R.fin)/g*100,M=O+(z-O)/2;return p&&R.status!=="pointed"&&I!==u?null:a.jsx("div",{className:"absolute top-2",style:{left:`${M}%`},children:a.jsx(C2,{children:a.jsxs(u7,{children:[a.jsx(d7,{asChild:!0,children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(de.div,{whileHover:{scale:1.15},className:`w-7 h-7 sm:w-10 sm:h-10 rounded-full flex items-center justify-center 
                                ${R.status==="pointed"?"bg-green-500 text-white":R.status==="active"?"bg-yellow-500 text-white animate-pulse":R.status==="missed"?"bg-red-100 border-2 border-red-300 text-red-500":"bg-gray-100 border-2 border-gray-300 text-gray-400"}`,children:R.status==="pointed"?a.jsx(On,{className:"h-3 w-3 sm:h-5 sm:w-5"}):R.status==="active"?a.jsx(Yr,{className:"h-3 w-3 sm:h-5 sm:w-5"}):R.status==="missed"?a.jsx(Gs,{className:"h-3 w-3 sm:h-5 sm:w-5"}):a.jsx("span",{className:"text-[8px] sm:text-xs font-semibold",children:I+1})}),R.heurePointage&&a.jsx("span",{className:"text-[8px] sm:text-[10px] bg-white dark:bg-gray-800 px-1 mt-0.5 rounded font-medium",children:R.heurePointage})]})}),a.jsx(S2,{side:p?"bottom":"top",sideOffset:5,children:a.jsxs("div",{className:"text-xs sm:text-sm",children:[a.jsxs("p",{className:"font-semibold",children:["Créneau ",I+1,": ",R.debut," - ",R.fin]}),R.heurePointage?a.jsxs("p",{className:"text-[10px] sm:text-xs text-green-500 flex items-center",children:[a.jsx(On,{className:"h-3 w-3 mr-1"}),"Pointé à ",R.heurePointage]}):R.status==="active"?a.jsx("p",{className:"text-[10px] sm:text-xs text-yellow-500",children:"En attente de pointage"}):R.status==="missed"?a.jsx("p",{className:"text-[10px] sm:text-xs text-red-500",children:"Pointage manqué"}):a.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"À venir"})]})})]})})},I)})]})]},D.matricule))})]}),_=()=>{var O,z;const D=u!==null?u:s!==-1?s:0,I=[...E.map(M=>{const U=M.detailsParCreneau[D];return{...M,statusCreneau:U.status,heurePointage:U.heurePointage}})].sort((M,U)=>{const $={pointed:1,active:2,missed:3,upcoming:4};return $[M.statusCreneau]-$[U.statusCreneau]});return a.jsxs("div",{className:"w-full pt-2",children:[a.jsx("div",{className:"flex mb-4 overflow-x-auto pb-2 hide-scrollbar",children:t.map((M,U)=>a.jsxs(B,{variant:D===U?"default":"outline",size:p?"xs":"sm",className:`mr-2 flex-shrink-0 text-[10px] sm:text-xs ${U===s?"border-yellow-500":""}`,onClick:()=>d(U),children:[U+1,": ",p?`${M.debut.split(":")[0]}h`:M.debut,"-",p?`${M.fin.split(":")[0]}h`:M.fin,U===s&&a.jsx("span",{className:"ml-1 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-yellow-500 rounded-full animate-pulse"})]},U))}),a.jsxs("div",{className:"bg-muted/40 rounded-lg p-2 sm:p-3 mb-3 sm:mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("h3",{className:"font-semibold text-xs sm:text-sm",children:["Créneau ",D+1,": ",(O=t[D])==null?void 0:O.debut," - ",(z=t[D])==null?void 0:z.fin,D===s&&a.jsx("span",{className:"ml-2 text-yellow-600 text-[10px] sm:text-xs",children:"(Actif)"})]}),a.jsxs("div",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[I.filter(M=>M.statusCreneau==="pointed").length,"/",I.length," pointés"]})]}),a.jsx("div",{className:"h-1.5 sm:h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500",style:{width:`${I.length>0?I.filter(M=>M.statusCreneau==="pointed").length/I.length*100:0}%`}})})]}),a.jsx("div",{className:`grid ${p?"grid-cols-2 gap-2":w?"grid-cols-3 gap-3":"grid-cols-4 lg:grid-cols-5 gap-3"}`,children:I.map(M=>a.jsxs(de.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:`relative p-2 sm:p-3 rounded-lg shadow-sm border-2 text-center
                ${M.statusCreneau==="pointed"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":M.statusCreneau==="active"?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":M.statusCreneau==="missed"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-gray-800/30 border-gray-200 dark:border-gray-700"}`,children:[a.jsx("div",{className:`mx-auto w-10 h-10 sm:w-14 sm:h-14 rounded-full flex items-center justify-center text-base sm:text-lg font-medium text-white mb-1 sm:mb-2 ${M.avatarColor}`,children:M.initials}),a.jsxs("p",{className:"font-medium text-[10px] sm:text-sm truncate",children:[M.prenom," ",M.nom]}),M.statusCreneau==="pointed"?a.jsxs("div",{className:"mt-1 text-[8px] sm:text-xs text-green-600 dark:text-green-400 flex items-center justify-center",children:[a.jsx(On,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),M.heurePointage]}):M.statusCreneau==="active"?a.jsxs("div",{className:"mt-1 text-[8px] sm:text-xs text-yellow-600 dark:text-yellow-400 flex items-center justify-center",children:[a.jsx(Yr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 animate-pulse"}),"En attente"]}):M.statusCreneau==="missed"?a.jsxs("div",{className:"mt-1 text-[8px] sm:text-xs text-red-600 dark:text-red-400 flex items-center justify-center",children:[a.jsx(Gs,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Absence"]}):a.jsx("div",{className:"mt-1 text-[8px] sm:text-xs text-gray-600 dark:text-gray-400 flex items-center justify-center",children:"À venir"})]},M.matricule))})]})};return a.jsxs(_e,{className:"shadow-lg glassmorphism",children:[a.jsx(De,{className:"pb-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(Pe,{className:"text-base sm:text-lg md:text-xl text-primary flex items-center",children:[a.jsx(Yr,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6"}),a.jsx("span",{className:"hidden xs:inline",children:"Chronologie des"})," Pointages du Jour"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[!p&&a.jsxs(B,{variant:"ghost",size:p?"xs":"sm",onClick:()=>c(!l),children:[a.jsx(r4,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1"}),!p&&(l?"Masquer":"Filtres")]}),a.jsx("div",{className:"flex items-center text-[10px] sm:text-xs text-muted-foreground",children:p?a.jsx(m4,{className:"h-3 w-3 sm:h-4 sm:w-4"}):a.jsx(a4,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})}),a.jsxs(ke,{className:"pt-2",children:[a.jsx(fl,{children:l&&!p&&a.jsx(de.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mb-3 sm:mb-4 overflow-hidden",children:a.jsx("div",{className:"bg-muted/40 rounded-lg p-2 sm:p-3",children:a.jsxs(Wl,{defaultValue:"time",className:"w-full",children:[a.jsxs(Ui,{className:"grid grid-cols-2 mb-3 sm:mb-4",children:[a.jsxs(jn,{value:"time",className:"text-[10px] sm:text-xs",children:[a.jsx(Iu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Créneaux"]}),a.jsxs(jn,{value:"status",className:"text-[10px] sm:text-xs",children:[a.jsx(Yy,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Statuts"]})]}),a.jsx(Cn,{value:"time",children:a.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[a.jsx(B,{variant:"outline",size:p?"xs":"sm",className:"text-[10px] sm:text-xs",children:"Tous"}),t.map((D,R)=>a.jsxs(B,{variant:"outline",size:p?"xs":"sm",className:"text-[10px] sm:text-xs",children:["C",R+1]},R))]})}),a.jsx(Cn,{value:"status",children:a.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[a.jsx(B,{variant:"outline",size:p?"xs":"sm",className:"text-[10px] sm:text-xs",children:"Tous"}),a.jsxs(B,{variant:"outline",size:p?"xs":"sm",className:"text-[10px] sm:text-xs text-green-600 border-green-200",children:[a.jsx(On,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Pointé"]}),a.jsxs(B,{variant:"outline",size:p?"xs":"sm",className:"text-[10px] sm:text-xs text-yellow-600 border-yellow-200",children:[a.jsx(Yr,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"En attente"]}),a.jsxs(B,{variant:"outline",size:p?"xs":"sm",className:"text-[10px] sm:text-xs text-red-600 border-red-200",children:[a.jsx(Gs,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1"}),"Absence"]})]})})]})})})}),a.jsx("div",{className:"mb-3 sm:mb-4",children:a.jsxs("div",{className:"grid grid-cols-2 p-1 bg-muted rounded-lg",children:[a.jsxs(B,{variant:o==="timeline"?"default":"ghost",className:"rounded-lg text-[10px] sm:text-xs py-1.5 px-2 sm:py-2 sm:px-3",onClick:()=>i("timeline"),children:[a.jsx(Yy,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),!p&&"Chronologie"]}),a.jsxs(B,{variant:o==="creneau"?"default":"ghost",className:"rounded-lg text-[10px] sm:text-xs py-1.5 px-2 sm:py-2 sm:px-3",onClick:()=>i("creneau"),children:[a.jsx(ar,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),!p&&"Par créneau"]})]})}),a.jsx(fl,{mode:"wait",children:a.jsx(de.div,{initial:{opacity:0,x:o==="timeline"?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:o==="timeline"?20:-20},transition:{duration:.3},children:o==="timeline"?N():_()},o)}),a.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 sm:gap-3 mt-3 sm:mt-4 text-[8px] sm:text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 bg-green-500 rounded-full mr-1"}),a.jsx("span",{children:"Pointé"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 bg-yellow-500 animate-pulse rounded-full mr-1"}),a.jsx("span",{children:"En attente"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 bg-red-500/60 rounded-full mr-1"}),a.jsx("span",{children:"Absence"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 bg-gray-300 dark:bg-gray-600 rounded-full mr-1"}),a.jsx("span",{children:"À venir"})]})]})]})]})},g7=({guichetieresPlanifiees:e,pointagesData:t,creneauxPointageSettings:n,currentCreneauIndex:r})=>{if(!e||e.length===0)return a.jsxs(_e,{className:"shadow-lg glassmorphism",children:[a.jsx(De,{children:a.jsxs(Pe,{className:"text-lg text-primary flex items-center",children:[a.jsx(ar,{className:"mr-2 h-5 w-5"})," Statut des Guichetières"]})}),a.jsx(ke,{className:"pt-2",children:a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune guichetière planifiée pour aujourd'hui."})})]});const s=d=>{const h=t[d.matricule]||[],m=n.length,p=h.length,w=p>=m&&m>0,g=p>0&&p<m,b=r>0&&h.every(y=>y.creneauIndex!==r-1),v=h.length>0?h.reduce((y,x)=>new Date(x.time)>new Date(y.time)?x:y,h[0]):null;return{matricule:d.matricule,nom:d.nom,prenom:d.prenom,status:w?"complet":g?"en-cours":b?"retard":"absent",pointedCount:p,totalCreneaux:m,progressPercent:m>0?p/m*100:0,lastPointageTime:v&&v.time&&bt(new Date(v.time))?ye(new Date(v.time),"HH:mm"):null,lastCreneauIndex:v?v.creneauIndex:null}},o=e.map(s),i={complet:o.filter(d=>d.status==="complet").length,"en-cours":o.filter(d=>d.status==="en-cours").length,retard:o.filter(d=>d.status==="retard").length,absent:o.filter(d=>d.status==="absent").length},l=d=>{switch(d){case"complet":return"bg-green-500 text-white";case"en-cours":return"bg-blue-500 text-white";case"retard":return"bg-yellow-500 text-white";case"absent":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},c=d=>{switch(d){case"complet":return a.jsx(On,{className:"h-4 w-4"});case"en-cours":return a.jsx(ut,{className:"h-4 w-4"});case"retard":return a.jsx(KO,{className:"h-4 w-4"});case"absent":return a.jsx(Gs,{className:"h-4 w-4"});default:return null}},u=d=>{switch(d){case"complet":return"Complet";case"en-cours":return"En cours";case"retard":return"En retard";case"absent":return"Absent";default:return"Inconnu"}};return a.jsxs(_e,{className:"shadow-lg glassmorphism",children:[a.jsx(De,{children:a.jsxs(Pe,{className:"text-lg text-primary flex items-center",children:[a.jsx(ar,{className:"mr-2 h-5 w-5"})," Statut des Guichetières"]})}),a.jsxs(ke,{className:"pt-2",children:[a.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:Object.keys(i).map(d=>a.jsxs("div",{className:"flex flex-col items-center p-2 bg-muted rounded-lg",children:[a.jsx("div",{className:`h-8 w-8 flex items-center justify-center rounded-full ${l(d)}`,children:c(d)}),a.jsx("p",{className:"text-xs font-medium mt-1",children:u(d)}),a.jsx("p",{className:"text-lg font-bold",children:i[d]})]},d))}),a.jsx("div",{className:"space-y-2 overflow-auto max-h-48 pr-1 custom-scrollbar",children:o.map((d,h)=>a.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:h*.05},className:"flex items-center bg-background/50 rounded-lg p-2 shadow-sm",children:[a.jsx("div",{className:`h-8 w-8 flex items-center justify-center rounded-full mr-2 ${l(d.status)}`,children:c(d.status)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("p",{className:"text-sm font-medium truncate",children:[d.prenom," ",d.nom]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.pointedCount,"/",d.totalCreneaux]})]}),a.jsx("div",{className:"w-full bg-muted h-1.5 rounded-full mt-1 overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${d.progressPercent>=100?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min(100,d.progressPercent)}%`}})}),d.lastPointageTime&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Dernier pointage: ",d.lastPointageTime," (C",d.lastCreneauIndex+1,")"]})]})]},d.matricule))})]})]})},v7="modulepreload",x7=function(e){return"/"+e},Ew={},yi=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=x7(o),o in Ew)return;Ew[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===o&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":v7,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},y7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yi(()=>Promise.resolve().then(()=>Hl),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class $v extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class w7 extends $v{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class b7 extends $v{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class j7 extends $v{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var C7=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class S7{constructor(t,{headers:n={},customFetch:r}={}){this.url=t,this.headers=n,this.fetch=y7(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return C7(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let l={},c;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(l["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(l["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(p=>{throw new w7(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new b7(u);if(!u.ok)throw new j7(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield u.json():h==="application/octet-stream"?m=yield u.blob():h==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var N7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wi=N7();const E7=wi.fetch,Ov=wi.fetch.bind(wi),L2=wi.Headers,_7=wi.Request,P7=wi.Response,Hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:L2,Request:_7,Response:P7,default:Ov,fetch:E7},Symbol.toStringTag,{value:"Module"}));class k7{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ov:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,h=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(d=[],u=null,m=200,p="OK")}catch{o.status===404&&g===""?(m=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:d,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}}class T7 extends k7{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class ko extends T7{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=n.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}}class R7{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new ko({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ko({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ko({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ko({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ko({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const D7="1.9.0",M7={"X-Client-Info":`postgrest-js/${D7}`};class Iv{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},M7),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new R7(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Iv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,count:s}={}){let o;const i=new URL(`${this.url}/rpc/${t}`);let l;r?(o="HEAD",Object.entries(n).forEach(([u,d])=>{i.searchParams.append(u,`${d}`)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new ko({method:o,url:i,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}const A7="2.9.1",$7={"X-Client-Info":`realtime-js/${A7}`},O7="1.0.0",F2=1e4,I7=1e3;var si;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(si||(si={}));var Ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ht||(Ht={}));var An;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(An||(An={}));var op;(function(e){e.websocket="websocket"})(op||(op={}));var Ls;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ls||(Ls={}));class V2{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class L7{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class ch{constructor(t,n,r={},s=F2){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _w;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_w||(_w={}));class Oa{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oa.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Oa.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Oa.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const m=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),w=d.filter(b=>p.indexOf(b.presence_ref)<0),g=h.filter(b=>m.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),m=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const Pw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=F7(i,e,t,s),o),{})},F7=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?U2(o,i):ip(i)},U2=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return B7(t,n)}switch(e){case Oe.bool:return V7(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return U7(t);case Oe.json:case Oe.jsonb:return z7(t);case Oe.timestamp:return W7(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return ip(t);default:return ip(t)}},ip=e=>e,V7=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},U7=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},z7=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},B7=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>U2(t,l))}return e},W7=e=>typeof e=="string"?e.replace(" ","T"):e;var kw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kw||(kw={}));var Tw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(Tw||(Tw={}));var Rw;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rw||(Rw={}));class Lv{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new ch(this,An.join,this.params,this.timeout),this.rejoinTimer=new V2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Oa(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i}}=this.params;this._onError(u=>t&&t("CHANNEL_ERROR",u)),this._onClose(()=>t&&t("CLOSED"));const l={},c={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){t&&t("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,m=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let w=0;w<m;w++){const g=h[w],{filter:{event:b,schema:v,table:y,filter:x}}=g,C=u&&u[w];if(C&&C.event===b&&C.schema===v&&C.table===y&&C.filter===x)p.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t("SUBSCRIBED");return}}).receive("error",u=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{apikey:(r=this.socket.accessToken)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new ch(this,An.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ch(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=An;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,g,b;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(m,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var w,g,b,v,y,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const C=p.id,S=(w=p.filter)===null||w===void 0?void 0:w.event;return C&&((g=n.ids)===null||g===void 0?void 0:g.includes(C))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const C=(y=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return C==="*"||C===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:g,table:b,commit_timestamp:v,type:y,errors:x}=w;m=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(w))}p.callback(m,r)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Lv.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(An.close,{},t)}_onError(t){this._on(An.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Pw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Pw(t.columns,t.old_record)),n}}const H7=()=>{},G7=typeof WebSocket<"u";class q7{constructor(t,n){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=$7,this.params={},this.timeout=F2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=H7,this.conn=null,this.sendBuffer=[],this.serializer=new L7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>yi(()=>Promise.resolve().then(()=>Hl),void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${op.websocket}`,n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;s&&(this.accessToken=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new V2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(G7){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new K7(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),yi(()=>import("./browser-d7225316.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case si.connecting:return Ls.Connecting;case si.open:return Ls.Open;case si.closing:return Ls.Closing;default:return Ls.Closed}}isConnected(){return this.connectionState()===Ls.Open}channel(t,n={config:{}}){const r=new Lv(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(An.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:O7}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;(i&&i===this.pendingHeartbeatRef||s===(o==null?void 0:o.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(An.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(I7,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class K7{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=si.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Fv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function jt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Y7 extends Fv{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dw extends Fv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var J7=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const z2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yi(()=>Promise.resolve().then(()=>Hl),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},X7=()=>J7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yi(()=>Promise.resolve().then(()=>Hl),void 0)).Response:Response});var zi=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const uh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Q7=(e,t)=>zi(void 0,void 0,void 0,function*(){const n=yield X7();e instanceof n?e.json().then(r=>{t(new Y7(uh(r),e.status||500))}).catch(r=>{t(new Dw(uh(r),r))}):t(new Dw(uh(e),e))}),Z7=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};function qd(e,t,n,r,s,o){return zi(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,Z7(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Q7(c,l))})})}function ap(e,t,n,r){return zi(this,void 0,void 0,function*(){return qd(e,"GET",t,n,r)})}function zr(e,t,n,r,s){return zi(this,void 0,void 0,function*(){return qd(e,"POST",t,r,s,n)})}function e9(e,t,n,r,s){return zi(this,void 0,void 0,function*(){return qd(e,"PUT",t,r,s,n)})}function B2(e,t,n,r,s){return zi(this,void 0,void 0,function*(){return qd(e,"DELETE",t,r,s,n)})}var fn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const t9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class n9{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=z2(s)}uploadOrUpdate(t,n,r,s){return fn(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Mw),s),l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl)):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType);const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(jt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return fn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Mw.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(jt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t){return fn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=yield zr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),s=new URL(this.url+r.url),o=s.searchParams.get("token");if(!o)throw new Fv("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}update(t,n,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n){return fn(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}copy(t,n){return fn(this,void 0,void 0,function*(){try{return{data:{path:(yield zr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,r){return fn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield zr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return fn(this,void 0,void 0,function*(){try{const s=yield zr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}download(t,n){return fn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ap(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(jt(l))return{data:null,error:l};throw l}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return fn(this,void 0,void 0,function*(){try{return{data:yield B2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}list(t,n,r){return fn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},t9),n),{prefix:t||""});return{data:yield zr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const r9="2.5.5",s9={"X-Client-Info":`storage-js/${r9}`};var jo=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class o9{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},s9),n),this.fetch=z2(r)}listBuckets(){return jo(this,void 0,void 0,function*(){try{return{data:yield ap(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(jt(t))return{data:null,error:t};throw t}})}getBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield ap(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return jo(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return jo(this,void 0,void 0,function*(){try{return{data:yield e9(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield B2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}}class i9 extends o9{constructor(t,n={},r){super(t,n,r)}from(t){return new n9(this.url,this.headers,t,this.fetch)}}const a9="2.39.1";let va="";typeof Deno<"u"?va="deno":typeof document<"u"?va="web":typeof navigator<"u"&&navigator.product==="ReactNative"?va="react-native":va="node";const l9={"X-Client-Info":`supabase-js-${va}/${a9}`};var c9=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const u9=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ov:t=fetch,(...n)=>t(...n)},d9=()=>typeof Headers>"u"?L2:Headers,f9=(e,t,n)=>{const r=u9(n),s=d9();return(o,i)=>c9(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};function h9(e){return e.replace(/\/$/,"")}function m9(e,t){const{db:n,auth:r,realtime:s,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o)}}function p9(e){return Math.round(Date.now()/1e3)+e}function g9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Tn=()=>typeof document<"u",Ps={tested:!1,writable:!1},Ia=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ps.tested)return Ps.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ps.tested=!0,Ps.writable=!0}catch{Ps.tested=!0,Ps.writable=!1}return Ps.writable};function dh(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const W2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yi(()=>Promise.resolve().then(()=>Hl),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},v9=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ks=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fh=async(e,t)=>{await e.removeItem(t)};function x9(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,o,i,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)i=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=i<<2|l>>4,s=(l&15)<<4|c>>2,o=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}class Kd{constructor(){this.promise=new Kd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Kd.promiseConstructor=Promise;function Aw(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(x9(r))}async function y9(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function w9(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function b9(e){return("0"+e.toString(16)).substr(-2)}function Co(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,b9).join("")}async function j9(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}function C9(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function So(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await j9(e);return C9(n)}class Vv extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function Se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class S9 extends Vv{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function N9(e){return Se(e)&&e.name==="AuthApiError"}class H2 extends Vv{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class po extends Vv{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class No extends po{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class hh extends po{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Dc extends po{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Mc extends po{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $w extends po{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lp extends po{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function mh(e){return Se(e)&&e.name==="AuthRetryableFetchError"}class E9 extends po{constructor(t,n,r){super(t,"AuthWeakPasswordError",n),this.reasons=r}}var _9=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const To=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),P9=[502,503,504];async function Ow(e){if(!v9(e))throw new lp(To(e),0);if(P9.includes(e.status))throw new lp(To(e),e.status);let t;try{t=await e.json()}catch(n){throw new H2(To(n),n)}throw typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)?new E9(To(t),e.status,t.weak_password.reasons):new S9(To(t),e.status||500)}const k9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ne(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await T9(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function T9(e,t,n,r,s,o){const i=k9(t,r,s,o);let l;try{l=await e(n,i)}catch(c){throw console.error(c),new lp(To(c),0)}if(l.ok||await Ow(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Ow(c)}}function Os(e){var t;let n=null;A9(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=p9(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Iw(e){const t=Os(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function R9(e){return{data:e,error:null}}function D9(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=_9(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function M9(e){return e}function A9(e){return e.access_token&&e.refresh_token&&e.expires_in}var $9=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class O9{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=W2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Hr})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=$9(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:D9,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hr})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:M9});if(d.error)throw d.error;const h=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Se(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hr})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Hr})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Hr})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}}const G2="2.62.0",I9="http://localhost:9999",L9="supabase.auth.token",F9={"X-Client-Info":`gotrue-js/${G2}`},Lw=10,V9={getItem:e=>Ia()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ia()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ia()&&globalThis.localStorage.removeItem(e)}};function Fw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function U9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Eo={debug:!!(globalThis&&Ia()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class q2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class z9 extends q2{}async function B9(e,t,n){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new z9(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Eo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}U9();const W9={url:I9,storageKey:L9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F9,flowType:"implicit",debug:!1},aa=30*1e3,Vw=3;async function Uw(e,t,n){return await n()}class xl{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xl.nextInstanceID,xl.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},W9),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new O9({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=W2(s.fetch),this.lock=s.lock||Uw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,s.lock?this.lock=s.lock:Tn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=B9:this.lock=Uw,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ia()?this.storage=V9:(this.memoryStorage={},this.storage=Fw(this.memoryStorage)):(this.memoryStorage={},this.storage=Fw(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${G2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=Tn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Se(t)?{error:t}:{error:new H2("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(t){var n,r,s;try{await this._removeSession();let o;if("email"in t){const{email:d,password:h,options:m}=t;let p=null,w=null;if(this.flowType==="pkce"){const g=Co();await ks(this.storage,`${this.storageKey}-code-verifier`,g),p=await So(g),w=g===p?"plain":"s256"}o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:w},xform:Os})}else if("phone"in t){const{phone:d,password:h,options:m}=t;o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Os})}else throw new Dc("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Se(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Iw})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Iw})}else throw new Dc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new hh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Rc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/"),{data:o,error:i}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Os});return await fh(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null,redirectType:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new hh}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Os}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new hh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,d=null;if(this.flowType==="pkce"){const m=Co();await ks(this.storage,`${this.storageKey}-code-verifier`,m),u=await So(m),d=m===u?"plain":"s256"}const{error:h}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Dc("You must provide either an email or phone number.")}catch(l){if(Se(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Os});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{await this._removeSession();let o=null,i=null;if(this.flowType==="pkce"){const l=Co();await ks(this.storage,`${this.storageKey}-code-verifier`,l),o=await So(l),i=l===o?"plain":"s256"}return await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:R9})}catch(o){if(Se(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new No;const{error:s}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Dc("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Rc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hr}):await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:Hr})})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new No;const i=s.session;let l=null,c=null;if(this.flowType==="pkce"&&t.email!=null){const h=Co();await ks(this.storage,`${this.storageKey}-code-verifier`,h),l=await So(h),c=h===l?"plain":"s256"}const{data:u,error:d}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Hr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Aw(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new No;const n=Date.now()/1e3;let r=n,s=!0,o=null;const i=Aw(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new No;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!Tn())throw new Mc("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Mc("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new $w("Not a valid PKCE flow url.");const n=dh(window.location.href);if(t){if(!n.code)throw new $w("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(n.code);if(x)throw x;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:y.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Mc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=n;if(!o||!l||!i||!u)throw new Mc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const p=m-d;p*1e3<=aa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",w,m,d);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const v={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:m,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:n.type},error:null}}catch(n){if(Se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=dh(window.location.href);return!!(Tn()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=dh(window.location.href),n=await Rc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(N9(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await fh(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=g9(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;if(this.flowType==="pkce"){const o=Co();await ks(this.storage,`${this.storageKey}-code-verifier`,`${o}/PASSWORD_RECOVERY`),r=await So(o),s=o===r?"plain":"s256"}try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Se(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:h,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Tn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Se(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await w9(async s=>(await y9(s*200),this._debug(n,"refreshing attempt",s),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Os})),(s,o,i)=>i&&i.error&&mh(i.error)&&Date.now()+(s+1)*200-r<aa)}catch(r){if(this._debug(n,"error",r),Se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Tn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Rc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+Lw;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Lw}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),mh(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new No;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Kd;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new No;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),Se(o)){const i={session:null,error:o};return mh(o)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),await ks(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await fh(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),aa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/aa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${aa}ms, refresh threshold is ${Vw} ticks`),s<=Vw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof q2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const o=Co();await ks(this.storage,`${this.storageKey}-code-verifier`,o);const i=await So(o),l=o===i?"plain":"s256";this._debug("PKCE","code verifier",`${o.substring(0,5)}...`,"code challenge",i,"method",l);const c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const{data:l,error:c}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:r,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}xl.nextInstanceID=0;class H9 extends xl{constructor(t){super(t)}}var G9=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const q9={headers:l9},K9={schema:"public"},Y9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J9={};class X9{constructor(t,n,r){var s,o,i,l,c,u,d,h;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const m=h9(t);this.realtimeUrl=`${m}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${m}/auth/v1`,this.storageUrl=`${m}/storage/v1`,this.functionsUrl=`${m}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:K9,realtime:J9,auth:Object.assign(Object.assign({},Y9),{storageKey:p}),global:q9},g=m9(r??{},w);this.storageKey=(o=(s=g.auth)===null||s===void 0?void 0:s.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=(i=g.global)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(u=g.global)===null||u===void 0?void 0:u.fetch),this.fetch=f9(n,this._getAccessToken.bind(this),(d=g.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new Iv(`${m}/rest/v1`,{headers:this.headers,schema:(h=g.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new S7(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new i9(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return G9(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H9({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,debug:l,fetch:u})}_initRealtimeClient(t){return new q7(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Q9=(e,t,n)=>new X9(e,t,n),Z9="https://pzmapmxjkkqhuiamdvjd.supabase.co",eU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB6bWFwbXhqa2txaHVpYW1kdmpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwNzUzMzMsImV4cCI6MjA2MjY1MTMzM30.YNcm5sm0GtvbCcT3ooyW2wNYcoOUUfLZJIhGrJPweQw",Q=Q9(Z9,eU),tU=()=>{const{toast:e}=Qe(),[t,n]=f.useState(1),[r,s]=f.useState(!1),[o,i]=f.useState(""),[l,c]=f.useState(null),[u,d]=f.useState(null),[h,m]=f.useState([]),[p,w]=f.useState([]),[g,b]=f.useState({}),[v,y]=f.useState(null),[x,C]=f.useState(!1),[S,E]=f.useState("Agence Centrale"),[N,_]=f.useState(30),[D,R]=f.useState(null),[I,O]=f.useState(!1),[z,M]=f.useState(""),U=f.useRef(null),$=f.useRef(null),T=ye(new Date,"eeee dd MMMM yyyy",{locale:vn}),P=ye(new Date,"yyyy-MM-dd"),[j,k]=f.useState(-1),[A,L]=f.useState({canPointe:!1,message:"Chargement..."}),W=f.useCallback(async()=>{if(v!=null&&v.id)try{const{data:q}=await Q.from("connexions_chefs").select("*").eq("chef_agence_id",v.id).is("date_deconnexion",null).order("date_connexion",{ascending:!1}).limit(1);q&&q.length>0&&await Q.from("connexions_chefs").update({date_deconnexion:new Date().toISOString()}).eq("id",q[0].id)}catch(q){console.error("Erreur lors de l'enregistrement de la déconnexion:",q)}localStorage.removeItem("pmuChefAuth"),y(null),C(!1),E("Agence Centrale"),O(!1),U.current&&(clearTimeout(U.current),U.current=null),$.current&&(clearTimeout($.current),$.current=null)},[v]);f.useEffect(()=>{const q=JSON.parse(localStorage.getItem("pmuChefAuth"));q&&q.isAuthenticated&&q.chefInfo?(y(q.chefInfo),C(!0),E(q.chefInfo.nomAgence||"Agence Centrale")):(C(!1),E("Agence Centrale"))},[]);const Y=f.useCallback(async()=>{const{data:q,error:te}=await Q.from("app_settings").select("value").eq("key","general").single();if(te&&te.code!=="PGRST116")console.error("Erreur chargement paramètres app:",te),m([{debut:"09:00",fin:"10:00"},{debut:"14:00",fin:"15:00"}]),_(30),M("Vous allez être automatiquement déconnecté. Veuillez demander au Chef d'agence de se reconnecter");else if(q&&q.value){m(q.value.creneauxPointage||[{debut:"09:00",fin:"10:00"},{debut:"14:00",fin:"15:00"}]);let he=30;q.value.sessionDureeMinutes&&(he=q.value.sessionDureeMinutes),v&&q.value.sessionDureeIndividuelle&&q.value.sessionDureeIndividuelle[v.id]&&(he=q.value.sessionDureeIndividuelle[v.id]),_(he),M(q.value.messageDeconnexion||"Vous allez être automatiquement déconnecté. Veuillez demander au Chef d'agence de se reconnecter")}else m([{debut:"09:00",fin:"10:00"},{debut:"14:00",fin:"15:00"}]),_(30),M("Vous allez être automatiquement déconnecté. Veuillez demander au Chef d'agence de se reconnecter")},[v]);f.useEffect(()=>{if(x&&N>0){U.current&&(clearTimeout(U.current),U.current=null),$.current&&(clearTimeout($.current),$.current=null);const q=new Date;q.setMinutes(q.getMinutes()+N),R(q);const te=new Date(q);te.setMinutes(te.getMinutes()-1);const he=Math.max(0,te.getTime()-new Date().getTime()),we=Math.max(0,q.getTime()-new Date().getTime());return $.current=setTimeout(()=>{x&&(O(!0),e({title:"Session expiration",description:z,variant:"warning",duration:6e4}))},he),U.current=setTimeout(()=>{x&&(e({title:"Session expirée",description:"Vous avez été déconnecté en raison de l'inactivité.",variant:"destructive"}),W())},we),()=>{U.current&&clearTimeout(U.current),$.current&&clearTimeout($.current)}}},[x,N,z,W,e]);const F=f.useCallback(async q=>{if(!q||q==="Agence Centrale"&&!x){w([]),b({}),s(!1);return}s(!0);const{data:te,error:he}=await Q.from("planning").select("guichetieres (id, matricule, nom, prenom, photo_url)").eq("agenceNom",q).eq("date",P);if(he)e({title:"Erreur chargement planning",description:he.message,variant:"destructive"}),w([]);else{const we=te.map(Ve=>Ve.guichetieres).filter(Boolean);if(w(we),we.length>0){const Ve=we.map(un=>un.matricule),{data:lt,error:vt}=await Q.from("pointages").select("*").eq("date",P).eq("agence",q).in("guichetiereMatricule",Ve);if(vt)e({title:"Erreur chargement pointages",description:vt.message,variant:"destructive"}),b({});else{const un={};lt.forEach(ht=>{un[ht.guichetiereMatricule]||(un[ht.guichetiereMatricule]=[]);const Gi=ht.time?He(ht.time):null;Gi&&bt(Gi)?un[ht.guichetiereMatricule].push({...ht,time:Gi}):(console.warn("Invalid time value for pointage:",ht),un[ht.guichetiereMatricule].push({...ht,time:null}))}),b(un)}}else b({})}s(!1)},[P,e,x]);f.useEffect(()=>{Y()},[Y]),f.useEffect(()=>{S&&F(S)},[S,F]),f.useEffect(()=>{const q=()=>{const he=new Date;if(!h||h.length===0){k(-1);return}const we=h.findIndex(Ve=>{if(!Ve||!Ve.debut||!Ve.fin)return!1;const[lt,vt]=Ve.debut.split(":").map(Number),[un,ht]=Ve.fin.split(":").map(Number);if(isNaN(lt)||isNaN(vt)||isNaN(un)||isNaN(ht))return!1;const Gi=new Date(he.getFullYear(),he.getMonth(),he.getDate(),lt,vt,0),mk=new Date(he.getFullYear(),he.getMonth(),he.getDate(),un,ht,0);return he>=Gi&&he<=mk});k(we)};q();const te=setInterval(q,6e4);return()=>clearInterval(te)},[h]);const G=f.useCallback(()=>{if(!l||j===-1){L({canPointe:!1,message:"Aucun créneau actif ou guichetière non identifiée."});return}const te=(g[l.matricule]||[]).some(he=>he.creneauIndex===j);L(te?{canPointe:!1,message:`Vous avez déjà pointé pour le créneau ${j+1}.`}:{canPointe:!0,message:`Prêt(e) à pointer pour le créneau ${j+1}.`})},[l,j,g]);f.useEffect(()=>{t===4&&l&&G()},[t,l,G]);const H=f.useCallback(()=>{n(1),i(""),c(null),s(!1),S&&F(S)},[F,S]),V=async()=>{if(!o){e({title:"Erreur",description:"Veuillez saisir un matricule.",variant:"destructive"});return}s(!0);const{data:q,error:te}=await Q.from("guichetieres").select("id, matricule, nom, prenom, photo_url").eq("matricule",o).single();if(te||!q){e({title:"Matricule Invalide",description:"Aucune guichetière trouvée avec ce matricule.",variant:"destructive"}),c(null),s(!1);return}if(!p.some(we=>we.id===q.id)){e({title:"Non planifiée",description:`${q.prenom} ${q.nom} n'est pas planifiée pour aujourd'hui (${T}) à l'agence ${S}.`,variant:"destructive",duration:7e3}),c(null),s(!1);return}c(q),e({title:"Guichetière identifiée",description:`Bonjour ${q.prenom} ${q.nom}. Prête pour le pointage.`,className:"bg-green-500 text-white"}),n(2),s(!1)},X=()=>{n(3)},re=async q=>{if(!q){e({title:"Signature requise",description:"Veuillez signer avant de valider.",variant:"destructive"});return}s(!0),d(q),await new Promise(te=>setTimeout(te,400)),e({title:"Signature",description:"Signature validée.",className:"bg-yellow-500 text-white"}),n(4),s(!1)},oe=async()=>{if(!l||j===-1||!A.canPointe){e({title:"Action impossible",description:A.message||"Impossible de valider le pointage.",variant:"destructive"}),s(!1);return}s(!0);const q={guichetiereMatricule:l.matricule,date:P,time:new Date().toISOString(),type:"standard",agence:S,creneauIndex:j},{error:te}=await Q.from("pointages").insert(q);te?e({title:"Erreur de validation",description:te.message,variant:"destructive"}):(e({title:"Pointage validé !",description:`Merci ${l.prenom}, votre pointage pour le créneau ${j+1} à ${S} a été enregistré.`,className:"bg-green-600 text-white"}),H()),s(!1)},se=f.useCallback(()=>{if(x&&N>0&&!I){U.current&&(clearTimeout(U.current),U.current=null),$.current&&(clearTimeout($.current),$.current=null);const q=new Date;q.setMinutes(q.getMinutes()+N),R(q);const te=new Date(q);te.setMinutes(te.getMinutes()-1);const he=Math.max(0,te.getTime()-new Date().getTime()),we=Math.max(0,q.getTime()-new Date().getTime());$.current=setTimeout(()=>{x&&(O(!0),e({title:"Session expiration",description:z,variant:"warning",duration:6e4}))},he),U.current=setTimeout(()=>{x&&(e({title:"Session expirée",description:"Vous avez été déconnecté en raison de l'inactivité.",variant:"destructive"}),W())},we)}},[x,I,N,z,e,W]);return{step:t,isLoading:r,matricule:o,setMatricule:i,identifiedGuichetiere:l,signature:u,setSignature:d,creneauxPointageSettings:h,guichetieresPlanifieesAujourdhui:p,pointagesJournaliersAgence:g,nomAgenceAffichee:S,todayFormatted:T,resetProcess:H,handleMatriculeSubmit:V,handleFacialRecognitionSuccess:X,handleSignature:re,validerPointage:oe,setStep:n,chefAgenceInfo:v,isChefAgenceLoggedIn:x,currentPointageStatus:A,currentCreneauIndex:j,sessionExpirationTime:D,isSessionExpired:I,sessionExpirationMessage:z,logoutChefAgence:W,resetSessionTimeout:se}},nU=()=>{var $;const{step:e,isLoading:t,matricule:n,setMatricule:r,identifiedGuichetiere:s,signature:o,creneauxPointageSettings:i,guichetieresPlanifieesAujourdhui:l,pointagesJournaliersAgence:c,nomAgenceAffichee:u,todayFormatted:d,resetProcess:h,handleMatriculeSubmit:m,handleFacialRecognitionSuccess:p,handleSignature:w,validerPointage:g,chefAgenceInfo:b,isChefAgenceLoggedIn:v,currentPointageStatus:y,currentCreneauIndex:x,isSessionExpired:C,sessionExpirationMessage:S,logoutChefAgence:E,resetSessionTimeout:N}=tU(),[_,D]=f.useState(new Date),[R,I]=f.useState(!1),[O,z]=f.useState(typeof window<"u"?window.innerWidth:1024),M=O<640;f.useEffect(()=>{const T=()=>z(window.innerWidth);return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),f.useEffect(()=>{const T=setInterval(()=>D(new Date),1e3);return()=>clearInterval(T)},[]),f.useEffect(()=>{if(v){const T=()=>{N&&N()};return window.addEventListener("mousemove",T),window.addEventListener("mousedown",T),window.addEventListener("keypress",T),window.addEventListener("touchstart",T),window.addEventListener("scroll",T),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mousedown",T),window.removeEventListener("keypress",T),window.removeEventListener("touchstart",T),window.removeEventListener("scroll",T)}}},[v,N]);const U=()=>{switch(e){case 1:return a.jsx(nV,{matricule:n,setMatricule:r,onSubmit:m,isLoading:t});case 2:return a.jsx(rV,{guichetiereInfo:s,onSubmit:p,onReset:h,isLoading:t});case 3:return a.jsx(sV,{onSubmit:w,onReset:h,isLoading:t});case 4:return a.jsx(oV,{onSubmit:g,onReset:h,isLoading:t,currentPointageStatus:y,signature:o});default:return null}};return!v&&u==="Agence Centrale"?a.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center min-h-[calc(100vh-12rem)] p-3 md:p-8 text-center",children:a.jsxs(_e,{className:"w-full max-w-lg shadow-xl glassmorphism p-4 md:p-8",children:[a.jsx(al,{className:"h-10 w-10 md:h-16 md:w-16 text-primary mx-auto mb-3 md:mb-6"}),a.jsx(Pe,{className:"text-xl md:text-3xl font-bold text-primary mb-2 md:mb-4",children:"Accès Chef d'Agence Requis"}),a.jsx("p",{className:"text-sm md:text-lg text-muted-foreground mb-4 md:mb-8",children:"Pour accéder à la fonctionnalité de pointage pour une agence spécifique, veuillez d'abord vous connecter à votre Espace Chef d'Agence."}),a.jsx(B,{asChild:!0,size:M?"default":"lg",className:"bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white text-xs md:text-base w-full md:w-auto",children:a.jsxs(Pl,{to:"/espace-chef-agence",children:[a.jsx(WS,{className:"mr-2 h-4 w-4 md:h-5 md:w-5"})," Se Connecter (Chef d'Agence)"]})}),a.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mt-4 md:mt-6",children:"Si vous êtes une guichetière et que l'agence centrale est affichée, cela signifie qu'aucun chef d'agence n'est connecté."})]})}):a.jsxs("div",{className:"container mx-auto px-2 py-4 sm:p-4 md:p-8",children:[C&&v&&a.jsx(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4 p-3 sm:p-4 border-2 border-red-500 bg-red-50 dark:bg-red-900/30 rounded-lg shadow-md",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(al,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-500 mr-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-red-700 dark:text-red-400",children:"Session en cours d'expiration"}),a.jsx("p",{className:"text-xs sm:text-sm text-red-600 dark:text-red-300",children:S})]})]}),a.jsxs(B,{variant:"destructive",size:M?"sm":"default",onClick:E,className:"whitespace-nowrap",children:[a.jsx(Md,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"text-xs sm:text-sm",children:"Se déconnecter"})]})]})}),a.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-3 md:mb-6",children:[a.jsxs("h1",{className:"text-xl sm:text-2xl md:text-4xl font-bold text-primary mb-1 md:mb-2 flex items-center justify-center",children:[a.jsx(QO,{className:"mr-2 md:mr-3 h-6 w-6 sm:h-7 sm:w-7 md:h-10 md:w-10"}),"Pointage",a.jsx("span",{className:"hidden xs:inline",children:" de Présence"})]}),a.jsxs("p",{className:"text-base sm:text-lg text-muted-foreground",children:["Agence: ",a.jsx("span",{className:"font-semibold text-primary",children:u})]}),a.jsxs("p",{className:"text-xs sm:text-sm md:text-lg text-muted-foreground",children:["Date: ",a.jsx("span",{className:"font-medium text-primary",children:d})," | Heure: ",a.jsx("span",{className:"font-medium text-primary",children:ye(_,"HH:mm:ss")})]}),b&&a.jsxs("div",{className:"flex items-center justify-center mt-2",children:[a.jsxs(ps,{className:"h-8 w-8 sm:h-10 sm:w-10 border-2 border-primary/20 mr-2",children:[b.photo_url?a.jsx(eo,{src:b.photo_url,alt:b.nomChef}):null,a.jsx(gs,{className:"bg-primary/10 text-primary font-medium text-xs sm:text-sm",children:(($=b.nomChef)==null?void 0:$.split(" ").map(T=>T[0]).join(""))||"CA"})]}),a.jsxs("p",{className:"text-[10px] xs:text-xs sm:text-sm text-muted-foreground",children:[a.jsx("span",{className:"hidden xs:inline",children:"Connecté en tant que:"})," ",b.nomChef]})]})]}),a.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-3 md:mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-primary flex items-center",children:[a.jsx(Yr,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"hidden xs:inline",children:"Chronologie des"})," Pointages"]}),a.jsx(B,{variant:"ghost",size:M?"xs":"sm",onClick:()=>{I(!R),N&&N()},className:"text-muted-foreground flex items-center text-xs",children:R?a.jsxs(a.Fragment,{children:[!M&&"Réduire"," ",a.jsx(t4,{className:"ml-1 h-3 w-3 sm:h-4 sm:w-4"})]}):a.jsxs(a.Fragment,{children:[!M&&"Développer"," ",a.jsx(IS,{className:"ml-1 h-3 w-3 sm:h-4 sm:w-4"})]})})]}),a.jsx(p7,{currentTime:_,creneaux:i,guichetieresPlanifiees:l,pointagesData:c,currentCreneauIndex:x}),R&&a.jsx(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 sm:mt-4",children:a.jsx(g7,{guichetieresPlanifiees:l,pointagesData:c,creneauxPointageSettings:i,currentCreneauIndex:x})})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-3 md:gap-6",children:[a.jsx(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"md:col-span-2",children:a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsx(De,{className:"px-3 sm:px-6 pt-3 sm:pt-6 pb-2 sm:pb-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Pe,{className:"text-lg sm:text-xl md:text-2xl text-primary",children:"Processus de Pointage"}),a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4].map(T=>a.jsx("div",{className:`w-1.5 h-1.5 md:w-2.5 md:h-2.5 rounded-full ${e>=T?"bg-primary":"bg-muted"}`},T))})]})}),a.jsx(ke,{className:"p-3 sm:p-6 min-h-[250px] sm:min-h-[350px] flex flex-col justify-center",children:a.jsx(fl,{mode:"wait",children:U()})})]})}),a.jsx(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsx(De,{className:"px-3 sm:px-6 pt-3 sm:pt-6 pb-2 sm:pb-4",children:a.jsxs(Pe,{className:"text-base sm:text-lg md:text-xl text-primary flex items-center",children:[a.jsx(US,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6"})," Statut Quotidien"]})}),a.jsx(ke,{className:"p-2 sm:p-4",children:a.jsx(lV,{guichetieresPlanifiees:l,pointagesData:c,creneauxPointageSettings:i,identifiedGuichetiereMatricule:s==null?void 0:s.matricule,nomAgence:u})})]})})]})]})},K2=(e=30,t,n)=>{const{toast:r}=Qe(),[s,o]=f.useState(!1),[i,l]=f.useState(e*60),[c,u]=f.useState(Date.now()),[d,h]=f.useState(!1),m=f.useCallback(()=>{u(Date.now()),o(!1),h(!1)},[]);f.useEffect(()=>{const w=e*60*1e3,g=2*60*1e3,v=setInterval(()=>{const S=Date.now()-c,E=w-S;l(Math.max(0,Math.floor(E/1e3))),E<=g&&E>0&&!d&&(o(!0),h(!0),r({title:"Session expirante",description:`Votre session expirera dans ${Math.ceil(E/6e4)} minutes par inactivité.`,variant:"warning",duration:1e4})),E<=0&&(t&&t(),n&&localStorage.removeItem(n),r({title:"Session expirée",description:"Votre session a expiré. Veuillez vous reconnecter.",variant:"destructive",duration:5e3}),o(!1),h(!1))},1e3),y=["mousedown","keydown","touchstart","scroll"],x=()=>{m()};return y.forEach(C=>{window.addEventListener(C,x)}),()=>{clearInterval(v),y.forEach(C=>{window.removeEventListener(C,x)})}},[c,e,t,m,r,d,n]);const p=f.useCallback(()=>{const w=Math.floor(i/60),g=i%60;return`${w.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`},[i]);return{sessionExpiring:s,timeRemaining:i,formatTimeRemaining:p,resetTimer:m}},rU=({onLogin:e})=>{const[t,n]=f.useState(""),[r,s]=f.useState(""),[o,i]=f.useState(!1),{toast:l}=Qe(),c=async u=>{var d;if(u.preventDefault(),!t||!r){l({title:"Erreur",description:"Veuillez remplir tous les champs",variant:"destructive"});return}i(!0);try{const{data:h,error:m}=await Q.auth.signInWithPassword({email:t,password:r});if(m){m.message.includes("Invalid login credentials")?l({title:"Échec de la connexion",description:"Email ou mot de passe incorrect.",variant:"destructive"}):l({title:"Erreur d'authentification",description:m.message,variant:"destructive"}),i(!1);return}const p={email:h.user.email,id:h.user.id,role:((d=h.user.user_metadata)==null?void 0:d.role)||"exploitation"};e(!0,p),l({title:"Connexion réussie",description:"Bienvenue dans l'Espace Exploitation.",className:"bg-green-500 text-white"})}catch(h){l({title:"Erreur de système",description:"Une erreur inattendue s'est produite.",variant:"destructive"}),console.error("Erreur de connexion:",h)}i(!1)};return a.jsx(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:a.jsxs(_e,{className:"w-full max-w-md shadow-2xl glassmorphism",children:[a.jsxs(De,{children:[a.jsxs(Pe,{className:"text-3xl font-bold text-center text-primary",children:[a.jsx(pa,{className:"inline-block h-8 w-8 mr-2 text-primary"}),"Accès Espace Exploitation"]}),a.jsx($e,{className:"text-center",children:"Veuillez vous connecter pour continuer."})]}),a.jsx(ke,{children:a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"email",children:"Email"}),a.jsx(xe,{id:"email",type:"email",placeholder:"exemple@pmu-mali.ml",value:t,onChange:u=>n(u.target.value),required:!0,disabled:o})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"password",children:"Mot de passe"}),a.jsx(xe,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:u=>s(u.target.value),required:!0,disabled:o})]}),a.jsx(B,{type:"submit",className:"w-full text-lg py-3 bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]})})]})})},sU=()=>{var w,g,b;const e=ao(),t=Ri(),{toast:n}=Qe(),[r,s]=f.useState(((w=JSON.parse(localStorage.getItem("pmuExploitationAuth")))==null?void 0:w.isAuthenticated)||!1),[o,i]=f.useState(((g=JSON.parse(localStorage.getItem("pmuExploitationAuth")))==null?void 0:g.userData)||null),[l,c]=f.useState(30);f.useEffect(()=>{(async()=>{const{data:y,error:x}=await Q.from("app_settings").select("value").eq("key","general").single();!x&&y&&y.value&&c(y.value.sessionDureeMinutes||30)})()},[]);const{sessionExpiring:u,formatTimeRemaining:d}=K2(l,()=>m(),"pmuExploitationAuth");f.useEffect(()=>{(async()=>{const{data:y}=await Q.auth.getSession();!y.session&&r&&m()})()},[]);const h=(v,y)=>{s(v),v&&y&&(i(y),localStorage.setItem("pmuExploitationAuth",JSON.stringify({isAuthenticated:!0,userData:y})))},m=async()=>{await Q.auth.signOut(),s(!1),i(null),localStorage.removeItem("pmuExploitationAuth"),n({title:"Déconnexion",description:"Vous avez été déconnecté.",className:"bg-blue-500 text-white"}),t("/")},p=[{path:"guichetieres",label:"Guichetières",icon:a.jsx(Fu,{className:"h-5 w-5"})},{path:"techniciens",label:"Techniciens",icon:a.jsx(Il,{className:"h-5 w-5"})},{path:"chefs-agence",label:"Chefs d'agence",icon:a.jsx(ar,{className:"h-5 w-5"})},{path:"agences",label:"Agences",icon:a.jsx($S,{className:"h-5 w-5"})},{path:"etat-planning-general",label:"État Planning Général",icon:a.jsx(OS,{className:"h-5 w-5"})},{path:"statistiques",label:"Statistiques",icon:a.jsx(AS,{className:"h-5 w-5"})},{path:"parametres",label:"Paramètres",icon:a.jsx(Zg,{className:"h-5 w-5"})}];return r?a.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[a.jsx(de.aside,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},className:"md:w-64",children:a.jsxs(_e,{className:"shadow-lg sticky top-20 glassmorphism",children:[a.jsx(De,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ps,{className:"h-10 w-10",children:a.jsx(gs,{className:"bg-primary/10 text-primary",children:((b=o==null?void 0:o.email)==null?void 0:b.charAt(0).toUpperCase())||"E"})}),a.jsxs("div",{children:[a.jsx(Pe,{className:"text-xl text-primary",children:"Menu Exploitation"}),a.jsx($e,{className:"text-sm",children:(o==null?void 0:o.email)||"Utilisateur"})]})]})}),a.jsxs(ke,{children:[a.jsx("nav",{className:"flex flex-col space-y-2",children:p.map(v=>a.jsx(B,{asChild:!0,variant:e.pathname.endsWith(v.path)?"default":"ghost",className:"justify-start text-base",children:a.jsxs(Pl,{to:v.path,children:[v.icon&&Z.cloneElement(v.icon,{className:"mr-3 h-5 w-5"}),v.label]})},v.path))}),u&&a.jsxs("div",{className:"mt-4 p-2 bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-200 rounded-md flex items-center",children:[a.jsx(ev,{className:"h-4 w-4 mr-2 text-yellow-600 dark:text-yellow-400"}),a.jsxs("div",{className:"text-xs font-medium",children:[a.jsx("div",{children:"Session expirante"}),a.jsx("div",{children:d()})]})]}),a.jsxs(B,{variant:"outline",className:"w-full justify-start text-base mt-4 hover:bg-destructive/10 hover:text-destructive",onClick:m,children:[a.jsx(Md,{className:"mr-3 h-5 w-5 text-red-500"}),"Déconnexion"]})]})]})}),a.jsx("main",{className:"flex-1",children:a.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:a.jsx(Cg,{})},e.pathname)})]}):a.jsx(rU,{onLogin:h})},Bn=Z.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:ce("w-full caption-bottom text-sm",e),...t})}));Bn.displayName="Table";const Wn=Z.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:ce("[&_tr]:border-b",e),...t}));Wn.displayName="TableHeader";const Hn=Z.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:ce("[&_tr:last-child]:border-0",e),...t}));Hn.displayName="TableBody";const oU=Z.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:ce("bg-primary font-medium text-primary-foreground",e),...t}));oU.displayName="TableFooter";const tn=Z.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));tn.displayName="TableRow";const le=Z.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));le.displayName="TableHead";const ie=Z.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ie.displayName="TableCell";const lr=Z.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:ce("mt-4 text-sm text-muted-foreground",e),...t}));lr.displayName="TableCaption";var Yd="Dialog",[Y2,MG]=Ot(Yd),[iU,Kn]=Y2(Yd),J2=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[u,d]=or({prop:r,defaultProp:s??!1,onChange:o,caller:Yd});return a.jsx(iU,{scope:t,triggerRef:l,contentRef:c,contentId:yn(),titleId:yn(),descriptionId:yn(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};J2.displayName=Yd;var X2="DialogTrigger",Q2=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Kn(X2,n),o=be(t,s.triggerRef);return a.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Bv(s.open),...r,ref:o,onClick:ee(e.onClick,s.onOpenToggle)})});Q2.displayName=X2;var Uv="DialogPortal",[aU,Z2]=Y2(Uv,{forceMount:void 0}),e_=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Kn(Uv,t);return a.jsx(aU,{scope:t,forceMount:n,children:f.Children.map(r,i=>a.jsx(cn,{present:n||o.open,children:a.jsx(Ii,{asChild:!0,container:s,children:i})}))})};e_.displayName=Uv;var Qu="DialogOverlay",t_=f.forwardRef((e,t)=>{const n=Z2(Qu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Kn(Qu,e.__scopeDialog);return o.modal?a.jsx(cn,{present:r||o.open,children:a.jsx(cU,{...s,ref:t})}):null});t_.displayName=Qu;var lU=us("DialogOverlay.RemoveScroll"),cU=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Kn(Qu,n);return a.jsx(Pd,{as:lU,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(pe.div,{"data-state":Bv(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),to="DialogContent",n_=f.forwardRef((e,t)=>{const n=Z2(to,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Kn(to,e.__scopeDialog);return a.jsx(cn,{present:r||o.open,children:o.modal?a.jsx(uU,{...s,ref:t}):a.jsx(dU,{...s,ref:t})})});n_.displayName=to;var uU=f.forwardRef((e,t)=>{const n=Kn(to,e.__scopeDialog),r=f.useRef(null),s=be(t,n.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return Ml(o)},[]),a.jsx(r_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault())})}),dU=f.forwardRef((e,t)=>{const n=Kn(to,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return a.jsx(r_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),r_=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Kn(to,n),c=f.useRef(null),u=be(t,c);return bd(),a.jsxs(a.Fragment,{children:[a.jsx(Tl,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Mi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Bv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(fU,{titleId:l.titleId}),a.jsx(mU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),zv="DialogTitle",s_=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Kn(zv,n);return a.jsx(pe.h2,{id:s.titleId,...r,ref:t})});s_.displayName=zv;var o_="DialogDescription",i_=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Kn(o_,n);return a.jsx(pe.p,{id:s.descriptionId,...r,ref:t})});i_.displayName=o_;var a_="DialogClose",l_=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Kn(a_,n);return a.jsx(pe.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>s.onOpenChange(!1))})});l_.displayName=a_;function Bv(e){return e?"open":"closed"}var c_="DialogTitleWarning",[AG,u_]=jM(c_,{contentName:to,titleName:zv,docsSlug:"dialog"}),fU=({titleId:e})=>{const t=u_(c_),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},hU="DialogDescriptionWarning",mU=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${u_(hU).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},pU=J2,gU=Q2,vU=e_,d_=t_,f_=n_,h_=s_,m_=i_,p_=l_;const En=pU,vs=gU,xU=vU,_n=p_,g_=Z.forwardRef(({className:e,...t},n)=>a.jsx(d_,{ref:n,className:ce("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));g_.displayName=d_.displayName;const nn=Z.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(xU,{children:[a.jsx(g_,{}),a.jsxs(f_,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(p_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Vu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nn.displayName=f_.displayName;const rn=({className:e,...t})=>a.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rn.displayName="DialogHeader";const sn=({className:e,...t})=>a.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sn.displayName="DialogFooter";const on=Z.forwardRef(({className:e,...t},n)=>a.jsx(h_,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));on.displayName=h_.displayName;const Tr=Z.forwardRef(({className:e,...t},n)=>a.jsx(m_,{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));Tr.displayName=m_.displayName;const yU=()=>{const{toast:e}=Qe(),[t,n]=f.useState([]),[r,s]=f.useState(""),[o,i]=f.useState(!1),[l,c]=f.useState(null),[u,d]=f.useState({nom:"",codePDV:"",adresse:"",region:"",nbreTerminaux:""}),[h,m]=f.useState(!1),p=f.useCallback(async()=>{m(!0);const{data:_,error:D}=await Q.from("agences").select("*").order("nom",{ascending:!0});D?e({title:"Erreur de chargement",description:D.message,variant:"destructive"}):n(_),m(!1)},[e]);f.useEffect(()=>{p()},[p]);const w=_=>{const{name:D,value:R}=_.target;d(I=>({...I,[D]:R}))},g=f.useCallback(()=>{d({nom:"",codePDV:"",adresse:"",region:"",nbreTerminaux:""})},[]),b=async()=>{if(!u.nom||!u.codePDV||!u.nbreTerminaux){e({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires (Nom, Code PDV, Nombre de Terminaux).",variant:"destructive"});return}if(isNaN(parseInt(u.nbreTerminaux))||parseInt(u.nbreTerminaux)<=0){e({title:"Erreur",description:"Le nombre de terminaux doit être un nombre positif.",variant:"destructive"});return}m(!0);let _;if(l){const{error:D}=await Q.from("agences").update(u).eq("id",l.id);_=D}else{const{error:D}=await Q.from("agences").insert(u);_=D}_?e({title:"Erreur d'enregistrement",description:_.message,variant:"destructive"}):(e({title:"Succès",description:`Agence ${l?"modifiée":"ajoutée"} avec succès.`,className:"bg-green-500 text-white"}),i(!1),c(null),g(),p()),m(!1)},v=(_=null)=>{c(_),_?d({nom:_.nom,codePDV:_.codePDV,adresse:_.adresse||"",region:_.region||"",nbreTerminaux:_.nbreTerminaux}):g(),i(!0)},y=async _=>{m(!0);const{error:D}=await Q.from("agences").delete().eq("id",_);D?e({title:"Erreur de suppression",description:D.message,variant:"destructive"}):(e({title:"Succès",description:"Agence supprimée.",className:"bg-red-500 text-white"}),p()),m(!1)},x=t.filter(_=>Object.values(_).some(D=>String(D).toLowerCase().includes(r.toLowerCase()))),C={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},S=_=>{if(!_||_.length===0)return"";const D=["nom","codePDV","adresse","region","nbreTerminaux"].join(","),R=_.map(I=>[I.nom,I.codePDV,I.adresse||"",I.region||"",I.nbreTerminaux].map(O=>`"${String(O).replace(/"/g,'""')}"`).join(","));return`${D}
${R.join(`
`)}`},E=()=>{const _=S(t);if(!_){e({title:"Exportation échouée",description:"Aucune donnée à exporter.",variant:"destructive"});return}const D=new Blob([_],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),I=URL.createObjectURL(D);R.setAttribute("href",I),R.setAttribute("download","pmu_agences.csv"),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R),e({title:"Exportation réussie",description:"Les données des agences ont été exportées au format CSV.",className:"bg-green-500 text-white"})},N=async _=>{const D=_.target.files[0];if(D){m(!0);const R=new FileReader;R.onload=async I=>{try{const z=I.target.result.split(`
`).filter(T=>T.trim()!=="");if(z.length<2)throw new Error("Fichier CSV vide ou en-têtes manquants.");const M=z[0].trim().split(",").map(T=>T.replace(/^"|"$/g,"").trim()),U=["nom","codePDV","nbreTerminaux"];if(!U.every(T=>M.includes(T)))throw new Error(`En-têtes manquants. Requis: ${U.join(", ")}. Présents: ${M.join(", ")}`);const $=z.slice(1).map(T=>{const P=T.split(",").map(A=>A.replace(/^"|"$/g,"").replace(/""/g,'"').trim());let j={};M.forEach((A,L)=>{j[A]=P[L]});const k=parseInt(j.nbreTerminaux);return isNaN(k)?(console.warn(`Nombre de terminaux invalide pour l'agence ${j.nom}, ligne ignorée.`),null):{nom:j.nom,codePDV:j.codePDV,adresse:j.adresse||null,region:j.region||null,nbreTerminaux:k}}).filter(T=>T&&T.nom&&T.codePDV&&!isNaN(T.nbreTerminaux));if($.length>0){const{error:T}=await Q.from("agences").upsert($,{onConflict:"codePDV"});if(T)throw T;e({title:"Importation réussie",description:`${$.length} agences importées/mises à jour.`,className:"bg-green-500 text-white"}),p()}else e({title:"Erreur d'importation",description:"Aucune donnée valide trouvée dans le fichier CSV ou format incorrect.",variant:"destructive"})}catch(O){e({title:"Erreur d'importation",description:`Impossible de lire le fichier CSV: ${O.message}`,variant:"destructive"})}finally{m(!1)}},R.readAsText(D,"UTF-8")}_.target&&(_.target.value=null)};return a.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsxs(De,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{children:[a.jsx(Pe,{className:"text-3xl font-bold text-primary",children:"Gestion des Agences"}),a.jsx($e,{children:"Ajoutez, modifiez ou supprimez les agences PMU."})]}),a.jsxs(En,{open:o,onOpenChange:_=>{i(_),_||g()},children:[a.jsx(vs,{asChild:!0,children:a.jsxs(B,{onClick:()=>v(),className:"bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white",disabled:h,children:[a.jsx(Li,{className:"mr-2 h-5 w-5"})," Ajouter une Agence"]})}),a.jsxs(nn,{className:"sm:max-w-md glassmorphism",children:[a.jsx(rn,{children:a.jsxs(on,{className:"text-2xl text-primary",children:[l?"Modifier":"Ajouter"," une Agence"]})}),a.jsx("div",{className:"grid gap-4 py-4",children:[{id:"nom",label:"Nom de l'Agence",icon:a.jsx($S,{className:"h-4 w-4"})},{id:"codePDV",label:"Code PDV",icon:a.jsx(o4,{className:"h-4 w-4"})},{id:"adresse",label:"Adresse",icon:a.jsx(c4,{className:"h-4 w-4"})},{id:"region",label:"Région",icon:a.jsx(s4,{className:"h-4 w-4"})},{id:"nbreTerminaux",label:"Nombre de Terminaux",type:"number",icon:a.jsx(ar,{className:"h-4 w-4"})}].map(_=>a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:_.id,className:"text-right flex items-center justify-end",children:[_.icon&&Z.cloneElement(_.icon,{className:"mr-1"}),_.label]}),a.jsx(xe,{id:_.id,name:_.id,type:_.type||"text",value:u[_.id],onChange:w,className:"col-span-3",disabled:h})]},_.id))}),a.jsxs(sn,{children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",type:"button",onClick:g,disabled:h,children:"Annuler"})}),a.jsx(B,{onClick:b,className:"bg-primary hover:bg-primary/90",disabled:h,children:h?"Enregistrement...":l?"Sauvegarder":"Ajouter"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(xe,{type:"text",placeholder:"Rechercher une agence...",value:r,onChange:_=>s(_.target.value),className:"pl-10 w-full",disabled:h})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(B,{variant:"outline",asChild:!0,disabled:h,children:a.jsxs(ae,{htmlFor:"import-agences",className:"cursor-pointer flex items-center",children:[a.jsx(Xg,{className:"mr-2 h-4 w-4"})," Importer (CSV)",a.jsx(xe,{type:"file",id:"import-agences",accept:".csv",onChange:N,className:"hidden"})]})}),a.jsxs(B,{variant:"outline",onClick:E,disabled:h||t.length===0,children:[a.jsx(Dd,{className:"mr-2 h-4 w-4"})," Exporter (CSV)"]})]})]})]}),a.jsx(ke,{children:h&&t.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Chargement des agences..."}):a.jsxs(Bn,{children:[a.jsx(lr,{children:x.length===0?"Aucune agence trouvée.":`Liste de ${x.length} agence(s).`}),a.jsx(Wn,{children:a.jsxs(tn,{children:[a.jsx(le,{children:"Nom"}),a.jsx(le,{children:"Code PDV"}),a.jsx(le,{children:"Adresse"}),a.jsx(le,{children:"Région"}),a.jsx(le,{children:"Terminaux"}),a.jsx(le,{className:"text-right",children:"Actions"})]})}),a.jsx(Hn,{children:x.map((_,D)=>a.jsxs(de.tr,{variants:C,initial:"hidden",animate:"visible",transition:{delay:D*.05},children:[a.jsx(ie,{className:"font-medium",children:_.nom}),a.jsx(ie,{children:_.codePDV}),a.jsx(ie,{children:_.adresse||"N/A"}),a.jsx(ie,{children:_.region||"N/A"}),a.jsx(ie,{children:_.nbreTerminaux}),a.jsxs(ie,{className:"text-right space-x-1",children:[a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>v(_),className:"text-blue-500 hover:text-blue-700",disabled:h,children:a.jsx(Ol,{className:"h-4 w-4"})}),a.jsxs(En,{children:[a.jsx(vs,{asChild:!0,children:a.jsx(B,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",disabled:h,children:a.jsx(fo,{className:"h-4 w-4"})})}),a.jsxs(nn,{className:"sm:max-w-md",children:[a.jsxs(rn,{children:[a.jsx(on,{children:"Confirmer la suppression"}),a.jsxs(Tr,{children:["Êtes-vous sûr de vouloir supprimer l'agence ",_.nom," ? Cette action est irréversible et supprimera les plannings associés."]})]}),a.jsxs(sn,{children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",disabled:h,children:"Annuler"})}),a.jsx(B,{variant:"destructive",onClick:()=>y(_.id),disabled:h,children:h?"Suppression...":"Supprimer"})]})]})]})]})]},_.id))})]})})]})})};function zw(e,[t,n]){return Math.min(n,Math.max(t,e))}function v_(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wU=[" ","Enter","ArrowUp","ArrowDown"],bU=[" ","Enter"],no="Select",[Jd,Xd,jU]=wd(no),[Bi,$G]=Ot(no,[jU,Oi]),Qd=Oi(),[CU,Ss]=Bi(no),[SU,NU]=Bi(no),x_=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:m,required:p,form:w}=e,g=Qd(t),[b,v]=f.useState(null),[y,x]=f.useState(null),[C,S]=f.useState(!1),E=Di(u),[N,_]=or({prop:r,defaultProp:s??!1,onChange:o,caller:no}),[D,R]=or({prop:i,defaultProp:l,onChange:c,caller:no}),I=f.useRef(null),O=b?w||!!b.closest("form"):!0,[z,M]=f.useState(new Set),U=Array.from(z).map($=>$.props.value).join(";");return a.jsx($g,{...g,children:a.jsxs(CU,{required:p,scope:t,trigger:b,onTriggerChange:v,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:C,onValueNodeHasChildrenChange:S,contentId:yn(),value:D,onValueChange:R,open:N,onOpenChange:_,dir:E,triggerPointerDownPosRef:I,disabled:m,children:[a.jsx(Jd.Provider,{scope:t,children:a.jsx(SU,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback($=>{M(T=>new Set(T).add($))},[]),onNativeOptionRemove:f.useCallback($=>{M(T=>{const P=new Set(T);return P.delete($),P})},[]),children:n})}),O?a.jsxs(F_,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:D,onChange:$=>R($.target.value),disabled:m,form:w,children:[D===void 0?a.jsx("option",{value:""}):null,Array.from(z)]},U):null]})})};x_.displayName=no;var y_="SelectTrigger",w_=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Qd(n),i=Ss(y_,n),l=i.disabled||r,c=be(t,i.onTriggerChange),u=Xd(n),d=f.useRef("touch"),[h,m,p]=U_(g=>{const b=u().filter(x=>!x.disabled),v=b.find(x=>x.value===i.value),y=z_(b,g,v);y!==void 0&&i.onValueChange(y.value)}),w=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(Nd,{asChild:!0,...o,children:a.jsx(pe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":V_(i.value)?"":void 0,...s,ref:c,onClick:ee(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&w(g)}),onPointerDown:ee(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:ee(s.onKeyDown,g=>{const b=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(b&&g.key===" ")&&wU.includes(g.key)&&(w(),g.preventDefault())})})})});w_.displayName=y_;var b_="SelectValue",j_=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=Ss(b_,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,h=be(t,c.onValueNodeChange);return st(()=>{u(d)},[u,d]),a.jsx(pe.span,{...l,ref:h,style:{pointerEvents:"none"},children:V_(c.value)?a.jsx(a.Fragment,{children:i}):o})});j_.displayName=b_;var EU="SelectIcon",C_=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(pe.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});C_.displayName=EU;var _U="SelectPortal",S_=e=>a.jsx(Ii,{asChild:!0,...e});S_.displayName=_U;var ro="SelectContent",N_=f.forwardRef((e,t)=>{const n=Ss(ro,e.__scopeSelect),[r,s]=f.useState();if(st(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?qn.createPortal(a.jsx(E_,{scope:e.__scopeSelect,children:a.jsx(Jd.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(__,{...e,ref:t})});N_.displayName=ro;var Rn=10,[E_,Ns]=Bi(ro),PU="SelectContentImpl",kU=us("SelectContent.RemoveScroll"),__=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:b,...v}=e,y=Ss(ro,n),[x,C]=f.useState(null),[S,E]=f.useState(null),N=be(t,H=>C(H)),[_,D]=f.useState(null),[R,I]=f.useState(null),O=Xd(n),[z,M]=f.useState(!1),U=f.useRef(!1);f.useEffect(()=>{if(x)return Ml(x)},[x]),bd();const $=f.useCallback(H=>{const[V,...X]=O().map(se=>se.ref.current),[re]=X.slice(-1),oe=document.activeElement;for(const se of H)if(se===oe||(se==null||se.scrollIntoView({block:"nearest"}),se===V&&S&&(S.scrollTop=0),se===re&&S&&(S.scrollTop=S.scrollHeight),se==null||se.focus(),document.activeElement!==oe))return},[O,S]),T=f.useCallback(()=>$([_,x]),[$,_,x]);f.useEffect(()=>{z&&T()},[z,T]);const{onOpenChange:P,triggerPointerDownPosRef:j}=y;f.useEffect(()=>{if(x){let H={x:0,y:0};const V=re=>{var oe,se;H={x:Math.abs(Math.round(re.pageX)-(((oe=j.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(re.pageY)-(((se=j.current)==null?void 0:se.y)??0))}},X=re=>{H.x<=10&&H.y<=10?re.preventDefault():x.contains(re.target)||P(!1),document.removeEventListener("pointermove",V),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",X,{capture:!0})}}},[x,P,j]),f.useEffect(()=>{const H=()=>P(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[P]);const[k,A]=U_(H=>{const V=O().filter(oe=>!oe.disabled),X=V.find(oe=>oe.ref.current===document.activeElement),re=z_(V,H,X);re&&setTimeout(()=>re.ref.current.focus())}),L=f.useCallback((H,V,X)=>{const re=!U.current&&!X;(y.value!==void 0&&y.value===V||re)&&(D(H),re&&(U.current=!0))},[y.value]),W=f.useCallback(()=>x==null?void 0:x.focus(),[x]),Y=f.useCallback((H,V,X)=>{const re=!U.current&&!X;(y.value!==void 0&&y.value===V||re)&&I(H)},[y.value]),F=r==="popper"?cp:P_,G=F===cp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:b}:{};return a.jsx(E_,{scope:n,content:x,viewport:S,onViewportChange:E,itemRefCallback:L,selectedItem:_,onItemLeave:W,itemTextRefCallback:Y,focusSelectedItem:T,selectedItemText:R,position:r,isPositioned:z,searchRef:k,children:a.jsx(Pd,{as:kU,allowPinchZoom:!0,children:a.jsx(Tl,{asChild:!0,trapped:y.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:ee(s,H=>{var V;(V=y.trigger)==null||V.focus({preventScroll:!0}),H.preventDefault()}),children:a.jsx(Mi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(F,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:H=>H.preventDefault(),...v,...G,onPlaced:()=>M(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,H=>{const V=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!V&&H.key.length===1&&A(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let re=O().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(H.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const oe=H.target,se=re.indexOf(oe);re=re.slice(se+1)}setTimeout(()=>$(re)),H.preventDefault()}})})})})})})});__.displayName=PU;var TU="SelectItemAlignedPosition",P_=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Ss(ro,n),i=Ns(ro,n),[l,c]=f.useState(null),[u,d]=f.useState(null),h=be(t,N=>d(N)),m=Xd(n),p=f.useRef(!1),w=f.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:v,focusSelectedItem:y}=i,x=f.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&b&&v){const N=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),D=o.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(o.dir!=="rtl"){const oe=R.left-_.left,se=D.left-oe,q=N.left-se,te=N.width+q,he=Math.max(te,_.width),we=window.innerWidth-Rn,Ve=zw(se,[Rn,Math.max(Rn,we-he)]);l.style.minWidth=te+"px",l.style.left=Ve+"px"}else{const oe=_.right-R.right,se=window.innerWidth-D.right-oe,q=window.innerWidth-N.right-se,te=N.width+q,he=Math.max(te,_.width),we=window.innerWidth-Rn,Ve=zw(se,[Rn,Math.max(Rn,we-he)]);l.style.minWidth=te+"px",l.style.right=Ve+"px"}const I=m(),O=window.innerHeight-Rn*2,z=g.scrollHeight,M=window.getComputedStyle(u),U=parseInt(M.borderTopWidth,10),$=parseInt(M.paddingTop,10),T=parseInt(M.borderBottomWidth,10),P=parseInt(M.paddingBottom,10),j=U+$+z+P+T,k=Math.min(b.offsetHeight*5,j),A=window.getComputedStyle(g),L=parseInt(A.paddingTop,10),W=parseInt(A.paddingBottom,10),Y=N.top+N.height/2-Rn,F=O-Y,G=b.offsetHeight/2,H=b.offsetTop+G,V=U+$+H,X=j-V;if(V<=Y){const oe=I.length>0&&b===I[I.length-1].ref.current;l.style.bottom="0px";const se=u.clientHeight-g.offsetTop-g.offsetHeight,q=Math.max(F,G+(oe?W:0)+se+T),te=V+q;l.style.height=te+"px"}else{const oe=I.length>0&&b===I[0].ref.current;l.style.top="0px";const q=Math.max(Y,U+g.offsetTop+(oe?L:0)+G)+X;l.style.height=q+"px",g.scrollTop=V-Y+g.offsetTop}l.style.margin=`${Rn}px 0`,l.style.minHeight=k+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,u,g,b,v,o.dir,r]);st(()=>x(),[x]);const[C,S]=f.useState();st(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=f.useCallback(N=>{N&&w.current===!0&&(x(),y==null||y(),w.current=!1)},[x,y]);return a.jsx(DU,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:a.jsx(pe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});P_.displayName=TU;var RU="SelectPopperPosition",cp=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Rn,...o}=e,i=Qd(n);return a.jsx(Og,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cp.displayName=RU;var[DU,Wv]=Bi(ro,{}),up="SelectViewport",k_=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Ns(up,n),i=Wv(up,n),l=be(t,o.onViewportChange),c=f.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Jd.Slot,{scope:n,children:a.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-Rn*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),v=Math.max(g,b);if(v<w){const y=v+p,x=Math.min(w,y),C=y-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});k_.displayName=up;var T_="SelectGroup",[MU,AU]=Bi(T_),$U=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=yn();return a.jsx(MU,{scope:n,id:s,children:a.jsx(pe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});$U.displayName=T_;var R_="SelectLabel",D_=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=AU(R_,n);return a.jsx(pe.div,{id:s.id,...r,ref:t})});D_.displayName=R_;var Zu="SelectItem",[OU,M_]=Bi(Zu),A_=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=Ss(Zu,n),c=Ns(Zu,n),u=l.value===r,[d,h]=f.useState(o??""),[m,p]=f.useState(!1),w=be(t,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,r,s)}),g=yn(),b=f.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(OU,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:f.useCallback(y=>{h(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(Jd.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(pe.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:ee(i.onFocus,()=>p(!0)),onBlur:ee(i.onBlur,()=>p(!1)),onClick:ee(i.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:ee(i.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:ee(i.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:ee(i.onPointerMove,y=>{var x;b.current=y.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(i.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:ee(i.onKeyDown,y=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&y.key===" "||(bU.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});A_.displayName=Zu;var xa="SelectItemText",IU=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Ss(xa,n),l=Ns(xa,n),c=M_(xa,n),u=NU(xa,n),[d,h]=f.useState(null),m=be(t,v=>h(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=f.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return st(()=>(g(w),()=>b(w)),[g,b,w]),a.jsxs(a.Fragment,{children:[a.jsx(pe.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?qn.createPortal(o.children,i.valueNode):null]})});IU.displayName=xa;var $_="SelectItemIndicator",O_=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return M_($_,n).isSelected?a.jsx(pe.span,{"aria-hidden":!0,...r,ref:t}):null});O_.displayName=$_;var dp="SelectScrollUpButton",LU=f.forwardRef((e,t)=>{const n=Ns(dp,e.__scopeSelect),r=Wv(dp,e.__scopeSelect),[s,o]=f.useState(!1),i=be(t,r.onScrollButtonChange);return st(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(I_,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});LU.displayName=dp;var fp="SelectScrollDownButton",FU=f.forwardRef((e,t)=>{const n=Ns(fp,e.__scopeSelect),r=Wv(fp,e.__scopeSelect),[s,o]=f.useState(!1),i=be(t,r.onScrollButtonChange);return st(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(I_,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});FU.displayName=fp;var I_=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Ns("SelectScrollButton",n),i=f.useRef(null),l=Xd(n),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),st(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(pe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{c()})})}),VU="SelectSeparator",L_=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(pe.div,{"aria-hidden":!0,...r,ref:t})});L_.displayName=VU;var hp="SelectArrow",UU=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Qd(n),o=Ss(hp,n),i=Ns(hp,n);return o.open&&i.position==="popper"?a.jsx(Ig,{...s,...r,ref:t}):null});UU.displayName=hp;var zU="SelectBubbleInput",F_=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=f.useRef(null),o=be(r,s),i=v_(t);return f.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[i,t]),a.jsx(pe.select,{...n,style:{...HS,...n.style},ref:o,defaultValue:t})});F_.displayName=zU;function V_(e){return e===""||e===void 0}function U_(e){const t=_t(e),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function z_(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=BU(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function BU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var WU=x_,B_=w_,HU=j_,GU=C_,qU=S_,W_=N_,KU=k_,H_=D_,G_=A_,YU=O_,q_=L_;const yl=WU,wl=HU,bi=Z.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(B_,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,a.jsx(GU,{asChild:!0,children:a.jsx(IS,{className:"h-4 w-4 opacity-50"})})]}));bi.displayName=B_.displayName;const ji=Z.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(qU,{children:a.jsx(W_,{ref:s,className:ce("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:a.jsx(KU,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));ji.displayName=W_.displayName;const JU=Z.forwardRef(({className:e,...t},n)=>a.jsx(H_,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));JU.displayName=H_.displayName;const Ci=Z.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(G_,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-70",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(YU,{children:a.jsx(qg,{className:"h-4 w-4"})})}),t]}));Ci.displayName=G_.displayName;const XU=Z.forwardRef(({className:e,...t},n)=>a.jsx(q_,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));XU.displayName=q_.displayName;const QU=({isOpen:e,onOpenChange:t,onSubmit:n,currentChef:r,agences:s,resetFormDataState:o,isLoading:i})=>{const l={id:"",matricule:"",mdp:"",nom:"",prenom:"",agenceEnCharge:"",codePDV:"",photo_url:""},[c,u]=f.useState(l),[d,h]=f.useState(!1),[m,p]=f.useState(null),[w,g]=f.useState(!1),[b,v]=f.useState("upload"),y=f.useRef(null),x=f.useRef(null),{toast:C}=Qe(),S=f.useRef(null);f.useEffect(()=>{u(r?{id:r.id||"",matricule:r.matricule||"",mdp:r.mdp||"",nom:r.nom||"",prenom:r.prenom||"",agenceEnCharge:r.agenceEnCharge||"",codePDV:r.codePDV||"",photo_url:r.photo_url||""}:l),h(!1),p(null),g(!1),v("upload")},[r,e]),f.useEffect(()=>{let $=null;return w&&y.current&&navigator.mediaDevices.getUserMedia({video:!0}).then(T=>{$=T,y.current.srcObject=T,y.current.play()}).catch(T=>{console.error("Error accessing camera: ",T),C({title:"Erreur d'accès à la caméra",description:T.message,variant:"destructive"}),g(!1)}),()=>{$&&$.getTracks().forEach(T=>T.stop())}},[w,C]);const E=$=>{const{name:T,value:P}=$.target;u(j=>({...j,[T]:P}))},N=$=>{const T=s.find(P=>P.nom===$);u(P=>({...P,agenceEnCharge:$,codePDV:T?T.codePDV:""}))},_=$=>{const T=$.target.files[0];if(T){p(T);const P=new FileReader;P.onloadend=()=>{u(j=>({...j,photo_url:P.result}))},P.readAsDataURL(T)}},D=()=>{if(y.current&&x.current){const $=y.current,T=x.current;T.width=$.videoWidth,T.height=$.videoHeight,T.getContext("2d").drawImage($,0,0,T.width,T.height);const j=T.toDataURL("image/png");fetch(j).then(k=>k.blob()).then(k=>{const A=new File([k],"capture.png",{type:"image/png"});p(A),u(L=>({...L,photo_url:j})),g(!1)})}},R=()=>{u($=>({...$,photo_url:""})),p(null),S.current&&(S.current.value="")},I=()=>g(!0),O=()=>g(!1),z=()=>{S.current&&S.current.click()},M=$=>{$.preventDefault(),n({...c,photoFile:m},r!==null)},U=()=>{t(!1),o&&o()};return a.jsxs(nn,{className:"sm:max-w-lg glassmorphism",children:[a.jsxs(rn,{children:[a.jsx(on,{className:"text-primary text-2xl",children:r?"Modifier le Chef d'Agence":"Ajouter un Chef d'Agence"}),a.jsx(Tr,{children:r?"Mettez à jour les informations du chef d'agence.":"Remplissez les informations pour ajouter un nouveau chef d'agence."})]}),a.jsxs("form",{onSubmit:M,className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto p-1",children:[a.jsxs("div",{className:"space-y-4 border-b pb-4",children:[a.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Informations personnelles"}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"matricule",className:"text-right flex items-center justify-end",children:[a.jsx(ut,{className:"h-4 w-4 mr-1"})," Matricule"]}),a.jsx(xe,{id:"matricule",name:"matricule",value:c.matricule,onChange:E,className:"col-span-3",required:!0,disabled:i})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"mdp",className:"text-right flex items-center justify-end",children:[a.jsx(ll,{className:"h-4 w-4 mr-1"})," Mot de passe"]}),a.jsxs("div",{className:"col-span-3 relative",children:[a.jsx(xe,{id:"mdp",name:"mdp",type:d?"text":"password",value:c.mdp,onChange:E,className:"pr-10",required:!0,disabled:i}),a.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h($=>!$),disabled:i,children:d?a.jsx(Yg,{className:"h-4 w-4"}):a.jsx(Jg,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"nom",className:"text-right flex items-center justify-end",children:[a.jsx(ut,{className:"h-4 w-4 mr-1"})," Nom"]}),a.jsx(xe,{id:"nom",name:"nom",value:c.nom,onChange:E,className:"col-span-3",required:!0,disabled:i})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"prenom",className:"text-right flex items-center justify-end",children:[a.jsx(ut,{className:"h-4 w-4 mr-1"})," Prénom"]}),a.jsx(xe,{id:"prenom",name:"prenom",value:c.prenom,onChange:E,className:"col-span-3",required:!0,disabled:i})]})]}),a.jsxs("div",{className:"space-y-4 border-b pb-4",children:[a.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Information professionnelle"}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"agenceEnCharge",className:"text-right flex items-center justify-end",children:[a.jsx(Ou,{className:"h-4 w-4 mr-1"})," Agence en charge"]}),a.jsx("div",{className:"col-span-3",children:a.jsxs(yl,{value:c.agenceEnCharge,onValueChange:N,disabled:i,children:[a.jsx(bi,{children:a.jsx(wl,{placeholder:"Sélectionnez une agence"})}),a.jsx(ji,{children:s.map($=>a.jsx(Ci,{value:$.nom,children:$.nom},$.id||$.nom))})]})})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"codePDV",className:"text-right flex items-center justify-end",children:[a.jsx(Ou,{className:"h-4 w-4 mr-1"})," Code PDV"]}),a.jsx(xe,{id:"codePDV",name:"codePDV",value:c.codePDV,className:"col-span-3",disabled:!0})]})]}),a.jsxs("div",{className:"space-y-4 pb-2",children:[a.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Photo"}),a.jsx("div",{className:"flex justify-center mb-3",children:c.photo_url?a.jsxs("div",{className:"relative w-32 h-32",children:[a.jsx("img",{src:c.photo_url,alt:"Prévisualisation",className:"w-32 h-32 object-cover rounded-full border-2 border-primary"}),a.jsx(B,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:R,disabled:i,children:a.jsx(Vu,{className:"h-3 w-3"})})]}):a.jsx("div",{className:"w-32 h-32 bg-muted rounded-full flex items-center justify-center",children:a.jsx(ut,{className:"h-16 w-16 text-muted-foreground"})})}),a.jsxs(Wl,{defaultValue:b,className:"w-full",onValueChange:v,children:[a.jsxs(Ui,{className:"grid grid-cols-2 mb-3",children:[a.jsxs(jn,{value:"upload",onClick:()=>g(!1),disabled:i,children:[a.jsx(Lu,{className:"h-4 w-4 mr-1.5"}),"Importer"]}),a.jsxs(jn,{value:"camera",onClick:()=>b==="camera"&&!w&&I(),disabled:i,children:[a.jsx(bn,{className:"h-4 w-4 mr-1.5"}),"Prendre photo"]})]}),a.jsxs(Cn,{value:"upload",className:"space-y-3",children:[a.jsx(xe,{id:"photo",ref:S,type:"file",accept:"image/*",onChange:_,className:"hidden"}),a.jsxs(B,{type:"button",variant:"outline",className:"w-full",onClick:z,disabled:i,children:[a.jsx(Lu,{className:"h-4 w-4 mr-2"})," Sélectionner une image"]})]}),a.jsx(Cn,{value:"camera",className:"space-y-3",children:w?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"aspect-video bg-black rounded-md overflow-hidden relative",children:a.jsx("video",{ref:y,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0})}),a.jsx("canvas",{ref:x,className:"hidden"}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(B,{type:"button",variant:"outline",onClick:O,disabled:i,children:[a.jsx(Vu,{className:"h-4 w-4 mr-2"})," Annuler"]}),a.jsxs(B,{type:"button",onClick:D,disabled:i,children:[a.jsx(bn,{className:"h-4 w-4 mr-2"})," Capturer"]})]})]}):a.jsxs(B,{type:"button",variant:"outline",className:"w-full",onClick:I,disabled:i,children:[a.jsx(bn,{className:"h-4 w-4 mr-2"})," Activer la caméra"]})})]})]}),a.jsxs(sn,{className:"mt-2",children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",type:"button",onClick:U,disabled:i,children:"Annuler"})}),a.jsx(B,{type:"submit",className:"bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white",disabled:i,children:i?"Enregistrement...":r?"Sauvegarder":"Ajouter"})]})]})]})},ZU=({chefs:e,onEdit:t,onDelete:n,isLoading:r})=>!e||e.length===0?a.jsx("p",{className:"text-center text-muted-foreground mt-4",children:"Aucun chef d'agence trouvé."}):a.jsx(a.Fragment,{children:a.jsxs(Bn,{children:[a.jsx(lr,{children:"Liste des chefs d'agence."}),a.jsx(Wn,{children:a.jsxs(tn,{children:[a.jsx(le,{className:"w-10",children:"Photo"}),a.jsx(le,{children:"Matricule"}),a.jsx(le,{children:"Nom"}),a.jsx(le,{children:"Prénom"}),a.jsx(le,{children:"Agence en Charge"}),a.jsx(le,{children:"Code PDV"}),a.jsx(le,{className:"text-right",children:"Actions"})]})}),a.jsx(Hn,{children:a.jsx(fl,{children:e.map((s,o)=>{var i,l;return a.jsxs(de.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-30},transition:{delay:o*.05},className:"hover:bg-muted/50 dark:hover:bg-muted/20",children:[a.jsx(ie,{children:a.jsxs(ps,{className:"h-10 w-10 border",children:[s.photo_url?a.jsx(eo,{src:s.photo_url,alt:`${s.prenom} ${s.nom}`}):null,a.jsxs(gs,{className:"bg-primary/10",children:[(i=s.prenom)==null?void 0:i.charAt(0),(l=s.nom)==null?void 0:l.charAt(0)]})]})}),a.jsx(ie,{className:"font-medium",children:s.matricule}),a.jsx(ie,{children:s.nom}),a.jsx(ie,{children:s.prenom}),a.jsx(ie,{children:s.agenceEnCharge||"N/A"}),a.jsx(ie,{children:s.codePDV||"N/A"}),a.jsxs(ie,{className:"text-right space-x-1",children:[a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>t(s),disabled:r,children:a.jsx(zS,{className:"h-4 w-4 text-blue-500"})}),a.jsxs(En,{children:[a.jsx(vs,{asChild:!0,children:a.jsx(B,{variant:"ghost",size:"icon",disabled:r,children:a.jsx(fo,{className:"h-4 w-4 text-red-500"})})}),a.jsxs(nn,{children:[a.jsxs(rn,{children:[a.jsx(on,{children:"Confirmer la suppression"}),a.jsxs(Tr,{children:["Êtes-vous sûr de vouloir supprimer ce chef d'agence (",s.prenom," ",s.nom,") ? Cette action est irréversible et supprimera les plannings associés."]})]}),a.jsxs(sn,{children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",disabled:r,children:"Annuler"})}),a.jsx(B,{variant:"destructive",onClick:()=>n(s.id),disabled:r,children:r?"Suppression...":"Supprimer"})]})]})]})]})]},s.id)})})})]})}),ez=()=>{const[e,t]=f.useState([]),[n,r]=f.useState([]),[s,o]=f.useState(!1),[i,l]=f.useState(null),[c,u]=f.useState(""),{toast:d}=Qe(),[h,m]=f.useState(!1),p=f.useCallback(async()=>{m(!0);const{data:N,error:_}=await Q.from("chefs_agence").select("*").order("nom",{ascending:!0});_?d({title:"Erreur de chargement des chefs",description:_.message,variant:"destructive"}):t(N);const{data:D,error:R}=await Q.from("agences").select("id, nom, codePDV").order("nom",{ascending:!0});R?d({title:"Erreur de chargement des agences",description:R.message,variant:"destructive"}):r(D),m(!1)},[d]);f.useEffect(()=>{p()},[p]);const w=f.useCallback(()=>{l(null)},[]),g=f.useCallback(async(N,_)=>{if(!N.matricule||!N.nom||!N.prenom||!N.agenceEnCharge||!N.mdp){d({title:"Erreur de validation",description:"Veuillez remplir tous les champs obligatoires (Matricule, Mot de passe, Nom, Prénom, Agence).",variant:"destructive"});return}m(!0);const D={...N};delete D.id,delete D.photoFile;let R=D.photo_url;if(N.photoFile){const O=N.photoFile,z=`photos_chefs_agence/${N.matricule}_${Date.now()}.${O.name.split(".").pop()}`,{data:M,error:U}=await Q.storage.from("pmu-mali-storage").upload(z,O,{cacheControl:"3600",upsert:!0});if(U){d({title:"Erreur d'upload photo",description:U.message,variant:"destructive"}),m(!1);return}const{data:$}=Q.storage.from("pmu-mali-storage").getPublicUrl(M.path);R=$.publicUrl}else if(D.photo_url&&D.photo_url.startsWith("data:image"))try{const z=await(await fetch(D.photo_url)).blob(),M=new File([z],`capture_${N.matricule}.png`,{type:"image/png"}),U=`photos_chefs_agence/${N.matricule}_${Date.now()}.png`,{data:$,error:T}=await Q.storage.from("pmu-mali-storage").upload(U,M,{cacheControl:"3600",upsert:!0});if(T){d({title:"Erreur d'upload photo",description:T.message,variant:"destructive"}),m(!1);return}const{data:P}=Q.storage.from("pmu-mali-storage").getPublicUrl($.path);R=P.publicUrl}catch(O){d({title:"Erreur de traitement de l'image",description:O.message,variant:"destructive"}),m(!1);return}else if(!D.photo_url&&_&&i&&i.photo_url){try{const O=new URL(i.photo_url).pathname.split("/pmu-mali-storage/").pop();O&&await Q.storage.from("pmu-mali-storage").remove([O])}catch(O){console.error("Erreur lors de la suppression de l'ancienne photo:",O)}R=null}D.photo_url=R;let I;if(_&&i){const{error:O}=await Q.from("chefs_agence").update(D).eq("id",i.id);I=O}else{const{error:O}=await Q.from("chefs_agence").insert(D);I=O}I?d({title:"Erreur d'enregistrement",description:I.message,variant:"destructive"}):(d({title:"Succès",description:`Chef d'agence ${_?"modifié":"ajouté"} avec succès.`,className:"bg-green-500 text-white"}),o(!1),w(),p()),m(!1)},[d,i,p,w]),b=f.useCallback(()=>{w(),o(!0)},[w]),v=f.useCallback(N=>{l(N),o(!0)},[]),y=f.useCallback(async N=>{m(!0);const _=e.find(R=>R.id===N);if(_&&_.photo_url)try{const R=new URL(_.photo_url).pathname.split("/pmu-mali-storage/").pop();R&&await Q.storage.from("pmu-mali-storage").remove([R])}catch(R){console.error("Erreur lors de la suppression de la photo:",R)}const{error:D}=await Q.from("chefs_agence").delete().eq("id",N);D?d({title:"Erreur de suppression",description:D.message,variant:"destructive"}):(d({title:"Succès",description:"Chef d'agence supprimé avec succès.",className:"bg-red-500 text-white"}),p()),m(!1)},[p,d,e]),x=f.useMemo(()=>e.filter(N=>{const _=c.toLowerCase();return N.matricule.toLowerCase().includes(_)||N.nom.toLowerCase().includes(_)||N.prenom.toLowerCase().includes(_)||N.agenceEnCharge&&N.agenceEnCharge.toLowerCase().includes(_)||N.codePDV&&N.codePDV.toLowerCase().includes(_)}),[e,c]),C=N=>{if(!N||N.length===0)return"";const _=["matricule","nom","prenom","agenceEnCharge","codePDV","mdp"].join(","),D=N.map(R=>[R.matricule,R.nom,R.prenom,R.agenceEnCharge||"",R.codePDV||"",R.mdp].map(I=>`"${String(I).replace(/"/g,'""')}"`).join(","));return`${_}
${D.join(`
`)}`},S=()=>{const N=C(e);if(!N){d({title:"Exportation échouée",description:"Aucune donnée à exporter.",variant:"destructive"});return}const _=new Blob([N],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),R=URL.createObjectURL(_);D.setAttribute("href",R),D.setAttribute("download","pmu_chefs_agence.csv"),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D),d({title:"Exportation réussie",description:"Les données des chefs d'agence ont été exportées au format CSV.",className:"bg-green-500 text-white"})},E=async N=>{const _=N.target.files[0];if(_){m(!0);const D=new FileReader;D.onload=async R=>{try{const O=R.target.result.split(`
`).filter($=>$.trim()!=="");if(O.length<2)throw new Error("Fichier CSV vide ou en-têtes manquants.");const z=O[0].trim().split(",").map($=>$.replace(/^"|"$/g,"").trim()),M=["matricule","nom","prenom","mdp","agenceEnCharge"];if(!M.every($=>z.includes($)))throw new Error(`En-têtes manquants. Requis: ${M.join(", ")}. Présents: ${z.join(", ")}`);const U=O.slice(1).map($=>{const T=$.split(",").map(k=>k.replace(/^"|"$/g,"").replace(/""/g,'"').trim());let P={};z.forEach((k,A)=>{P[k]=T[A]});const j=n.find(k=>k.nom===P.agenceEnCharge);return{matricule:P.matricule,nom:P.nom,prenom:P.prenom,mdp:P.mdp,agenceEnCharge:P.agenceEnCharge||null,codePDV:j?j.codePDV:null}}).filter($=>$.matricule&&$.nom&&$.prenom&&$.mdp);if(U.length>0){const{error:$}=await Q.from("chefs_agence").upsert(U,{onConflict:"matricule"});if($)throw $;d({title:"Importation réussie",description:`${U.length} chefs d'agence importés/mis à jour.`,className:"bg-green-500 text-white"}),p()}else d({title:"Erreur d'importation",description:"Aucune donnée valide trouvée dans le fichier CSV ou format incorrect.",variant:"destructive"})}catch(I){d({title:"Erreur d'importation",description:`Impossible de lire le fichier CSV: ${I.message}`,variant:"destructive"})}finally{m(!1)}},D.readAsText(_,"UTF-8")}N.target&&(N.target.value=null)};return a.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsxs(De,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs(Pe,{className:"text-3xl font-bold text-primary flex items-center",children:[a.jsx(ll,{className:"mr-3 h-8 w-8"})," Gestion des Chefs d'Agence"]}),a.jsx($e,{children:"Ajoutez, modifiez ou supprimez les informations des chefs d'agence."})]}),a.jsxs(B,{onClick:b,className:"bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white",disabled:h,children:[a.jsx(g4,{className:"mr-2 h-4 w-4"})," Ajouter un Chef d'Agence"]})]}),a.jsxs("div",{className:"mt-6 flex flex-col md:flex-row gap-2",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(xe,{placeholder:"Rechercher un chef d'agence...",value:c,onChange:N=>u(N.target.value),className:"pl-10",disabled:h})]}),a.jsx(B,{variant:"outline",asChild:!0,disabled:h,children:a.jsxs(ae,{htmlFor:"import-chefs",className:"cursor-pointer flex items-center",children:[a.jsx(p4,{className:"mr-2 h-4 w-4"})," Importer (CSV)",a.jsx(xe,{type:"file",id:"import-chefs",accept:".csv",onChange:E,className:"hidden"})]})}),a.jsxs(B,{variant:"outline",onClick:S,disabled:h||e.length===0,children:[a.jsx(Am,{className:"mr-2 h-4 w-4"})," Exporter (CSV)"]})]})]}),a.jsx(ke,{children:h&&e.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Chargement des chefs d'agence..."}):a.jsx(ZU,{chefs:x,onEdit:v,onDelete:y,isLoading:h})})]}),a.jsx(En,{open:s,onOpenChange:N=>{o(N),N||w()},children:a.jsx(QU,{isOpen:s,onOpenChange:o,onSubmit:g,currentChef:i,agences:n,resetFormDataState:w,isLoading:h})})]})};function oi(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function tz(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function K_(...e){return t=>e.forEach(n=>tz(n,t))}function Gl(...e){return f.useCallback(K_(...e),e)}function nz(e,t=[]){let n=[];function r(o,i){const l=f.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:m,children:p,...w}=h,g=(m==null?void 0:m[e][c])||l,b=f.useMemo(()=>w,Object.values(w));return f.createElement(g.Provider,{value:b},p)}function d(h,m){const p=(m==null?void 0:m[e][c])||l,w=f.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,rz(s,...t)]}function rz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const mp=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},sz=Cl["useId".toString()]||(()=>{});let oz=0;function ph(e){const[t,n]=f.useState(sz());return mp(()=>{e||n(r=>r??String(oz++))},[e]),e||(t?`radix-${t}`:"")}function so(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function iz({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=az({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,l=so(n),c=f.useCallback(u=>{if(o){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[o,e,s,l]);return[i,c]}function az({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,s=f.useRef(r),o=so(t);return f.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}const Hv=f.forwardRef((e,t)=>{const{children:n,...r}=e,s=f.Children.toArray(n),o=s.find(cz);if(o){const i=o.props.children,l=s.map(c=>c===o?f.Children.count(i)>1?f.Children.only(null):f.isValidElement(i)?i.props.children:null:c);return f.createElement(pp,Me({},r,{ref:t}),f.isValidElement(i)?f.cloneElement(i,void 0,l):null)}return f.createElement(pp,Me({},r,{ref:t}),n)});Hv.displayName="Slot";const pp=f.forwardRef((e,t)=>{const{children:n,...r}=e;return f.isValidElement(n)?f.cloneElement(n,{...uz(r,n.props),ref:K_(t,n.ref)}):f.Children.count(n)>1?f.Children.only(null):null});pp.displayName="SlotClone";const lz=({children:e})=>f.createElement(f.Fragment,null,e);function cz(e){return f.isValidElement(e)&&e.type===lz}function uz(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...l)=>{o==null||o(...l),s==null||s(...l)}:r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}const dz=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],Zd=dz.reduce((e,t)=>{const n=f.forwardRef((r,s)=>{const{asChild:o,...i}=r,l=o?Hv:t;return f.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),f.createElement(l,Me({},i,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function fz(e,t){e&&qn.flushSync(()=>e.dispatchEvent(t))}function hz(e){const t=so(e);f.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const gp="dismissableLayer.update",mz="dismissableLayer.pointerDownOutside",pz="dismissableLayer.focusOutside";let Bw;const gz=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vz=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=f.useContext(gz),[d,h]=f.useState(null),[,m]=f.useState({}),p=Gl(t,E=>h(E)),w=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(g),v=d?w.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,x=v>=b,C=xz(E=>{const N=E.target,_=[...u.branches].some(D=>D.contains(N));!x||_||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())}),S=yz(E=>{const N=E.target;[...u.branches].some(D=>D.contains(N))||(o==null||o(E),i==null||i(E),E.defaultPrevented||l==null||l())});return hz(E=>{v===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))}),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Bw=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ww(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=Bw)}},[d,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ww())},[d,u]),f.useEffect(()=>{const E=()=>m({});return document.addEventListener(gp,E),()=>document.removeEventListener(gp,E)},[]),f.createElement(Zd.div,Me({},c,{ref:p,style:{pointerEvents:y?x?"auto":"none":void 0,...e.style},onFocusCapture:oi(e.onFocusCapture,S.onFocusCapture),onBlurCapture:oi(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:oi(e.onPointerDownCapture,C.onPointerDownCapture)}))});function xz(e){const t=so(e),n=f.useRef(!1),r=f.useRef(()=>{});return f.useEffect(()=>{const s=i=>{if(i.target&&!n.current){let c=function(){Y_(mz,t,l,{discrete:!0})};const l={originalEvent:i};i.pointerType==="touch"?(document.removeEventListener("click",r.current),r.current=c,document.addEventListener("click",r.current,{once:!0})):c()}n.current=!1},o=window.setTimeout(()=>{document.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),document.removeEventListener("pointerdown",s),document.removeEventListener("click",r.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function yz(e){const t=so(e),n=f.useRef(!1);return f.useEffect(()=>{const r=s=>{s.target&&!n.current&&Y_(pz,t,{originalEvent:s},{discrete:!1})};return document.addEventListener("focusin",r),()=>document.removeEventListener("focusin",r)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ww(){const e=new CustomEvent(gp);document.dispatchEvent(e)}function Y_(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?fz(s,o):s.dispatchEvent(o)}const gh="focusScope.autoFocusOnMount",vh="focusScope.autoFocusOnUnmount",Hw={bubbles:!1,cancelable:!0},wz=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=f.useState(null),u=so(s),d=so(o),h=f.useRef(null),m=Gl(t,g=>c(g)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let g=function(v){if(p.paused||!l)return;const y=v.target;l.contains(y)?h.current=y:Is(h.current,{select:!0})},b=function(v){p.paused||!l||l.contains(v.relatedTarget)||Is(h.current,{select:!0})};return document.addEventListener("focusin",g),document.addEventListener("focusout",b),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b)}}},[r,l,p.paused]),f.useEffect(()=>{if(l){qw.add(p);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(gh,Hw);l.addEventListener(gh,u),l.dispatchEvent(v),v.defaultPrevented||(bz(Ez(J_(l)),{select:!0}),document.activeElement===g&&Is(l))}return()=>{l.removeEventListener(gh,u),setTimeout(()=>{const v=new CustomEvent(vh,Hw);l.addEventListener(vh,d),l.dispatchEvent(v),v.defaultPrevented||Is(g??document.body,{select:!0}),l.removeEventListener(vh,d),qw.remove(p)},0)}}},[l,u,d,p]);const w=f.useCallback(g=>{if(!n&&!r||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const y=g.currentTarget,[x,C]=jz(y);x&&C?!g.shiftKey&&v===C?(g.preventDefault(),n&&Is(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),n&&Is(C,{select:!0})):v===y&&g.preventDefault()}},[n,r,p.paused]);return f.createElement(Zd.div,Me({tabIndex:-1},i,{ref:m,onKeyDown:w}))});function bz(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Is(r,{select:t}),document.activeElement!==n)return}function jz(e){const t=J_(e),n=Gw(t,e),r=Gw(t.reverse(),e);return[n,r]}function J_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gw(e,t){for(const n of e)if(!Cz(n,{upTo:t}))return n}function Cz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Sz(e){return e instanceof HTMLInputElement&&"select"in e}function Is(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Sz(e)&&t&&e.select()}}const qw=Nz();function Nz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Kw(e,t),e.unshift(t)},remove(t){var n;e=Kw(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function Kw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Ez(e){return e.filter(t=>t.tagName!=="A")}const _z=f.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=e;return r?jj.createPortal(f.createElement(Zd.div,Me({},s,{ref:t})),r):null});function Pz(e,t){return f.useReducer((n,r)=>{const s=t[n][r];return s??n},e)}const ef=e=>{const{present:t,children:n}=e,r=kz(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),o=Gl(r.ref,s.ref);return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:o}):null};ef.displayName="Presence";function kz(e){const[t,n]=f.useState(),r=f.useRef({}),s=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Pz(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Ac(r.current);o.current=l==="mounted"?u:"none"},[l]),mp(()=>{const u=r.current,d=s.current;if(d!==e){const m=o.current,p=Ac(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),mp(()=>{if(t){const u=h=>{const p=Ac(r.current).includes(h.animationName);h.target===t&&p&&qn.flushSync(()=>c("ANIMATION_END"))},d=h=>{h.target===t&&(o.current=Ac(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Ac(e){return(e==null?void 0:e.animationName)||"none"}let xh=0;function Tz(){f.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Yw()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Yw()),xh++,()=>{xh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),xh--}},[])}function Yw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var X_=RC(),yh=function(){},tf=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:yh,onWheelCapture:yh,onTouchMoveCapture:yh}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,p=e.noIsolation,w=e.inert,g=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,y=Lg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=m,C=TC([n,t]),S=St(St({},y),s);return f.createElement(f.Fragment,null,d&&f.createElement(x,{sideCar:X_,removeScrollBar:u,shards:h,noIsolation:p,inert:w,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),i?f.cloneElement(f.Children.only(l),St(St({},S),{ref:C})):f.createElement(v,St({},S,{className:c,ref:C}),l))});tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tf.classNames={fullWidth:Ta,zeroRight:ka};var vp=!1;if(typeof window<"u")try{var $c=Object.defineProperty({},"passive",{get:function(){return vp=!0,!0}});window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{vp=!1}var _o=vp?{passive:!1}:!1,Rz=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},Dz=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},Jw=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Q_(e,n);if(r){var s=Z_(e,n),o=s[1],i=s[2];if(o>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Mz=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Az=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Q_=function(e,t){return e==="v"?Rz(t):Dz(t)},Z_=function(e,t){return e==="v"?Mz(t):Az(t)},$z=function(e,t){return e==="h"&&t==="rtl"?-1:1},Oz=function(e,t,n,r,s){var o=$z(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,h=0,m=0;do{var p=Z_(e,l),w=p[0],g=p[1],b=p[2],v=g-b-o*w;(w||v)&&Q_(e,l)&&(h+=v,m+=w),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&h===0||!s&&i>h)||!d&&(s&&m===0||!s&&-i>m))&&(u=!0),u},Oc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xw=function(e){return[e.deltaX,e.deltaY]},Qw=function(e){return e&&"current"in e?e.current:e},Iz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Lz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Fz=0,Po=[];function Vz(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(Fz++)[0],o=f.useState(function(){return Fg()})[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=kC([e.lockRef.current],(e.shards||[]).map(Qw),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(g,b){if("touches"in g&&g.touches.length===2)return!i.current.allowPinchZoom;var v=Oc(g),y=n.current,x="deltaX"in g?g.deltaX:y[0]-v[0],C="deltaY"in g?g.deltaY:y[1]-v[1],S,E=g.target,N=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in g&&N==="h"&&E.type==="range")return!1;var _=Jw(N,E);if(!_)return!0;if(_?S=N:(S=N==="v"?"h":"v",_=Jw(N,E)),!_)return!1;if(!r.current&&"changedTouches"in g&&(x||C)&&(r.current=S),!S)return!0;var D=r.current||S;return Oz(D,b,g,D==="h"?x:C,!0)},[]),c=f.useCallback(function(g){var b=g;if(!(!Po.length||Po[Po.length-1]!==o)){var v="deltaY"in b?Xw(b):Oc(b),y=t.current.filter(function(S){return S.name===b.type&&S.target===b.target&&Iz(S.delta,v)})[0];if(y&&y.should){b.preventDefault();return}if(!y){var x=(i.current.shards||[]).map(Qw).filter(Boolean).filter(function(S){return S.contains(b.target)}),C=x.length>0?l(b,x[0]):!i.current.noIsolation;C&&b.preventDefault()}}},[]),u=f.useCallback(function(g,b,v,y){var x={name:g,delta:b,target:v,should:y};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),d=f.useCallback(function(g){n.current=Oc(g),r.current=void 0},[]),h=f.useCallback(function(g){u(g.type,Xw(g),g.target,l(g,e.lockRef.current))},[]),m=f.useCallback(function(g){u(g.type,Oc(g),g.target,l(g,e.lockRef.current))},[]);f.useEffect(function(){return Po.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,_o),document.addEventListener("touchmove",c,_o),document.addEventListener("touchstart",d,_o),function(){Po=Po.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,_o),document.removeEventListener("touchmove",c,_o),document.removeEventListener("touchstart",d,_o)}},[]);var p=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(o,{styles:Lz(s)}):null,p?f.createElement($C,{gapMode:"margin"}):null)}const Uz=MC(X_,Vz);var eP=f.forwardRef(function(e,t){return f.createElement(tf,St({},e,{ref:t,sideCar:Uz}))});eP.classNames=tf.classNames;const zz=eP,tP="Dialog",[nP,OG]=nz(tP),[Bz,go]=nP(tP),Wz=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[u=!1,d]=iz({prop:r,defaultProp:s,onChange:o});return f.createElement(Bz,{scope:t,triggerRef:l,contentRef:c,contentId:ph(),titleId:ph(),descriptionId:ph(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i},n)},rP="DialogPortal",[Hz,sP]=nP(rP,{forceMount:void 0}),Gz=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=go(rP,t);return f.createElement(Hz,{scope:t,forceMount:n},f.Children.map(r,i=>f.createElement(ef,{present:n||o.open},f.createElement(_z,{asChild:!0,container:s},i))))},xp="DialogOverlay",qz=f.forwardRef((e,t)=>{const n=sP(xp,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=go(xp,e.__scopeDialog);return o.modal?f.createElement(ef,{present:r||o.open},f.createElement(Kz,Me({},s,{ref:t}))):null}),Kz=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=go(xp,n);return f.createElement(zz,{as:Hv,allowPinchZoom:!0,shards:[s.contentRef]},f.createElement(Zd.div,Me({"data-state":iP(s.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),bl="DialogContent",Yz=f.forwardRef((e,t)=>{const n=sP(bl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=go(bl,e.__scopeDialog);return f.createElement(ef,{present:r||o.open},o.modal?f.createElement(Jz,Me({},s,{ref:t})):f.createElement(Xz,Me({},s,{ref:t})))}),Jz=f.forwardRef((e,t)=>{const n=go(bl,e.__scopeDialog),r=f.useRef(null),s=Gl(t,n.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return Ml(o)},[]),f.createElement(oP,Me({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oi(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:oi(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:oi(e.onFocusOutside,o=>o.preventDefault())}))}),Xz=f.forwardRef((e,t)=>{const n=go(bl,e.__scopeDialog),r=f.useRef(!1);return f.createElement(oP,Me({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,s),!s.defaultPrevented){var i;r.current||(i=n.triggerRef.current)===null||i===void 0||i.focus(),s.preventDefault()}r.current=!1},onInteractOutside:s=>{var o,i;(o=e.onInteractOutside)===null||o===void 0||o.call(e,s),s.defaultPrevented||(r.current=!0);const l=s.target;((i=n.triggerRef.current)===null||i===void 0?void 0:i.contains(l))&&s.preventDefault()}}))}),oP=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=go(bl,n),c=f.useRef(null),u=Gl(t,c);return Tz(),f.createElement(f.Fragment,null,f.createElement(wz,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o},f.createElement(vz,Me({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":iP(l.open)},i,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function iP(e){return e?"open":"closed"}const Qz=Wz,Zz=Gz,eB=qz,tB=Yz;var Zw=1,nB=.9,rB=.3,wh=.1,sB=0,bh=.999,oB=.9999,iB=.99,eb=/[\\\/\-_+.# \t"@\[\(\{&]/,aB=/[\\\/\-_+.# \t"@\[\(\{&]/g;function yp(e,t,n,r,s,o){if(o===t.length)return s===e.length?Zw:iB;for(var i=r.charAt(o),l=n.indexOf(i,s),c=0,u,d,h;l>=0;)u=yp(e,t,n,r,l+1,o+1),u>c&&(l===s?u*=Zw:eb.test(e.charAt(l-1))?(u*=nB,h=e.slice(s,l-1).match(aB),h&&s>0&&(u*=Math.pow(bh,h.length))):eb.test(e.slice(s,l-1))?(u*=sB,s>0&&(u*=Math.pow(bh,l-s))):(u*=rB,s>0&&(u*=Math.pow(bh,l-s))),e.charAt(l)!==t.charAt(o)&&(u*=oB)),u<wh&&n.charAt(l-1)===r.charAt(o+1)&&n.charAt(l-1)!==r.charAt(o)&&(d=yp(e,t,n,r,l+1,o+2),d*wh>u&&(u=d*wh)),u>c&&(c=u),l=n.indexOf(i,l+1);return c}function lB(e,t){return yp(e,t,e.toLowerCase(),t.toLowerCase(),0,0)}var cB=lB;const uB=Sp(cB);var dB='[cmdk-list-sizer=""]',la='[cmdk-group=""]',jh='[cmdk-group-items=""]',fB='[cmdk-group-heading=""]',aP='[cmdk-item=""]',tb=`${aP}:not([aria-disabled="true"])`,wp="cmdk-item-select",Lr="data-value",hB=(e,t)=>uB(e,t),lP=f.createContext(void 0),ql=()=>f.useContext(lP),cP=f.createContext(void 0),Gv=()=>f.useContext(cP),uP=f.createContext(void 0),dP=f.forwardRef((e,t)=>{let n=f.useRef(null),r=Ro(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),s=Ro(()=>new Set),o=Ro(()=>new Map),i=Ro(()=>new Map),l=Ro(()=>new Set),c=fP(e),{label:u,children:d,value:h,onValueChange:m,filter:p,shouldFilter:w,...g}=e,b=f.useId(),v=f.useId(),y=f.useId(),x=SB();Wi(()=>{if(h!==void 0){let j=h.trim().toLowerCase();r.current.value=j,x(6,R),C.emit()}},[h]);let C=f.useMemo(()=>({subscribe:j=>(l.current.add(j),()=>l.current.delete(j)),snapshot:()=>r.current,setState:(j,k,A)=>{var L,W,Y;if(!Object.is(r.current[j],k)){if(r.current[j]=k,j==="search")D(),N(),x(1,_);else if(j==="value")if(((L=c.current)==null?void 0:L.value)!==void 0){(Y=(W=c.current).onValueChange)==null||Y.call(W,k);return}else A||x(5,R);C.emit()}},emit:()=>{l.current.forEach(j=>j())}}),[]),S=f.useMemo(()=>({value:(j,k)=>{k!==i.current.get(j)&&(i.current.set(j,k),r.current.filtered.items.set(j,E(k)),x(2,()=>{N(),C.emit()}))},item:(j,k)=>(s.current.add(j),k&&(o.current.has(k)?o.current.get(k).add(j):o.current.set(k,new Set([j]))),x(3,()=>{D(),N(),r.current.value||_(),C.emit()}),()=>{i.current.delete(j),s.current.delete(j),r.current.filtered.items.delete(j),x(4,()=>{D(),_(),C.emit()})}),group:j=>(o.current.has(j)||o.current.set(j,new Set),()=>{i.current.delete(j),o.current.delete(j)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],listId:b,inputId:y,labelId:v}),[]);function E(j){var k;let A=((k=c.current)==null?void 0:k.filter)??hB;return j?A(j,r.current.search):0}function N(){if(!n.current||!r.current.search||c.current.shouldFilter===!1)return;let j=r.current.filtered.items,k=[];r.current.filtered.groups.forEach(L=>{let W=o.current.get(L),Y=0;W.forEach(F=>{let G=j.get(F);Y=Math.max(G,Y)}),k.push([L,Y])});let A=n.current.querySelector(dB);O().sort((L,W)=>{let Y=L.getAttribute(Lr),F=W.getAttribute(Lr);return(j.get(F)??0)-(j.get(Y)??0)}).forEach(L=>{let W=L.closest(jh);W?W.appendChild(L.parentElement===W?L:L.closest(`${jh} > *`)):A.appendChild(L.parentElement===A?L:L.closest(`${jh} > *`))}),k.sort((L,W)=>W[1]-L[1]).forEach(L=>{let W=n.current.querySelector(`${la}[${Lr}="${L[0]}"]`);W==null||W.parentElement.appendChild(W)})}function _(){let j=O().find(A=>!A.ariaDisabled),k=j==null?void 0:j.getAttribute(Lr);C.setState("value",k||void 0)}function D(){if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let j=0;for(let k of s.current){let A=i.current.get(k),L=E(A);r.current.filtered.items.set(k,L),L>0&&j++}for(let[k,A]of o.current)for(let L of A)if(r.current.filtered.items.get(L)>0){r.current.filtered.groups.add(k);break}r.current.filtered.count=j}function R(){var j,k,A;let L=I();L&&(((j=L.parentElement)==null?void 0:j.firstChild)===L&&((A=(k=L.closest(la))==null?void 0:k.querySelector(fB))==null||A.scrollIntoView({block:"nearest"})),L.scrollIntoView({block:"nearest"}))}function I(){return n.current.querySelector(`${aP}[aria-selected="true"]`)}function O(){return Array.from(n.current.querySelectorAll(tb))}function z(j){let k=O()[j];k&&C.setState("value",k.getAttribute(Lr))}function M(j){var k;let A=I(),L=O(),W=L.findIndex(F=>F===A),Y=L[W+j];(k=c.current)!=null&&k.loop&&(Y=W+j<0?L[L.length-1]:W+j===L.length?L[0]:L[W+j]),Y&&C.setState("value",Y.getAttribute(Lr))}function U(j){let k=I(),A=k==null?void 0:k.closest(la),L;for(;A&&!L;)A=j>0?jB(A,la):CB(A,la),L=A==null?void 0:A.querySelector(tb);L?C.setState("value",L.getAttribute(Lr)):M(j)}let $=()=>z(O().length-1),T=j=>{j.preventDefault(),j.metaKey?$():j.altKey?U(1):M(1)},P=j=>{j.preventDefault(),j.metaKey?z(0):j.altKey?U(-1):M(-1)};return f.createElement("div",{ref:Kl([n,t]),...g,"cmdk-root":"",onKeyDown:j=>{var k;if((k=g.onKeyDown)==null||k.call(g,j),!j.defaultPrevented)switch(j.key){case"n":case"j":{j.ctrlKey&&T(j);break}case"ArrowDown":{T(j);break}case"p":case"k":{j.ctrlKey&&P(j);break}case"ArrowUp":{P(j);break}case"Home":{j.preventDefault(),z(0);break}case"End":{j.preventDefault(),$();break}case"Enter":{j.preventDefault();let A=I();if(A){let L=new Event(wp);A.dispatchEvent(L)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:NB},u),f.createElement(cP.Provider,{value:C},f.createElement(lP.Provider,{value:S},d)))}),mB=f.forwardRef((e,t)=>{let n=f.useId(),r=f.useRef(null),s=f.useContext(uP),o=ql(),i=fP(e);Wi(()=>o.item(n,s),[]);let l=hP(n,r,[e.value,e.children,r]),c=Gv(),u=Si(v=>v.value&&v.value===l.current),d=Si(v=>o.filter()===!1?!0:v.search?v.filtered.items.get(n)>0:!0);f.useEffect(()=>{let v=r.current;if(!(!v||e.disabled))return v.addEventListener(wp,h),()=>v.removeEventListener(wp,h)},[d,e.onSelect,e.disabled]);function h(){var v,y;(y=(v=i.current).onSelect)==null||y.call(v,l.current)}function m(){c.setState("value",l.current,!0)}if(!d)return null;let{disabled:p,value:w,onSelect:g,...b}=e;return f.createElement("div",{ref:Kl([r,t]),...b,"cmdk-item":"",role:"option","aria-disabled":p||void 0,"aria-selected":u||void 0,"data-selected":u||void 0,onPointerMove:p?void 0:m,onClick:p?void 0:h},e.children)}),pB=f.forwardRef((e,t)=>{let{heading:n,children:r,...s}=e,o=f.useId(),i=f.useRef(null),l=f.useRef(null),c=f.useId(),u=ql(),d=Si(m=>u.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);Wi(()=>u.group(o),[]),hP(o,i,[e.value,e.heading,l]);let h=f.createElement(uP.Provider,{value:o},r);return f.createElement("div",{ref:Kl([i,t]),...s,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&f.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},h))}),gB=f.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,s=f.useRef(null),o=Si(i=>!i.search);return!n&&!o?null:f.createElement("div",{ref:Kl([s,t]),...r,"cmdk-separator":"",role:"separator"})}),vB=f.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,s=e.value!=null,o=Gv(),i=Si(c=>c.search),l=ql();return f.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),f.createElement("input",{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,id:l.inputId,type:"text",value:s?e.value:i,onChange:c=>{s||o.setState("search",c.target.value),n==null||n(c.target.value)}})}),xB=f.forwardRef((e,t)=>{let{children:n,...r}=e,s=f.useRef(null),o=f.useRef(null),i=ql();return f.useEffect(()=>{if(o.current&&s.current){let l=o.current,c=s.current,u,d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let h=l.getBoundingClientRect().height;c.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return d.observe(l),()=>{cancelAnimationFrame(u),d.unobserve(l)}}},[]),f.createElement("div",{ref:Kl([s,t]),...r,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:i.listId,"aria-labelledby":i.inputId},f.createElement("div",{ref:o,"cmdk-list-sizer":""},n))}),yB=f.forwardRef((e,t)=>{let{open:n,onOpenChange:r,container:s,...o}=e;return f.createElement(Qz,{open:n,onOpenChange:r},f.createElement(Zz,{container:s},f.createElement(eB,{"cmdk-overlay":""}),f.createElement(tB,{"aria-label":e.label,"cmdk-dialog":""},f.createElement(dP,{ref:t,...o}))))}),wB=f.forwardRef((e,t)=>{let n=f.useRef(!0),r=Si(s=>s.filtered.count===0);return f.useEffect(()=>{n.current=!1},[]),n.current||!r?null:f.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),bB=f.forwardRef((e,t)=>{let{progress:n,children:r,...s}=e;return f.createElement("div",{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},f.createElement("div",{"aria-hidden":!0},r))}),Wt=Object.assign(dP,{List:xB,Item:mB,Input:vB,Group:pB,Separator:gB,Dialog:yB,Empty:wB,Loading:bB});function jB(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function CB(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function fP(e){let t=f.useRef(e);return Wi(()=>{t.current=e}),t}var Wi=typeof window>"u"?f.useEffect:f.useLayoutEffect;function Ro(e){let t=f.useRef();return t.current===void 0&&(t.current=e()),t}function Kl(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Si(e){let t=Gv(),n=()=>e(t.snapshot());return f.useSyncExternalStore(t.subscribe,n,n)}function hP(e,t,n){let r=f.useRef(),s=ql();return Wi(()=>{var o;let i=(()=>{var l;for(let c of n){if(typeof c=="string")return c.trim().toLowerCase();if(typeof c=="object"&&"current"in c&&c.current)return(l=c.current.textContent)==null?void 0:l.trim().toLowerCase()}})();s.value(e,i),(o=t.current)==null||o.setAttribute(Lr,i),r.current=i}),r}var SB=()=>{let[e,t]=f.useState(),n=Ro(()=>new Map);return Wi(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,s)=>{n.current.set(r,s),t({})}},NB={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const mP=Z.forwardRef(({className:e,...t},n)=>a.jsx(Wt,{ref:n,className:ce("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));mP.displayName=Wt.displayName;const pP=Z.forwardRef(({className:e,...t},n)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(Pr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(Wt.Input,{ref:n,className:ce("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));pP.displayName=Wt.Input.displayName;const gP=Z.forwardRef(({className:e,...t},n)=>a.jsx(Wt.List,{ref:n,className:ce("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));gP.displayName=Wt.List.displayName;const vP=Z.forwardRef((e,t)=>a.jsx(Wt.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));vP.displayName=Wt.Empty.displayName;const xP=Z.forwardRef(({className:e,...t},n)=>a.jsx(Wt.Group,{ref:n,className:ce("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));xP.displayName=Wt.Group.displayName;const EB=Z.forwardRef(({className:e,...t},n)=>a.jsx(Wt.Separator,{ref:n,className:ce("-mx-1 h-px bg-border",e),...t}));EB.displayName=Wt.Separator.displayName;const yP=Z.forwardRef(({className:e,...t},n)=>a.jsx(Wt.Item,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));yP.displayName=Wt.Item.displayName;var nf="Popover",[wP,IG]=Ot(nf,[Oi]),Yl=Oi(),[_B,Es]=wP(nf),bP=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=Yl(t),c=f.useRef(null),[u,d]=f.useState(!1),[h,m]=or({prop:r,defaultProp:s??!1,onChange:o,caller:nf});return a.jsx($g,{...l,children:a.jsx(_B,{scope:t,contentId:yn(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:f.useCallback(()=>d(!0),[]),onCustomAnchorRemove:f.useCallback(()=>d(!1),[]),modal:i,children:n})})};bP.displayName=nf;var jP="PopoverAnchor",PB=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Es(jP,n),o=Yl(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return f.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(Nd,{...o,...r,ref:t})});PB.displayName=jP;var CP="PopoverTrigger",SP=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Es(CP,n),o=Yl(n),i=be(t,s.triggerRef),l=a.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kP(s.open),...r,ref:i,onClick:ee(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Nd,{asChild:!0,...o,children:l})});SP.displayName=CP;var qv="PopoverPortal",[kB,TB]=wP(qv,{forceMount:void 0}),NP=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=Es(qv,t);return a.jsx(kB,{scope:t,forceMount:n,children:a.jsx(cn,{present:n||o.open,children:a.jsx(Ii,{asChild:!0,container:s,children:r})})})};NP.displayName=qv;var Ni="PopoverContent",EP=f.forwardRef((e,t)=>{const n=TB(Ni,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=Es(Ni,e.__scopePopover);return a.jsx(cn,{present:r||o.open,children:o.modal?a.jsx(DB,{...s,ref:t}):a.jsx(MB,{...s,ref:t})})});EP.displayName=Ni;var RB=us("PopoverContent.RemoveScroll"),DB=f.forwardRef((e,t)=>{const n=Es(Ni,e.__scopePopover),r=f.useRef(null),s=be(t,r),o=f.useRef(!1);return f.useEffect(()=>{const i=r.current;if(i)return Ml(i)},[]),a.jsx(Pd,{as:RB,allowPinchZoom:!0,children:a.jsx(_P,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ee(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),MB=f.forwardRef((e,t)=>{const n=Es(Ni,e.__scopePopover),r=f.useRef(!1),s=f.useRef(!1);return a.jsx(_P,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),_P=f.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,m=Es(Ni,n),p=Yl(n);return bd(),a.jsx(Tl,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Mi,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(Og,{"data-state":kP(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),PP="PopoverClose",AB=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Es(PP,n);return a.jsx(pe.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>s.onOpenChange(!1))})});AB.displayName=PP;var $B="PopoverArrow",OB=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Yl(n);return a.jsx(Ig,{...s,...r,ref:t})});OB.displayName=$B;function kP(e){return e?"open":"closed"}var IB=bP,LB=SP,FB=NP,TP=EP;const RP=IB,DP=LB,Kv=Z.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>a.jsx(FB,{children:a.jsx(TP,{ref:s,align:t,sideOffset:n,className:ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Kv.displayName=TP.displayName;const Dt=({options:e,value:t,onSelect:n,placeholder:r,searchPlaceholder:s,emptyText:o,disabled:i})=>{const[l,c]=f.useState(!1),u=e.find(d=>d.value.toLowerCase()===(t==null?void 0:t.toLowerCase()));return a.jsxs(RP,{open:l,onOpenChange:c,children:[a.jsx(DP,{asChild:!0,children:a.jsxs(B,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between",disabled:i,children:[u?u.label:r,a.jsx(n4,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(Kv,{className:"w-[--radix-popover-trigger-width] p-0",children:a.jsxs(mP,{children:[a.jsx(pP,{placeholder:s}),a.jsxs(gP,{children:[a.jsx(vP,{children:o}),a.jsx(xP,{children:e.map(d=>a.jsxs(yP,{value:d.value,onSelect:h=>{n(h===t?"":h),c(!1)},children:[a.jsx(qg,{className:ce("mr-2 h-4 w-4",t===d.value?"opacity-100":"opacity-0")}),d.label]},d.value))})]})]})})]})},VB=()=>{const{toast:e}=Qe(),[t,n]=f.useState([]),[r,s]=f.useState([]),[o,i]=f.useState(""),[l,c]=f.useState(!1),[u,d]=f.useState(null),[h,m]=f.useState({matricule:"",codePrepose:"",mdpPrepose:"",nom:"",prenom:"",telephone:"",agenceAssigne:"",disponibilite:"Disponible",dateDebutIndisponibilite:null,dateFinIndisponibilite:null,photo_url:null}),[p,w]=f.useState(!1),[g,b]=f.useState(!1),[v,y]=f.useState(null),[x,C]=f.useState(!1),S=f.useRef(null),E=f.useRef(null),N=r.map(F=>({value:F.nom,label:F.nom})),_=f.useCallback(async()=>{b(!0);const{data:F,error:G}=await Q.from("guichetieres").select("*").order("nom",{ascending:!0});G?e({title:"Erreur chargement guichetières",description:G.message,variant:"destructive"}):n(F);const{data:H,error:V}=await Q.from("agences").select("id, nom").order("nom",{ascending:!0});V?e({title:"Erreur chargement agences",description:V.message,variant:"destructive"}):s(H),b(!1)},[e]);f.useEffect(()=>{_()},[_]),f.useEffect(()=>{let F;return x&&S.current&&navigator.mediaDevices.getUserMedia({video:!0}).then(G=>{F=G,S.current.srcObject=F}).catch(G=>{console.error("Error accessing camera: ",G),e({title:"Erreur Caméra",description:"Impossible d'accéder à la caméra.",variant:"destructive"}),C(!1)}),()=>{F&&F.getTracks().forEach(G=>G.stop())}},[x,e]);const D=F=>{const{name:G,value:H}=F.target;m(V=>({...V,[G]:H===""&&(G==="dateDebutIndisponibilite"||G==="dateFinIndisponibilite")?null:H}))},R=(F,G)=>{m(H=>({...H,[F]:G}))},I=F=>{var H;const G=(H=N.find(V=>V.value.toLowerCase()===F.toLowerCase()))==null?void 0:H.value;m(V=>({...V,agenceAssigne:G||""}))},O=f.useCallback(()=>{m({matricule:"",codePrepose:"",mdpPrepose:"",nom:"",prenom:"",telephone:"",agenceAssigne:"",disponibilite:"Disponible",dateDebutIndisponibilite:null,dateFinIndisponibilite:null,photo_url:null}),w(!1),y(null),C(!1)},[]),z=F=>{const G=F.target.files[0];if(G){y(G);const H=new FileReader;H.onloadend=()=>{m(V=>({...V,photo_url:H.result}))},H.readAsDataURL(G)}},M=()=>{if(S.current&&E.current){const F=S.current,G=E.current;G.width=F.videoWidth,G.height=F.videoHeight,G.getContext("2d").drawImage(F,0,0,G.width,G.height);const V=G.toDataURL("image/png");fetch(V).then(X=>X.blob()).then(X=>{const re=new File([X],"capture.png",{type:"image/png"});y(re),m(oe=>({...oe,photo_url:V})),C(!1)})}},U=async(F,G)=>{if(!F)return null;const H=`photos_guichetieres/${G}_${Date.now()}.${F.name.split(".").pop()}`,{data:V,error:X}=await Q.storage.from("pmu-mali-storage").upload(H,F,{cacheControl:"3600",upsert:!0});if(X)return e({title:"Erreur d'upload photo",description:X.message,variant:"destructive"}),null;const{data:re}=Q.storage.from("pmu-mali-storage").getPublicUrl(V.path);return re.publicUrl},$=async()=>{if(!h.matricule||!h.nom||!h.prenom||!h.agenceAssigne||!h.codePrepose||!h.mdpPrepose){e({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires (Matricule, Nom, Prénom, Agence, Code et MDP Préposé).",variant:"destructive"});return}if((h.disponibilite==="Absent"||h.disponibilite==="Suspendu")&&(!h.dateDebutIndisponibilite||!h.dateFinIndisponibilite)){e({title:"Erreur",description:"Les dates de début et de fin d'indisponibilité sont requises pour ce statut.",variant:"destructive"});return}if(h.dateDebutIndisponibilite&&h.dateFinIndisponibilite&&He(h.dateFinIndisponibilite)<He(h.dateDebutIndisponibilite)){e({title:"Erreur de dates",description:"La date de fin d'indisponibilité ne peut pas être antérieure à la date de début.",variant:"destructive"});return}b(!0);let F=(u==null?void 0:u.photo_url)||null;if(v){const V=await U(v,h.matricule);if(V)F=V;else{b(!1);return}}else h.photo_url&&h.photo_url.startsWith("data:image")||!h.photo_url&&u&&u.photo_url&&(F=null);const G={...h,photo_url:F};G.disponibilite==="Disponible"&&(G.dateDebutIndisponibilite=null,G.dateFinIndisponibilite=null),delete G.id;let H;if(u){const{error:V}=await Q.from("guichetieres").update(G).eq("id",u.id);H=V}else{const{error:V}=await Q.from("guichetieres").insert(G);H=V}H?e({title:"Erreur d'enregistrement",description:H.message,variant:"destructive"}):(e({title:"Succès",description:`Guichetière ${u?"modifiée":"ajoutée"} avec succès.`,className:"bg-green-500 text-white"}),c(!1),d(null),O(),_()),b(!1)},T=(F=null)=>{d(F),F?m({...F,dateDebutIndisponibilite:F.dateDebutIndisponibilite?ye(He(F.dateDebutIndisponibilite),"yyyy-MM-dd"):null,dateFinIndisponibilite:F.dateFinIndisponibilite?ye(He(F.dateFinIndisponibilite),"yyyy-MM-dd"):null,photo_url:F.photo_url||null}):O(),y(null),C(!1),c(!0)},P=async F=>{b(!0);const G=t.find(V=>V.id===F);if(G&&G.photo_url)try{const V=new URL(G.photo_url).pathname.split("/pmu-mali-storage/").pop();V&&await Q.storage.from("pmu-mali-storage").remove([V])}catch(V){console.error("Error parsing or deleting photo from storage:",V)}const{error:H}=await Q.from("guichetieres").delete().eq("id",F);H?e({title:"Erreur de suppression",description:H.message,variant:"destructive"}):(e({title:"Succès",description:"Guichetière supprimée.",className:"bg-red-500 text-white"}),_()),b(!1)},j=t.filter(F=>Object.entries(F).some(([G,H])=>G==="codePrepose"||G==="mdpPrepose"||G==="photo_url"?!1:String(H).toLowerCase().includes(o.toLowerCase()))),k=["Disponible","Absent","Suspendu"],A={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},L=F=>{if(!F||F.length===0)return"";const G=["matricule","nom","prenom","telephone","agenceAssigne","disponibilite","dateDebutIndisponibilite","dateFinIndisponibilite","codePrepose","photo_url"].join(","),H=F.map(V=>[V.matricule,V.nom,V.prenom,V.telephone||"",V.agenceAssigne||"",V.disponibilite,V.dateDebutIndisponibilite||"",V.dateFinIndisponibilite||"",V.codePrepose,V.photo_url||""].map(X=>`"${String(X).replace(/"/g,'""')}"`).join(","));return`${G}
${H.join(`
`)}`},W=()=>{const F=L(t);if(!F){e({title:"Exportation échouée",description:"Aucune donnée à exporter.",variant:"destructive"});return}const G=new Blob([F],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a"),V=URL.createObjectURL(G);H.setAttribute("href",V),H.setAttribute("download","pmu_guichetieres.csv"),H.style.visibility="hidden",document.body.appendChild(H),H.click(),document.body.removeChild(H),e({title:"Exportation réussie",description:"Les données des guichetières ont été exportées au format CSV.",className:"bg-green-500 text-white"})},Y=async F=>{const G=F.target.files[0];if(G){b(!0);const H=new FileReader;H.onload=async V=>{try{const re=V.target.result.split(`
`).filter(te=>te.trim()!=="");if(re.length<2)throw new Error("Fichier CSV vide ou en-têtes manquants.");const oe=re[0].trim().split(",").map(te=>te.replace(/^"|"$/g,"").trim()),se=["matricule","nom","prenom","codePrepose","mdpPrepose","agenceAssigne"];if(!se.every(te=>oe.includes(te)))throw new Error(`En-têtes manquants. Requis: ${se.join(", ")}. Présents: ${oe.join(", ")}`);const q=re.slice(1).map(te=>{const he=te.split(",").map(Ve=>Ve.replace(/^"|"$/g,"").replace(/""/g,'"').trim());let we={};return oe.forEach((Ve,lt)=>{we[Ve]=he[lt]}),{matricule:we.matricule,codePrepose:we.codePrepose,mdpPrepose:we.mdpPrepose,nom:we.nom,prenom:we.prenom,telephone:we.telephone||null,agenceAssigne:we.agenceAssigne||null,disponibilite:we.disponibilite||"Disponible",dateDebutIndisponibilite:we.dateDebutIndisponibilite||null,dateFinIndisponibilite:we.dateFinIndisponibilite||null,photo_url:we.photo_url||null}}).filter(te=>te.matricule&&te.nom&&te.prenom&&te.codePrepose&&te.mdpPrepose);if(q.length>0){const{error:te}=await Q.from("guichetieres").upsert(q,{onConflict:"matricule"});if(te)throw te;e({title:"Importation réussie",description:`${q.length} guichetières importées/mises à jour.`,className:"bg-green-500 text-white"}),_()}else e({title:"Erreur d'importation",description:"Aucune donnée valide trouvée dans le fichier CSV ou format incorrect.",variant:"destructive"})}catch(X){e({title:"Erreur d'importation",description:`Impossible de lire le fichier CSV: ${X.message}`,variant:"destructive"})}finally{b(!1)}},H.readAsText(G,"UTF-8")}F.target&&(F.target.value=null)};return a.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsxs(De,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{children:[a.jsx(Pe,{className:"text-3xl font-bold text-primary",children:"Gestion des Guichetières"}),a.jsx($e,{children:"Gérez les informations et la disponibilité des guichetières."})]}),a.jsxs(En,{open:l,onOpenChange:F=>{c(F),F||O()},children:[a.jsx(vs,{asChild:!0,children:a.jsxs(B,{onClick:()=>T(),className:"bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white",disabled:g,children:[a.jsx(Li,{className:"mr-2 h-5 w-5"})," Ajouter une Guichetière"]})}),a.jsxs(nn,{className:"sm:max-w-lg glassmorphism",children:[a.jsx(rn,{children:a.jsxs(on,{className:"text-2xl text-primary",children:[u?"Modifier":"Ajouter"," une Guichetière"]})}),a.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto p-1",children:[[{id:"matricule",label:"Matricule",icon:a.jsx(ut,{className:"h-4 w-4"})},{id:"codePrepose",label:"Code Préposé",icon:a.jsx(ll,{className:"h-4 w-4"})},{id:"mdpPrepose",label:"MDP Préposé",type:p?"text":"password",icon:a.jsx(ll,{className:"h-4 w-4"}),isPassword:!0},{id:"nom",label:"Nom",icon:a.jsx(ut,{className:"h-4 w-4"})},{id:"prenom",label:"Prénom",icon:a.jsx(ut,{className:"h-4 w-4"})},{id:"telephone",label:"Numéro de Téléphone",type:"tel",icon:a.jsx(Qg,{className:"h-4 w-4"})}].map(F=>a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:F.id,className:"text-right flex items-center justify-end",children:[F.icon&&Z.cloneElement(F.icon,{className:"mr-1"}),F.label]}),a.jsxs("div",{className:"col-span-3 relative",children:[a.jsx(xe,{id:F.id,name:F.id,type:F.type||"text",value:h[F.id]||"",onChange:D,className:"pr-10",disabled:g}),F.isPassword&&a.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>w(G=>!G),disabled:g,children:p?a.jsx(Yg,{className:"h-4 w-4"}):a.jsx(Jg,{className:"h-4 w-4"})})]})]},F.id)),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"agenceAssigne",className:"text-right flex items-center justify-end",children:[a.jsx(Ou,{className:"h-4 w-4 mr-1"}),"Agence Assignée"]}),a.jsx("div",{className:"col-span-3",children:a.jsx(Dt,{options:N,value:h.agenceAssigne,onSelect:I,placeholder:"Sélectionner une agence",searchPlaceholder:"Rechercher une agence...",emptyText:"Aucune agence trouvée.",disabled:g})})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"photo",className:"text-right flex items-center justify-end",children:[a.jsx(bn,{className:"h-4 w-4 mr-1"}),"Photo"]}),a.jsxs("div",{className:"col-span-3 space-y-2",children:[h.photo_url&&typeof h.photo_url=="string"&&a.jsxs("div",{className:"mt-2",children:[a.jsx("img-replace",{src:h.photo_url,alt:"Aperçu photo",className:"h-24 w-24 object-cover rounded border"}),a.jsx(B,{variant:"link",size:"sm",onClick:()=>m(F=>({...F,photo_url:null})),disabled:g,children:"Supprimer photo"})]}),x&&a.jsxs("div",{className:"mt-2",children:[a.jsx("video",{ref:S,autoPlay:!0,className:"w-full rounded border"}),a.jsx("canvas",{ref:E,className:"hidden"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(B,{onClick:M,type:"button",disabled:g,children:"Prendre la photo"}),a.jsx(B,{variant:"outline",onClick:()=>C(!1),type:"button",disabled:g,children:"Annuler"})]})]}),!x&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(B,{type:"button",variant:"outline",onClick:()=>C(!0),className:"flex items-center",disabled:g,children:[a.jsx(bn,{className:"mr-2 h-4 w-4"})," Prendre Photo"]}),a.jsx(B,{asChild:!0,variant:"outline",className:"flex items-center",disabled:g,children:a.jsxs(ae,{htmlFor:"photo-upload",className:"cursor-pointer m-0 p-2 h-full",children:[a.jsx(Lu,{className:"mr-2 h-4 w-4"})," Uploader"]})}),a.jsx(xe,{id:"photo-upload",type:"file",accept:"image/*",onChange:z,className:"hidden",disabled:g})]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"disponibilite",className:"text-right flex items-center justify-end",children:[a.jsx(FS,{className:"h-4 w-4 mr-1"}),"Disponibilité"]}),a.jsxs(yl,{name:"disponibilite",value:h.disponibilite,onValueChange:F=>R("disponibilite",F),disabled:g,children:[a.jsx(bi,{className:"col-span-3",children:a.jsx(wl,{placeholder:"Statut de disponibilité"})}),a.jsx(ji,{children:k.map(F=>a.jsx(Ci,{value:F,children:F},F))})]})]}),(h.disponibilite==="Absent"||h.disponibilite==="Suspendu")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"dateDebutIndisponibilite",className:"text-right flex items-center justify-end",children:[a.jsx(Jy,{className:"h-4 w-4 mr-1"}),"Début Indisponibilité"]}),a.jsx(xe,{id:"dateDebutIndisponibilite",name:"dateDebutIndisponibilite",type:"date",value:h.dateDebutIndisponibilite||"",onChange:D,className:"col-span-3",disabled:g})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"dateFinIndisponibilite",className:"text-right flex items-center justify-end",children:[a.jsx(Jy,{className:"h-4 w-4 mr-1"}),"Fin Indisponibilité"]}),a.jsx(xe,{id:"dateFinIndisponibilite",name:"dateFinIndisponibilite",type:"date",value:h.dateFinIndisponibilite||"",onChange:D,className:"col-span-3",disabled:g})]})]})]}),a.jsxs(sn,{children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",type:"button",onClick:O,disabled:g,children:"Annuler"})}),a.jsx(B,{onClick:$,className:"bg-primary hover:bg-primary/90",disabled:g,children:g?"Enregistrement...":u?"Sauvegarder":"Ajouter"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(xe,{type:"text",placeholder:"Rechercher (Nom, Prénom, Matricule...)",value:o,onChange:F=>i(F.target.value),className:"pl-10 w-full",disabled:g})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(B,{variant:"outline",asChild:!0,disabled:g,children:a.jsxs(ae,{htmlFor:"import-guichetieres",className:"cursor-pointer flex items-center",children:[a.jsx(Xg,{className:"mr-2 h-4 w-4"})," Importer (CSV)",a.jsx(xe,{type:"file",id:"import-guichetieres",accept:".csv",onChange:Y,className:"hidden"})]})}),a.jsxs(B,{variant:"outline",onClick:W,disabled:g||t.length===0,children:[a.jsx(Dd,{className:"mr-2 h-4 w-4"})," Exporter (CSV)"]})]})]})]}),a.jsx(ke,{children:g&&t.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Chargement des guichetières..."}):a.jsxs(Bn,{children:[a.jsx(lr,{children:j.length===0?"Aucune guichetière trouvée.":`Liste de ${j.length} guichetière(s).`}),a.jsx(Wn,{children:a.jsxs(tn,{children:[a.jsx(le,{children:"Photo"}),a.jsx(le,{children:"Matricule"}),a.jsx(le,{children:"Code Préposé"}),a.jsx(le,{children:"Nom"}),a.jsx(le,{children:"Prénom"}),a.jsx(le,{children:"Téléphone"}),a.jsx(le,{children:"Agence Assignée"}),a.jsx(le,{children:"Disponibilité"}),a.jsx(le,{children:"Début Indisponibilité"}),a.jsx(le,{children:"Fin Indisponibilité"}),a.jsx(le,{className:"text-right",children:"Actions"})]})}),a.jsx(Hn,{children:j.map((F,G)=>a.jsxs(de.tr,{variants:A,initial:"hidden",animate:"visible",transition:{delay:G*.05},children:[a.jsx(ie,{children:F.photo_url?a.jsx("img",{src:F.photo_url,alt:`${F.prenom} ${F.nom}`,className:"w-10 h-10 rounded-full object-cover"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(ut,{className:"h-6 w-6 text-gray-400"})})}),a.jsx(ie,{children:F.matricule}),a.jsx(ie,{children:F.codePrepose}),a.jsx(ie,{children:F.nom}),a.jsx(ie,{children:F.prenom}),a.jsx(ie,{children:F.telephone}),a.jsx(ie,{children:F.agenceAssigne}),a.jsx(ie,{children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.disponibilite==="Disponible"?"bg-green-100 text-green-800":F.disponibilite==="Absent"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:F.disponibilite})}),a.jsx(ie,{children:F.dateDebutIndisponibilite||"N/A"}),a.jsx(ie,{children:F.dateFinIndisponibilite||"N/A"}),a.jsxs(ie,{className:"text-right space-x-1",children:[a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>T(F),className:"text-blue-500 hover:text-blue-700",disabled:g,children:a.jsx(Ol,{className:"h-4 w-4"})}),a.jsxs(En,{children:[a.jsx(vs,{asChild:!0,children:a.jsx(B,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",disabled:g,children:a.jsx(fo,{className:"h-4 w-4"})})}),a.jsxs(nn,{className:"sm:max-w-md",children:[a.jsxs(rn,{children:[a.jsx(on,{children:"Confirmer la suppression"}),a.jsxs(Tr,{children:["Êtes-vous sûr de vouloir supprimer la guichetière ",F.prenom," ",F.nom," ? Cette action est irréversible et supprimera les plannings et pointages associés."]})]}),a.jsxs(sn,{children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",disabled:g,children:"Annuler"})}),a.jsx(B,{variant:"destructive",onClick:()=>P(F.id),disabled:g,children:g?"Suppression...":"Supprimer"})]})]})]})]})]},F.id))})]})})]})})},UB=()=>{const{toast:e}=Qe(),[t,n]=f.useState([]),[r,s]=f.useState(""),[o,i]=f.useState(!1),[l,c]=f.useState(null),[u,d]=f.useState({matricule:"",nom:"",prenom:"",telephone:"",email:"",motDePasse:"",photo_url:null}),[h,m]=f.useState(!1),[p,w]=f.useState(!1),[g,b]=f.useState(null),[v,y]=f.useState(!1),x=f.useRef(null),C=f.useRef(null),S=f.useCallback(async()=>{w(!0);const{data:j,error:k}=await Q.from("techniciens").select("*").order("nom",{ascending:!0});k?e({title:"Erreur chargement techniciens",description:k.message,variant:"destructive"}):n(j||[]),w(!1)},[e]);f.useEffect(()=>{S()},[S]),f.useEffect(()=>{let j;return v&&x.current&&navigator.mediaDevices.getUserMedia({video:!0}).then(k=>{j=k,x.current.srcObject=j}).catch(k=>{console.error("Error accessing camera: ",k),e({title:"Erreur Caméra",description:"Impossible d'accéder à la caméra.",variant:"destructive"}),y(!1)}),()=>{j&&j.getTracks().forEach(k=>k.stop())}},[v,e]);const E=j=>{const{name:k,value:A}=j.target;d(L=>({...L,[k]:A}))},N=f.useCallback(()=>{d({matricule:"",nom:"",prenom:"",telephone:"",email:"",motDePasse:"",photo_url:null}),m(!1),b(null),y(!1)},[]),_=j=>{const k=j.target.files[0];if(k){b(k);const A=new FileReader;A.onloadend=()=>{d(L=>({...L,photo_url:A.result}))},A.readAsDataURL(k)}},D=()=>{if(x.current&&C.current){const j=x.current,k=C.current;k.width=j.videoWidth,k.height=j.videoHeight,k.getContext("2d").drawImage(j,0,0,k.width,k.height);const L=k.toDataURL("image/png");fetch(L).then(W=>W.blob()).then(W=>{const Y=new File([W],"capture.png",{type:"image/png"});b(Y),d(F=>({...F,photo_url:L})),y(!1)})}},R=async(j,k)=>{if(!j)return null;const A=`photos_techniciens/${k}_${Date.now()}.${j.name.split(".").pop()}`,{data:L,error:W}=await Q.storage.from("pmu-mali-storage").upload(A,j,{cacheControl:"3600",upsert:!0});if(W)return e({title:"Erreur d'upload photo",description:W.message,variant:"destructive"}),null;const{data:Y}=Q.storage.from("pmu-mali-storage").getPublicUrl(L.path);return Y.publicUrl},I=async()=>{if(!u.matricule||!u.nom||!u.prenom||!u.email||!u.motDePasse){e({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires (Matricule, Nom, Prénom, Email et Mot de passe).",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)){e({title:"Erreur",description:"Veuillez saisir une adresse email valide.",variant:"destructive"});return}w(!0);let k=(l==null?void 0:l.photo_url)||null;if(g){const W=await R(g,u.matricule);if(W)k=W;else{w(!1);return}}else!u.photo_url&&l&&l.photo_url&&(k=null);const A={...u,photo_url:k};delete A.id;let L;if(l){const{error:W}=await Q.from("techniciens").update(A).eq("id",l.id);L=W}else{const{error:W}=await Q.from("techniciens").insert(A);L=W}L?e({title:"Erreur d'enregistrement",description:L.message,variant:"destructive"}):(e({title:"Succès",description:`Technicien ${l?"modifié":"ajouté"} avec succès.`,className:"bg-green-500 text-white"}),i(!1),c(null),N(),S()),w(!1)},O=(j=null)=>{c(j),j?d({...j,photo_url:j.photo_url||null}):N(),b(null),y(!1),i(!0)},z=async j=>{w(!0);const k=t.find(L=>L.id===j);if(k&&k.photo_url)try{const L=new URL(k.photo_url).pathname.split("/pmu-mali-storage/").pop();L&&await Q.storage.from("pmu-mali-storage").remove([L])}catch(L){console.error("Error parsing or deleting photo from storage:",L)}const{error:A}=await Q.from("techniciens").delete().eq("id",j);A?e({title:"Erreur de suppression",description:A.message,variant:"destructive"}):(e({title:"Succès",description:"Technicien supprimé.",className:"bg-red-500 text-white"}),S()),w(!1)},M=t.filter(j=>Object.entries(j).some(([k,A])=>k==="motDePasse"||k==="photo_url"?!1:String(A).toLowerCase().includes(r.toLowerCase()))),U={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},$=j=>{if(!j||j.length===0)return"";const k=["matricule","nom","prenom","telephone","email","photo_url"].join(","),A=j.map(L=>[L.matricule,L.nom,L.prenom,L.telephone||"",L.email,L.photo_url||""].map(W=>`"${String(W).replace(/"/g,'""')}"`).join(","));return`${k}
${A.join(`
`)}`},T=()=>{const j=$(t);if(!j){e({title:"Exportation échouée",description:"Aucune donnée à exporter.",variant:"destructive"});return}const k=new Blob([j],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),L=URL.createObjectURL(k);A.setAttribute("href",L),A.setAttribute("download","pmu_techniciens.csv"),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A),e({title:"Exportation réussie",description:"Les données des techniciens ont été exportées au format CSV.",className:"bg-green-500 text-white"})},P=async j=>{const k=j.target.files[0];if(k){w(!0);const A=new FileReader;A.onload=async L=>{try{const Y=L.target.result.split(`
`).filter(V=>V.trim()!=="");if(Y.length<2)throw new Error("Fichier CSV vide ou en-têtes manquants.");const F=Y[0].trim().split(",").map(V=>V.replace(/^"|"$/g,"").trim()),G=["matricule","nom","prenom","email","motDePasse"];if(!G.every(V=>F.includes(V)))throw new Error(`En-têtes manquants. Requis: ${G.join(", ")}. Présents: ${F.join(", ")}`);const H=Y.slice(1).map(V=>{const X=V.split(",").map(oe=>oe.replace(/^"|"$/g,"").replace(/""/g,'"').trim());let re={};return F.forEach((oe,se)=>{re[oe]=X[se]}),{matricule:re.matricule,nom:re.nom,prenom:re.prenom,telephone:re.telephone||null,email:re.email,motDePasse:re.motDePasse,photo_url:re.photo_url||null}}).filter(V=>V.matricule&&V.nom&&V.prenom&&V.email&&V.motDePasse);if(H.length>0){const{error:V}=await Q.from("techniciens").upsert(H,{onConflict:"matricule"});if(V)throw V;e({title:"Importation réussie",description:`${H.length} techniciens importés/mis à jour.`,className:"bg-green-500 text-white"}),S()}else e({title:"Erreur d'importation",description:"Aucune donnée valide trouvée dans le fichier CSV ou format incorrect.",variant:"destructive"})}catch(W){e({title:"Erreur d'importation",description:`Impossible de lire le fichier CSV: ${W.message}`,variant:"destructive"})}finally{w(!1)}},A.readAsText(k,"UTF-8")}j.target&&(j.target.value=null)};return a.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsxs(De,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{children:[a.jsx(Pe,{className:"text-3xl font-bold text-primary",children:"Gestion des Techniciens"}),a.jsx($e,{children:"Gérez les informations des techniciens de maintenance."})]}),a.jsxs(En,{open:o,onOpenChange:j=>{i(j),j||N()},children:[a.jsx(vs,{asChild:!0,children:a.jsxs(B,{onClick:()=>O(),className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white",disabled:p,children:[a.jsx(Li,{className:"mr-2 h-5 w-5"})," Ajouter un Technicien"]})}),a.jsxs(nn,{className:"sm:max-w-lg glassmorphism",children:[a.jsx(rn,{children:a.jsxs(on,{className:"text-2xl text-primary",children:[l?"Modifier":"Ajouter"," un Technicien"]})}),a.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto p-1",children:[[{id:"matricule",label:"Matricule",icon:a.jsx(ut,{className:"h-4 w-4"})},{id:"nom",label:"Nom",icon:a.jsx(ut,{className:"h-4 w-4"})},{id:"prenom",label:"Prénom",icon:a.jsx(ut,{className:"h-4 w-4"})},{id:"telephone",label:"Numéro de Téléphone",type:"tel",icon:a.jsx(Qg,{className:"h-4 w-4"})},{id:"email",label:"Email",type:"email",icon:a.jsx(l4,{className:"h-4 w-4"})},{id:"motDePasse",label:"Mot de passe",type:h?"text":"password",icon:a.jsx(ll,{className:"h-4 w-4"}),isPassword:!0}].map(j=>a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:j.id,className:"text-right flex items-center justify-end",children:[j.icon&&Z.cloneElement(j.icon,{className:"mr-1"}),j.label]}),a.jsxs("div",{className:"col-span-3 relative",children:[a.jsx(xe,{id:j.id,name:j.id,type:j.type||"text",value:u[j.id]||"",onChange:E,className:"pr-10",disabled:p}),j.isPassword&&a.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>m(k=>!k),disabled:p,children:h?a.jsx(Yg,{className:"h-4 w-4"}):a.jsx(Jg,{className:"h-4 w-4"})})]})]},j.id)),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsxs(ae,{htmlFor:"photo",className:"text-right flex items-center justify-end",children:[a.jsx(bn,{className:"h-4 w-4 mr-1"}),"Photo"]}),a.jsxs("div",{className:"col-span-3 space-y-2",children:[u.photo_url&&typeof u.photo_url=="string"&&a.jsxs("div",{className:"mt-2",children:[a.jsx("img",{src:u.photo_url,alt:"Aperçu photo",className:"h-24 w-24 object-cover rounded border"}),a.jsx(B,{variant:"link",size:"sm",onClick:()=>d(j=>({...j,photo_url:null})),disabled:p,children:"Supprimer photo"})]}),v&&a.jsxs("div",{className:"mt-2",children:[a.jsx("video",{ref:x,autoPlay:!0,className:"w-full rounded border"}),a.jsx("canvas",{ref:C,className:"hidden"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(B,{onClick:D,type:"button",disabled:p,children:"Prendre la photo"}),a.jsx(B,{variant:"outline",onClick:()=>y(!1),type:"button",disabled:p,children:"Annuler"})]})]}),!v&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(B,{type:"button",variant:"outline",onClick:()=>y(!0),className:"flex items-center",disabled:p,children:[a.jsx(bn,{className:"mr-2 h-4 w-4"})," Prendre Photo"]}),a.jsx(B,{asChild:!0,variant:"outline",className:"flex items-center",disabled:p,children:a.jsxs(ae,{htmlFor:"photo-upload",className:"cursor-pointer m-0 p-2 h-full",children:[a.jsx(Lu,{className:"mr-2 h-4 w-4"})," Uploader"]})}),a.jsx(xe,{id:"photo-upload",type:"file",accept:"image/*",onChange:_,className:"hidden",disabled:p})]})]})]})]}),a.jsxs(sn,{children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",type:"button",onClick:N,disabled:p,children:"Annuler"})}),a.jsx(B,{onClick:I,className:"bg-primary hover:bg-primary/90",disabled:p,children:p?"Enregistrement...":l?"Sauvegarder":"Ajouter"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(xe,{type:"text",placeholder:"Rechercher (Nom, Prénom, Matricule, Email...)",value:r,onChange:j=>s(j.target.value),className:"pl-10 w-full",disabled:p})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(B,{variant:"outline",asChild:!0,disabled:p,children:a.jsxs(ae,{htmlFor:"import-techniciens",className:"cursor-pointer flex items-center",children:[a.jsx(Xg,{className:"mr-2 h-4 w-4"})," Importer (CSV)",a.jsx(xe,{type:"file",id:"import-techniciens",accept:".csv",onChange:P,className:"hidden"})]})}),a.jsxs(B,{variant:"outline",onClick:T,disabled:p||t.length===0,children:[a.jsx(Dd,{className:"mr-2 h-4 w-4"})," Exporter (CSV)"]})]})]})]}),a.jsx(ke,{children:p&&t.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Chargement des techniciens..."}):a.jsxs(Bn,{children:[a.jsx(lr,{children:M.length===0?"Aucun technicien trouvé.":`Liste de ${M.length} technicien(s).`}),a.jsx(Wn,{children:a.jsxs(tn,{children:[a.jsx(le,{children:"Photo"}),a.jsx(le,{children:"Matricule"}),a.jsx(le,{children:"Nom"}),a.jsx(le,{children:"Prénom"}),a.jsx(le,{children:"Téléphone"}),a.jsx(le,{children:"Email"}),a.jsx(le,{className:"text-right",children:"Actions"})]})}),a.jsx(Hn,{children:M.map((j,k)=>a.jsxs(de.tr,{variants:U,initial:"hidden",animate:"visible",transition:{delay:k*.05},children:[a.jsx(ie,{children:j.photo_url?a.jsx("img",{src:j.photo_url,alt:`${j.prenom} ${j.nom}`,className:"w-10 h-10 rounded-full object-cover"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(Il,{className:"h-6 w-6 text-gray-400"})})}),a.jsx(ie,{children:j.matricule}),a.jsx(ie,{children:j.nom}),a.jsx(ie,{children:j.prenom}),a.jsx(ie,{children:j.telephone||"N/A"}),a.jsx(ie,{children:j.email}),a.jsxs(ie,{className:"text-right space-x-1",children:[a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>O(j),className:"text-blue-500 hover:text-blue-700",disabled:p,children:a.jsx(Ol,{className:"h-4 w-4"})}),a.jsxs(En,{children:[a.jsx(vs,{asChild:!0,children:a.jsx(B,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",disabled:p,children:a.jsx(fo,{className:"h-4 w-4"})})}),a.jsxs(nn,{className:"sm:max-w-md",children:[a.jsxs(rn,{children:[a.jsx(on,{children:"Confirmer la suppression"}),a.jsxs(Tr,{children:["Êtes-vous sûr de vouloir supprimer le technicien ",j.prenom," ",j.nom," ? Cette action est irréversible."]})]}),a.jsxs(sn,{children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",disabled:p,children:"Annuler"})}),a.jsx(B,{variant:"destructive",onClick:()=>z(j.id),disabled:p,children:p?"Suppression...":"Supprimer"})]})]})]})]})]},j.id))})]})})]})})},Ic={debut:"09:00",fin:"19:00"},nb="general",zB=()=>{const{toast:e}=Qe(),[t,n]=f.useState([Ic]),[r,s]=f.useState(!1),[o,i]=f.useState(30),[l,c]=f.useState(null),[u,d]=f.useState([]),[h,m]=f.useState(!1),[p,w]=f.useState(null),[g,b]=f.useState([]),[v,y]=f.useState({}),[x,C]=f.useState("Vous allez être automatiquement déconnecté. Veuillez demander au Chef d'agence de se reconnecter"),S=f.useCallback(async()=>{const{data:M,error:U}=await Q.from("chefs_agence").select("id, nom, prenom, matricule").order("nom",{ascending:!0});U?e({title:"Erreur de chargement des chefs d'agence",description:U.message,variant:"destructive"}):b(M||[])},[e]),E=f.useCallback(async()=>{m(!0);const{data:M,error:U}=await Q.from("app_settings").select("id, value").eq("key",nb).single();U&&U.code!=="PGRST116"?e({title:"Erreur de chargement",description:U.message,variant:"destructive"}):M?(w(M.id),n(M.value.creneauxPointage||[Ic]),s(M.value.rappelActif||!1),i(M.value.sessionDureeMinutes||30),y(M.value.sessionDureeIndividuelle||{}),C(M.value.messageDeconnexion||"Vous allez être automatiquement déconnecté. Veuillez demander au Chef d'agence de se reconnecter")):(n([Ic]),s(!1),i(30),y({})),m(!1)},[e]);f.useEffect(()=>{if(E(),S(),typeof window<"u"&&!l)try{c(new(window.AudioContext||window.webkitAudioContext))}catch(M){console.error("AudioContext not supported",M),e({title:"Audio non supporté",description:"Les rappels sonores ne fonctionneront pas sur ce navigateur.",variant:"warning"})}},[E,S,l,e]);const N=f.useCallback(()=>{if(l)try{const M=l.createOscillator(),U=l.createGain();M.connect(U),U.connect(l.destination),M.type="sine",M.frequency.setValueAtTime(440,l.currentTime),U.gain.setValueAtTime(.1,l.currentTime),M.start(),M.stop(l.currentTime+.5)}catch(M){console.error("Error playing sound",M)}},[l]),_=f.useCallback(()=>{if(u.forEach($=>clearTimeout($)),d([]),!r||!t||t.length===0||!l)return;const M=new Date,U=[];t.forEach(($,T)=>{const[P,j]=$.debut.split(":").map(Number),[k,A]=$.fin.split(":").map(Number),L=new Date(M.getFullYear(),M.getMonth(),M.getDate(),P,j,0),W=new Date(M.getFullYear(),M.getMonth(),M.getDate(),k,A,0),Y=new Date(W.getTime()-5*6e4);if(L>M){const F=setTimeout(()=>{N(),e({title:`Rappel Pointage ${T+1}`,description:`Le créneau de pointage N°${T+1} commence maintenant (${$.debut}).`,className:"bg-blue-500 text-white"})},L.getTime()-M.getTime());U.push(F)}if(Y>M){const F=setTimeout(()=>{N(),e({title:`Rappel Pointage ${T+1}`,description:`Le créneau de pointage N°${T+1} se termine dans 5 minutes (${$.fin}).`,className:"bg-orange-500 text-white"})},Y.getTime()-M.getTime());U.push(F)}}),d(U)},[t,r,N,e,u,l]);f.useEffect(()=>(_(),()=>u.forEach(M=>clearTimeout(M))),[_]);const D=(M,U,$)=>{const T=[...t];T[M][U]=$,n(T)},R=()=>{n([...t,{...Ic}])},I=M=>{if(t.length===1){e({title:"Action impossible",description:"Au moins un créneau de pointage est requis.",variant:"destructive"});return}const U=t.filter(($,T)=>T!==M);n(U)},O=(M,U)=>{y($=>({...$,[M]:parseInt(U)||o}))},z=async()=>{m(!0);const M={creneauxPointage:t,rappelActif:r,sessionDureeMinutes:o,sessionDureeIndividuelle:v,messageDeconnexion:x};let U;if(p){const{error:$}=await Q.from("app_settings").update({value:M}).eq("id",p);U=$}else{const{data:$,error:T}=await Q.from("app_settings").insert({key:nb,value:M}).select("id").single();U=T,!U&&$&&w($.id)}U?e({title:"Erreur de sauvegarde",description:U.message,variant:"destructive"}):(_(),e({title:"Paramètres sauvegardés",description:"Les paramètres de pointage et de rappel ont été mis à jour.",className:"bg-green-500 text-white"})),m(!1)};return a.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs(_e,{className:"max-w-3xl mx-auto shadow-xl glassmorphism",children:[a.jsxs(De,{children:[a.jsxs(Pe,{className:"text-3xl font-bold text-primary flex items-center",children:[a.jsx(Zg,{className:"mr-3 h-8 w-8"})," Paramètres de l'Application"]}),a.jsx($e,{children:"Configurez les créneaux de pointage et les rappels pour l'application."})]}),a.jsx(ke,{className:"space-y-8 py-8",children:h&&!p?a.jsx("p",{className:"text-center text-muted-foreground",children:"Chargement des paramètres..."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs(ae,{className:"text-lg font-medium text-foreground/90 flex items-center mb-3",children:[a.jsx(Yr,{className:"mr-2 h-5 w-5 text-primary"})," Créneaux de Pointage Requis par Jour"]}),t.map((M,U)=>a.jsxs(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:U*.1},className:"flex items-center gap-3 mb-3 p-3 border rounded-md bg-muted/30",children:[a.jsxs("span",{className:"font-semibold text-primary",children:["N°",U+1,":"]}),a.jsx(xe,{type:"time",value:M.debut,onChange:$=>D(U,"debut",$.target.value),className:"w-32",disabled:h}),a.jsx("span",{children:"à"}),a.jsx(xe,{type:"time",value:M.fin,onChange:$=>D(U,"fin",$.target.value),className:"w-32",disabled:h}),t.length>1&&a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>I(U),className:"text-red-500 hover:text-red-700",disabled:h,children:a.jsx(fo,{className:"h-4 w-4"})})]},U)),a.jsxs(B,{onClick:R,variant:"outline",className:"mt-2",disabled:h,children:[a.jsx(Li,{className:"mr-2 h-4 w-4"})," Ajouter un créneau"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Définissez les heures de début et de fin pour chaque pointage obligatoire. Le nombre total de créneaux sera le nombre de pointages requis."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ae,{className:"text-lg font-medium text-foreground/90 flex items-center",children:[a.jsx(XO,{className:"mr-2 h-5 w-5 text-primary"})," Rappels Sonores"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"rappelActif",checked:r,onChange:M=>s(M.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",disabled:h||!l}),a.jsx(ae,{htmlFor:"rappelActif",className:"text-sm font-medium",children:"Activer les rappels sonores (début de créneau et 5 min avant la fin)"})]}),!l&&a.jsx("p",{className:"text-xs text-red-500",children:"Les rappels sonores ne sont pas supportés par votre navigateur."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Si activé, une notification sonore sera jouée au début de chaque créneau et 5 minutes avant sa fin. Assurez-vous que le son de votre appareil est activé."})]}),a.jsxs("div",{className:"space-y-5 border-t pt-5",children:[a.jsxs(ae,{className:"text-lg font-medium text-foreground/90 flex items-center",children:[a.jsx(ev,{className:"mr-2 h-5 w-5 text-primary"})," Durée de Session"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{className:"font-medium",children:"Durée de session globale"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(xe,{type:"number",id:"sessionDuree",value:o,onChange:M=>i(parseInt(M.target.value)||30),className:"w-24",min:5,max:240,disabled:h}),a.jsx(ae,{htmlFor:"sessionDuree",className:"text-sm font-medium",children:"minutes"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Définissez la durée maximale d'une session avant déconnexion automatique. Une notification apparaîtra avant l'expiration de la session."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ae,{className:"font-medium flex items-center",children:[a.jsx(al,{className:"mr-2 h-4 w-4 text-amber-500"}),"Message de déconnexion"]}),a.jsx(xe,{type:"text",value:x,onChange:M=>C(M.target.value),className:"w-full",disabled:h,placeholder:"Message affiché lors de la déconnexion automatique"})]}),a.jsxs("div",{className:"space-y-3 mt-6",children:[a.jsxs(ae,{className:"font-medium flex items-center",children:[a.jsx(ut,{className:"mr-2 h-4 w-4 text-primary"}),"Durée de session individuelle par Chef d'agence"]}),h?a.jsx("p",{className:"text-center text-muted-foreground py-2",children:"Chargement des chefs d'agence..."}):g.length>0?a.jsxs(Bn,{children:[a.jsx(Wn,{children:a.jsxs(tn,{children:[a.jsx(le,{children:"Matricule"}),a.jsx(le,{children:"Nom"}),a.jsx(le,{children:"Prénom"}),a.jsx(le,{children:"Durée (min)"})]})}),a.jsx(Hn,{children:g.map(M=>a.jsxs(tn,{children:[a.jsx(ie,{children:M.matricule}),a.jsx(ie,{children:M.nom}),a.jsx(ie,{children:M.prenom}),a.jsx(ie,{children:a.jsx(xe,{type:"number",value:v[M.id]||"",onChange:U=>O(M.id,U.target.value),className:"w-20",min:5,max:240,disabled:h,placeholder:o.toString()})})]},M.id))})]}):a.jsx("p",{className:"text-center text-muted-foreground",children:"Aucun chef d'agence trouvé."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Définissez une durée de session spécifique pour chaque Chef d'agence, ou laissez vide pour utiliser la durée globale."})]})]}),a.jsxs("div",{className:"p-4 border-l-4 border-blue-500 bg-blue-50 dark:bg-blue-900/30 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Note importante"}),a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Les modifications apportées ici affecteront le fonctionnement global du système de pointage. Veuillez configurer avec soin. Les rappels ne fonctionneront que si cette page ou l'application reste ouverte dans le navigateur."})]})]})}),a.jsx(Yu,{children:a.jsx(B,{onClick:z,size:"lg",className:"w-full md:w-auto ml-auto bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white text-lg",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(Yr,{className:"mr-2 h-5 w-5 animate-spin"})," Sauvegarde..."]}):a.jsxs(a.Fragment,{children:[a.jsx(BS,{className:"mr-2 h-5 w-5"})," Sauvegarder les Paramètres"]})})})]})})},rb=({data:e,type:t,title:n,isLoading:r})=>{if(r)return a.jsx("div",{className:"flex justify-center items-center h-40",children:a.jsx(Fn,{className:"h-8 w-8 animate-spin text-primary"})});if(!e||e.length===0)return a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucune donnée pour ce graphique."});const s=()=>{if(t==="bar"){const o=Math.max(...e.map(i=>i.value),0);return a.jsx("div",{className:"space-y-2",children:e.map((i,l)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-1/3 text-sm truncate pr-2 text-foreground",children:i.label}),a.jsx("div",{className:"w-2/3 bg-muted rounded-full h-6",children:a.jsx(de.div,{className:"bg-primary h-6 rounded-full text-xs text-primary-foreground flex items-center justify-end pr-2",initial:{width:0},animate:{width:`${o>0?i.value/o*100:0}%`},transition:{duration:.5,delay:l*.1},children:i.value.toFixed(2)})})]},l))})}else if(t==="pie"){const o=e.reduce((l,c)=>l+c.value,0);if(o===0)return a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Total est zéro, impossible d'afficher le camembert."});const i=["#0ea5e9","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899"];return a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"w-32 h-32 rounded-full relative",style:{background:`conic-gradient(${e.map((l,c)=>`${i[c%i.length]} ${e.slice(0,c).reduce((u,d)=>u+d.value/o*360,0)}deg ${e.slice(0,c+1).reduce((u,d)=>u+d.value/o*360,0)}deg`).join(", ")})`}}),a.jsx("ul",{className:"text-xs space-y-1 w-full max-w-xs text-foreground",children:e.map((l,c)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 rounded-sm mr-2",style:{backgroundColor:i[c%i.length]}}),l.label]}),a.jsxs("span",{children:[l.value," (",(l.value/o*100).toFixed(1),"%)"]})]},c))})]})}return null};return a.jsxs(_e,{className:"h-full",children:[a.jsx(De,{children:a.jsxs(Pe,{className:"text-lg flex items-center",children:[t==="bar"&&a.jsx(YO,{className:"mr-2 h-5 w-5 text-primary"}),t==="pie"&&a.jsx(d4,{className:"mr-2 h-5 w-5 text-primary"}),t==="line"&&a.jsx(MS,{className:"mr-2 h-5 w-5 text-primary"}),n]})}),a.jsx(ke,{children:a.jsx(s,{})})]})},BB=()=>{const{toast:e}=Qe(),[t,n]=f.useState([]),[r,s]=f.useState([]),[o,i]=f.useState([]),[l,c]=f.useState([]),[u,d]=f.useState({creneauxPointage:[{debut:"09:00",fin:"19:00"}]}),[h,m]=f.useState(!1),[p,w]=f.useState(""),[g,b]=f.useState("mois"),v=[{value:"jour",label:"Aujourd'hui"},{value:"hier",label:"Hier"},{value:"semaine",label:"7 derniers jours"},{value:"mois",label:"Ce mois-ci"},{value:"mois_prec",label:"Mois précédent"},{value:"annee",label:"Cette année"},{value:"tout",label:"Tout"}],[y,x]=f.useState([]),[C,S]=f.useState([]),[E,N]=f.useState(!1),_=f.useCallback(async()=>{m(!0);const{data:j,error:k}=await Q.from("guichetieres").select("*");k?e({title:"Erreur Guichetières",description:k.message,variant:"destructive"}):n(j||[]);const{data:A,error:L}=await Q.from("agences").select("*");L?e({title:"Erreur Agences",description:L.message,variant:"destructive"}):s(A||[]);const{data:W,error:Y}=await Q.from("pointages").select("*");Y?e({title:"Erreur Pointages",description:Y.message,variant:"destructive"}):i(W||[]);const{data:F,error:G}=await Q.from("planning").select("*");G?e({title:"Erreur Planning",description:G.message,variant:"destructive"}):c(F||[]);const{data:H,error:V}=await Q.from("app_settings").select("value").eq("key","general").single();V&&V.code!=="PGRST116"?e({title:"Erreur Paramètres",description:V.message,variant:"destructive"}):H&&d(H.value||{creneauxPointage:[{debut:"09:00",fin:"19:00"}]}),await U(),m(!1)},[e]);f.useEffect(()=>{_()},[_]);const D=j=>{const k=new Date;switch(j){case"jour":return{start:br(k),end:oh(k)};case"hier":const A=ri(k,1);return{start:br(A),end:oh(A)};case"semaine":return{start:br(ri(k,6)),end:oh(k)};case"mois":return{start:Ae(k),end:Yt(k)};case"mois_prec":const L=$a(k,1);return{start:Ae(L),end:Yt(L)};case"annee":return{start:kv(k),end:VE(k)};case"tout":return{start:null,end:null};default:return{start:Ae(k),end:Yt(k)}}},R=f.useMemo(()=>{var L;const j=((L=u.creneauxPointage)==null?void 0:L.length)||1,{start:k,end:A}=D(g);return t.filter(W=>p===""||W.agenceAssigne&&W.agenceAssigne.toLowerCase().includes(p.toLowerCase())).map(W=>{const Y=o.filter(q=>{const te=He(q.date),he=k&&A?te>=k&&te<=A:!0;return q.guichetiereMatricule===W.matricule&&he}),F=l.filter(q=>{const te=He(q.date),he=k&&A?te>=k&&te<=A:!0;return q.guichetiereId===W.id&&q.agenceNom===W.agenceAssigne&&he}).length,G=[...new Set(Y.map(q=>q.date))].length,H=Math.max(0,G-F),V=l.filter(q=>{const te=He(q.date),he=k&&A?te>=k&&te<=A:!0;return q.guichetiereId===W.id&&q.remplacement===!0&&q.estRemplacee===!0&&he}).length,X=l.filter(q=>{const te=He(q.date),he=k&&A?te>=k&&te<=A:!0;return q.guichetiereId===W.id&&q.remplacement===!0&&q.estRemplacante===!0&&he}).length,re=G*j,oe=Y.length,se=re>0?Math.min(100,oe/re*100):oe>0?100:0;return{id:W.id,nom:`${W.nom} ${W.prenom}`,agence:W.agenceAssigne||"N/A",joursPlanifies:F,joursTravailles:G,joursSup:H,joursRemplacee:V,joursRemplacante:X,tauxPointage:se,pointagesEffectues:oe,totalPointagesAttendus:re}})},[t,l,o,p,g,u.creneauxPointage]),I=f.useMemo(()=>r.map(k=>{const A=R.filter(W=>W.agence===k.nom);if(A.length===0)return null;const L=A.reduce((W,Y)=>W+Y.tauxPointage,0);return{label:k.nom,value:A.length>0?L/A.length:0}}).filter(Boolean).sort((k,A)=>A.value-k.value).slice(0,5),[R,r]),O=f.useMemo(()=>{const j=R.reduce((L,W)=>L+W.joursPlanifies,0),k=R.reduce((L,W)=>L+W.joursTravailles,0),A=R.reduce((L,W)=>L+W.joursSup,0);return[{label:"Jours Planifiés",value:j},{label:"Jours Travaillés Effectifs",value:k-A},{label:"Jours Supplémentaires",value:A}].filter(L=>L.value>0)},[R]),z=()=>{const j=R.map(({id:F,...G})=>({...G,tauxPointage:G.tauxPointage.toFixed(2)})),k=`Guichetiere,Agence,JoursPlanifies,JoursTravailles,JoursSup,JoursRemplacee,JoursRemplacante,PointagesEffectues,PointagesAttendusJoursTravailles,TauxPointage
`,A=j.map(F=>`${F.nom},${F.agence},${F.joursPlanifies},${F.joursTravailles},${F.joursSup},${F.joursRemplacee},${F.joursRemplacante},${F.pointagesEffectues},${F.totalPointagesAttendus},${F.tauxPointage}`).join(`
`),L=`${k}${A}`,W=`data:text/csv;charset=utf-8,${encodeURIComponent(L)}`,Y=document.createElement("a");Y.setAttribute("href",W),Y.setAttribute("download","statistiques_pointage.csv"),document.body.appendChild(Y),Y.click(),Y.remove(),e({title:"Exportation réussie",description:"Les statistiques ont été exportées au format CSV.",className:"bg-green-500 text-white"})},M={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},U=async()=>{N(!0);const{data:j,error:k}=await Q.from("chefs_agence").select("*").order("nom",{ascending:!0});k?e({title:"Erreur chefs d'agence",description:k.message,variant:"destructive"}):x(j||[]);const{data:A,error:L}=await Q.from("connexions_chefs").select("*").order("date_connexion",{ascending:!1});L?e({title:"Erreur connexions",description:L.message,variant:"destructive"}):S(A||[]),N(!1)},$=f.useMemo(()=>{const{start:j,end:k}=D(g);return y.filter(A=>p===""||A.agenceEnCharge&&A.agenceEnCharge.toLowerCase().includes(p.toLowerCase())).map(A=>{const W=[...C.filter(se=>{const q=He(se.date_connexion),te=j&&k?q>=j&&q<=k:!0;return se.chef_agence_id===A.id&&te})].sort((se,q)=>He(se.date_connexion)-He(q.date_connexion)),Y=W.length>0?W[W.length-1]:null,F=Y&&Y.date_deconnexion?ye(He(Y.date_deconnexion),"dd/MM/yyyy HH:mm"):Y&&!Y.date_deconnexion?"En cours":"Jamais",G=8;let H=0;W.forEach(se=>{if(se.date_deconnexion){const q=He(se.date_connexion),te=He(se.date_deconnexion),he=gw(te,q);H+=he/60}});let V=0;if(j&&k){let se=new Date(j);for(;se<=k;){const q=se.getDay();q!==0&&q!==6&&V++,se.setDate(se.getDate()+1)}}else V=22;const X=V*G,re=X>0?Math.min(100,H/X*100):0,oe=Y?!Y.date_deconnexion:!1;return{id:A.id,nom:`${A.prenom} ${A.nom}`,agence:A.agenceEnCharge||"N/A",estConnecte:oe,derniereConnexion:Y?ye(He(Y.date_connexion),"dd/MM/yyyy HH:mm"):"Jamais",derniereDeconnexion:F,derniereDuree:Y&&Y.date_deconnexion?`${(gw(He(Y.date_deconnexion),He(Y.date_connexion))/60).toFixed(1)}h`:oe?"En cours":"N/A",tauxConformite:re,tempsTotalConnexion:`${H.toFixed(1)}h`,tempsAttendus:`${X}h`}})},[y,C,p,g,D]),T=f.useMemo(()=>{const j=$.length,k=$.filter(L=>L.estConnecte).length,A=j-k;return{totalChefs:j,chefsConnectes:k,chefsDeconnectes:A,pourcentageConnectes:j>0?(k/j*100).toFixed(0):0}},[$]),P=()=>{const j=$.map(F=>({...F,tauxConformite:F.tauxConformite.toFixed(2)})),k=`Nom,Agence,EstConnecte,DerniereConnexion,DerniereDuree,TempsTotalConnexion,TempsAttendus,TauxConformite
`,A=j.map(F=>`${F.nom},${F.agence},${F.estConnecte?"Oui":"Non"},${F.derniereConnexion},${F.derniereDuree},${F.tempsTotalConnexion},${F.tempsAttendus},${F.tauxConformite}%`).join(`
`),L=`${k}${A}`,W=`data:text/csv;charset=utf-8,${encodeURIComponent(L)}`,Y=document.createElement("a");Y.setAttribute("href",W),Y.setAttribute("download","statistiques_connexions_chefs.csv"),document.body.appendChild(Y),Y.click(),Y.remove(),e({title:"Exportation réussie",description:"Les statistiques des chefs d'agence ont été exportées au format CSV.",className:"bg-green-500 text-white"})};return a.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6 p-4 md:p-6",children:[a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsxs(De,{children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:a.jsxs("div",{children:[a.jsxs(Pe,{className:"text-2xl md:text-3xl font-bold text-primary flex items-center",children:[a.jsx(AS,{className:"mr-2 md:mr-3 h-7 w-7 md:h-8 md:w-8"})," Statistiques de Pointage"]}),a.jsx($e,{className:"text-sm md:text-base",children:"Visualisez les performances de pointage des guichetières."})]})}),a.jsxs("div",{className:"mt-4 md:mt-6 flex flex-col md:flex-row gap-3 md:gap-4",children:[a.jsxs("div",{className:"relative flex-grow md:max-w-xs",children:[a.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 md:h-5 md:w-5 text-muted-foreground"}),a.jsx(xe,{type:"text",placeholder:"Filtrer par nom d'agence...",value:p,onChange:j=>w(j.target.value),className:"pl-9 md:pl-10 w-full text-sm md:text-base",disabled:h})]}),a.jsxs(yl,{value:g,onValueChange:b,disabled:h,children:[a.jsx(bi,{className:"w-full md:w-[200px] text-foreground text-sm md:text-base",children:a.jsx(wl,{placeholder:"Filtrer par période"})}),a.jsx(ji,{children:v.map(j=>a.jsx(Ci,{value:j.value,className:"text-sm md:text-base",children:j.label},j.value))})]}),a.jsxs(B,{variant:"outline",onClick:z,className:"w-full md:w-auto text-sm md:text-base",disabled:h||R.length===0,children:[a.jsx(Am,{className:"mr-2 h-4 w-4"})," Exporter CSV"]})]})]}),a.jsxs(ke,{children:[h&&a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Fn,{className:"h-10 w-10 md:h-12 md:w-12 animate-spin text-primary"})}),!h&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6 mb-4 md:mb-6",children:[a.jsx(rb,{data:I,type:"bar",title:"Top 5 Agences par Taux de Pointage Moyen",isLoading:h}),a.jsx(rb,{data:O,type:"pie",title:"Répartition des Jours de Présence",isLoading:h})]}),R.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Bn,{children:[a.jsx(lr,{className:"text-xs md:text-sm",children:"Statistiques de pointage des guichetières."}),a.jsx(Wn,{children:a.jsxs(tn,{children:[a.jsx(le,{className:"text-xs md:text-sm",children:"Guichetière"}),a.jsx(le,{className:"text-xs md:text-sm",children:"Agence"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Jours Planifiés"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Jours Travaillés"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Jours Sup."}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Jours Remplacée"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Jours Remplaçante"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Pointages Effectués / Attendus (Jours Travaillés)"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Taux de Pointage (%)"})]})}),a.jsx(Hn,{children:R.map((j,k)=>a.jsxs(de.tr,{variants:M,initial:"hidden",animate:"visible",transition:{delay:k*.05},className:"hover:bg-muted/50 dark:hover:bg-muted/20 text-xs md:text-sm",children:[a.jsx(ie,{className:"font-medium",children:j.nom}),a.jsx(ie,{children:j.agence}),a.jsx(ie,{className:"text-center",children:j.joursPlanifies}),a.jsx(ie,{className:"text-center",children:j.joursTravailles}),a.jsx(ie,{className:"text-center",children:j.joursSup}),a.jsx(ie,{className:"text-center",children:j.joursRemplacee}),a.jsx(ie,{className:"text-center",children:j.joursRemplacante}),a.jsxs(ie,{className:"text-center",children:[j.pointagesEffectues," / ",j.totalPointagesAttendus]}),a.jsxs(ie,{className:"text-center",children:[a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 md:h-2.5 relative",children:a.jsx("div",{className:"bg-primary h-2 md:h-2.5 rounded-full",style:{width:`${j.tauxPointage.toFixed(2)}%`}})}),j.tauxPointage.toFixed(2),"%"]})]},j.id))})]})}):a.jsxs("div",{className:"text-center py-10 text-muted-foreground",children:[a.jsx(ar,{className:"mx-auto h-10 w-10 md:h-12 md:w-12 mb-3 md:mb-4"}),a.jsx("p",{className:"text-base md:text-lg",children:"Aucune donnée statistique à afficher pour les filtres sélectionnés."}),a.jsx("p",{className:"text-xs md:text-sm",children:"Vérifiez vos filtres ou assurez-vous que des données de pointage et de planning existent."})]})]})]})]}),a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsxs(De,{children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:a.jsxs("div",{children:[a.jsxs(Pe,{className:"text-2xl md:text-3xl font-bold text-primary flex items-center",children:[a.jsx(Fu,{className:"mr-2 md:mr-3 h-7 w-7 md:h-8 md:w-8"})," État des Chefs d'Agence"]}),a.jsx($e,{className:"text-sm md:text-base",children:"Suivez l'état de connexion et les performances des chefs d'agence."})]})}),a.jsxs("div",{className:"mt-4 md:mt-6 flex flex-col md:flex-row gap-3 md:gap-4",children:[a.jsxs("div",{className:"relative flex-grow md:max-w-xs",children:[a.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 md:h-5 md:w-5 text-muted-foreground"}),a.jsx(xe,{type:"text",placeholder:"Filtrer par nom d'agence...",value:p,onChange:j=>w(j.target.value),className:"pl-9 md:pl-10 w-full text-sm md:text-base",disabled:E})]}),a.jsxs(yl,{value:g,onValueChange:b,disabled:E,children:[a.jsx(bi,{className:"w-full md:w-[200px] text-foreground text-sm md:text-base",children:a.jsx(wl,{placeholder:"Filtrer par période"})}),a.jsx(ji,{children:v.map(j=>a.jsx(Ci,{value:j.value,className:"text-sm md:text-base",children:j.label},j.value))})]}),a.jsxs(B,{variant:"outline",onClick:P,className:"w-full md:w-auto text-sm md:text-base",disabled:E||$.length===0,children:[a.jsx(Am,{className:"mr-2 h-4 w-4"})," Exporter CSV"]})]})]}),a.jsxs(ke,{children:[E&&a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Fn,{className:"h-10 w-10 md:h-12 md:w-12 animate-spin text-primary"})}),!E&&a.jsx(a.Fragment,{children:$.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(_e,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:a.jsx(ke,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total Chefs d'Agence"}),a.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:T.totalChefs})]})})}),a.jsx(_e,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:a.jsx(ke,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Connectés"}),a.jsx("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:T.chefsConnectes})]})})}),a.jsx(_e,{className:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",children:a.jsx(ke,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Déconnectés"}),a.jsx("p",{className:"text-3xl font-bold text-red-700 dark:text-red-300",children:T.chefsDeconnectes})]})})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Bn,{children:[a.jsx(lr,{className:"text-xs md:text-sm",children:"État des connexions des chefs d'agence."}),a.jsx(Wn,{children:a.jsxs(tn,{children:[a.jsx(le,{className:"text-xs md:text-sm",children:"Chef d'Agence"}),a.jsx(le,{className:"text-xs md:text-sm",children:"Agence"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"État"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Dernière Connexion"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Dernière Déconnexion"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Durée Session"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Temps Connecté / Attendu"}),a.jsx(le,{className:"text-center text-xs md:text-sm",children:"Taux de Conformité (%)"})]})}),a.jsx(Hn,{children:$.map((j,k)=>a.jsxs(de.tr,{variants:M,initial:"hidden",animate:"visible",transition:{delay:k*.05},className:"hover:bg-muted/50 dark:hover:bg-muted/20 text-xs md:text-sm",children:[a.jsx(ie,{className:"font-medium",children:j.nom}),a.jsx(ie,{children:j.agence}),a.jsx(ie,{className:"text-center",children:j.estConnecte?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(e4,{className:"h-5 w-5 text-green-500 mr-1"}),a.jsx("span",{className:"text-green-500 font-medium",children:"Connecté"})]}):a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Gs,{className:"h-5 w-5 text-red-500 mr-1"}),a.jsx("span",{className:"text-red-500",children:"Déconnecté"})]})}),a.jsx(ie,{className:"text-center",children:j.derniereConnexion}),a.jsx(ie,{className:"text-center",children:j.derniereDeconnexion}),a.jsx(ie,{className:"text-center",children:j.derniereDuree}),a.jsxs(ie,{className:"text-center",children:[j.tempsTotalConnexion," / ",j.tempsAttendus]}),a.jsxs(ie,{className:"text-center",children:[a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 md:h-2.5 relative",children:a.jsx("div",{className:`h-2 md:h-2.5 rounded-full ${j.tauxConformite<50?"bg-red-500":j.tauxConformite<80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${j.tauxConformite.toFixed(2)}%`}})}),j.tauxConformite.toFixed(2),"%"]})]},j.id))})]})})]}):a.jsxs("div",{className:"text-center py-10 text-muted-foreground",children:[a.jsx(Fu,{className:"mx-auto h-10 w-10 md:h-12 md:w-12 mb-3 md:mb-4"}),a.jsx("p",{className:"text-base md:text-lg",children:"Aucune donnée statistique des chefs d'agence à afficher."}),a.jsx("p",{className:"text-xs md:text-sm",children:"Vérifiez vos filtres ou assurez-vous que des données de connexion existent."})]})})]})]})]})},WB=({onLogin:e})=>{const[t,n]=f.useState(""),[r,s]=f.useState(""),[o,i]=f.useState(!1),[l,c]=f.useState("matricule"),[u,d]=f.useState(!1),[h,m]=f.useState(null),[p,w]=f.useState(!1),[g,b]=f.useState(null),v=f.useRef(null),y=f.useRef(null),{toast:x}=Qe();f.useEffect(()=>{let I=null;return u&&v.current&&navigator.mediaDevices.getUserMedia({video:!0}).then(O=>{I=O,v.current.srcObject=O,v.current.play()}).catch(O=>{console.error("Erreur d'accès à la caméra: ",O),x({title:"Erreur d'accès à la caméra",description:"Veuillez autoriser l'accès à votre caméra ou utiliser la connexion par identifiants.",variant:"destructive"}),d(!1),setLoginTab("credentials")}),()=>{I&&I.getTracks().forEach(O=>O.stop())}},[u,x]),f.useEffect(()=>{l==="facial"?d(!0):(d(!1),m(null))},[l]);const C=()=>{if(!v.current||!y.current)return;const I=v.current,O=y.current;O.width=I.videoWidth,O.height=I.videoHeight,O.getContext("2d").drawImage(I,0,0,O.width,O.height);const M=O.toDataURL("image/png");m(M)},S=()=>{m(null)},E=async I=>{if(I.preventDefault(),!t.trim()){x({title:"Matricule requis",description:"Veuillez entrer votre matricule pour continuer.",variant:"destructive"});return}i(!0);try{const{data:O,error:z}=await Q.from("chefs_agence").select("*").eq("matricule",t).single();if(z&&z.code!=="PGRST116"){x({title:"Erreur de connexion",description:z.message,variant:"destructive"}),i(!1);return}if(!O){x({title:"Matricule inconnu",description:"Ce matricule n'est associé à aucun chef d'agence.",variant:"destructive"}),i(!1);return}b(O),O.photo_url?c("choixMethAuth"):c("password"),i(!1)}catch(O){console.error("Erreur lors de la vérification du matricule:",O),x({title:"Erreur de connexion",description:"Une erreur est survenue lors de la vérification du matricule.",variant:"destructive"}),i(!1)}},N=async()=>{if(!h){x({title:"Pas d'image capturée",description:"Veuillez prendre une photo pour vous authentifier.",variant:"destructive"});return}w(!0);try{setTimeout(()=>{e(!0,g),x({title:"Reconnaissance faciale réussie",description:`Bienvenue ${g.prenom} ${g.nom} dans votre Espace Chef d'Agence.`,className:"bg-green-500 text-white"}),w(!1),d(!1),m(null)},2e3)}catch(I){console.error("Erreur lors de l'authentification faciale:",I),x({title:"Échec de l'authentification faciale",description:"Une erreur est survenue. Veuillez réessayer ou utiliser le mot de passe.",variant:"destructive"}),w(!1)}},_=async I=>{I.preventDefault(),i(!0),r===g.mdp?(e(!0,g),x({title:"Connexion réussie",description:`Bienvenue ${g.prenom} ${g.nom} dans votre Espace Chef d'Agence.`,className:"bg-green-500 text-white"})):x({title:"Échec de la connexion",description:"Mot de passe incorrect.",variant:"destructive"}),i(!1)},D=()=>{c("matricule"),b(null),s("")},R=()=>{c("password")};return a.jsx(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:a.jsxs(_e,{className:"w-full max-w-md shadow-2xl glassmorphism",children:[a.jsxs(De,{children:[a.jsxs(Pe,{className:"text-3xl font-bold text-center text-primary",children:[a.jsx(pa,{className:"inline-block h-8 w-8 mr-2 text-primary"}),"Accès Espace Chef d'Agence"]}),a.jsx($e,{className:"text-center",children:l==="matricule"?"Entrez votre matricule pour commencer":l==="choixMethAuth"?"Choisissez votre méthode d'authentification":l==="password"?"Entrez votre mot de passe":"Reconnaissance faciale en cours"})]}),a.jsxs(ke,{children:[l==="matricule"&&a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"matricule-chef",children:"Matricule"}),a.jsx(xe,{id:"matricule-chef",type:"text",placeholder:"Votre matricule",value:t,onChange:I=>n(I.target.value),required:!0,disabled:o})]}),a.jsxs(B,{type:"submit",className:"w-full text-lg py-3 bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white",disabled:o,children:[o?a.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):null,o?"Vérification...":"Continuer"]})]}),l==="choixMethAuth"&&g&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsxs(ps,{className:"h-20 w-20 border-2 border-primary",children:[g.photo_url?a.jsx(eo,{src:g.photo_url,alt:`${g.prenom} ${g.nom}`}):null,a.jsxs(gs,{className:"bg-primary/10 text-primary text-xl font-medium",children:[g.prenom[0],g.nom[0]]})]})}),a.jsxs("p",{className:"text-center text-lg font-medium mb-4",children:["Bonjour, ",g.prenom," ",g.nom]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs(B,{onClick:()=>c("facial"),className:"py-6 bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white",children:[a.jsx(bn,{className:"mr-2 h-5 w-5"}),"Continuer avec la reconnaissance faciale"]}),a.jsxs(B,{onClick:R,variant:"outline",className:"py-6",children:[a.jsx(pa,{className:"mr-2 h-5 w-5"}),"Continuer avec le mot de passe"]}),a.jsx(B,{onClick:D,variant:"ghost",className:"mt-2",children:"Retour"})]})]}),l==="password"&&g&&a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsxs(ps,{className:"h-16 w-16 border-2 border-primary",children:[g.photo_url?a.jsx(eo,{src:g.photo_url,alt:`${g.prenom} ${g.nom}`}):null,a.jsxs(gs,{className:"bg-primary/10 text-primary text-lg font-medium",children:[g.prenom[0],g.nom[0]]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"password-chef",children:"Mot de passe"}),a.jsx(xe,{id:"password-chef",type:"password",placeholder:"Votre mot de passe",value:r,onChange:I=>s(I.target.value),required:!0,disabled:o,autoFocus:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs(B,{type:"submit",className:"py-6 bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white",disabled:o,children:[o?a.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(pa,{className:"mr-2 h-5 w-5"}),o?"Connexion...":"Se connecter"]}),a.jsx(B,{type:"button",onClick:D,variant:"ghost",disabled:o,children:"Retour"})]})]}),l==="facial"&&g&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"relative flex flex-col items-center",children:[h?a.jsx("div",{className:"w-full h-64 bg-muted rounded-lg overflow-hidden flex items-center justify-center",children:a.jsx("img",{src:h,alt:"Capture",className:"max-w-full max-h-full object-contain"})}):a.jsxs("div",{className:"relative w-full h-64 bg-muted rounded-lg overflow-hidden",children:[a.jsx("video",{ref:v,className:"w-full h-full object-cover",autoPlay:!0,muted:!0}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:!u&&a.jsxs("div",{className:"text-center text-muted-foreground p-4 bg-background/80 rounded-lg",children:[a.jsx(bn,{className:"mx-auto h-10 w-10 mb-2"}),a.jsx("p",{children:"Chargement de la caméra..."})]})})]}),a.jsx("canvas",{ref:y,className:"hidden"}),a.jsx("div",{className:"flex justify-center mt-4 space-x-4",children:h?a.jsxs(a.Fragment,{children:[a.jsxs(B,{type:"button",onClick:S,variant:"outline",disabled:p,children:[a.jsx(Ad,{className:"mr-2 h-4 w-4"}),"Reprendre"]}),a.jsxs(B,{type:"button",onClick:N,className:"bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90 text-white",disabled:p,children:[p?a.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(pa,{className:"mr-2 h-4 w-4"}),p?"Authentification...":"S'authentifier"]})]}):a.jsxs(B,{type:"button",onClick:C,className:"px-6 py-2 bg-primary text-white",disabled:!u||p,children:[a.jsx(bn,{className:"mr-2 h-4 w-4"}),"Prendre une photo"]})})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(B,{onClick:R,variant:"ghost",disabled:p,className:"mt-2",children:"Utiliser le mot de passe à la place"})}),a.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"La reconnaissance faciale compare votre visage avec votre photo de profil."})]})]})]})})},HB=()=>{var y,x,C;const e=ao(),t=Ri(),{toast:n}=Qe(),[r,s]=f.useState(((y=JSON.parse(localStorage.getItem("pmuChefAuth")))==null?void 0:y.isAuthenticated)||!1),[o,i]=f.useState(((x=JSON.parse(localStorage.getItem("pmuChefAuth")))==null?void 0:x.chefInfo)||null),[l,c]=f.useState(null),[u,d]=f.useState(30);f.useEffect(()=>{(async()=>{const{data:E,error:N}=await Q.from("app_settings").select("value").eq("key","general").single();!N&&E&&E.value&&d(E.value.sessionDureeMinutes||30)})()},[]);const{sessionExpiring:h,formatTimeRemaining:m}=K2(u,()=>w(),"pmuChefAuth");f.useEffect(()=>{(async()=>{if(r&&(o!=null&&o.id)){const{data:E,error:N}=await Q.from("chefs_agence").select("*").eq("id",o.id).single();!N&&E&&c(E)}})()},[r,o]);const p=(S,E)=>{if(s(S),S&&E){const N={isAuthenticated:!0,chefInfo:{nomAgence:E.agenceEnCharge,nomChef:`${E.prenom} ${E.nom}`,matricule:E.matricule,id:E.id,photo_url:E.photo_url}};i(N.chefInfo),c(E),localStorage.setItem("pmuChefAuth",JSON.stringify(N)),g(E.id)}else localStorage.removeItem("pmuChefAuth"),i(null),c(null)},w=()=>{r&&(o!=null&&o.id)&&b(o.id),s(!1),i(null),c(null),localStorage.removeItem("pmuChefAuth"),n({title:"Déconnexion",description:"Vous avez été déconnecté.",className:"bg-blue-500 text-white"}),t("/")},g=async S=>{try{const E=new Date().toISOString(),{error:N}=await Q.from("connexions_chefs").insert({chef_agence_id:S,date_connexion:E});N&&console.error("Erreur lors de l'enregistrement de la connexion:",N)}catch(E){console.error("Erreur lors de l'enregistrement de la connexion:",E)}},b=async S=>{try{const E=new Date().toISOString(),{data:N,error:_}=await Q.from("connexions_chefs").select("*").eq("chef_agence_id",S).is("date_deconnexion",null).order("date_connexion",{ascending:!1}).limit(1);if(_){console.error("Erreur lors de la récupération de la connexion:",_);return}if(N&&N.length>0){const{error:D}=await Q.from("connexions_chefs").update({date_deconnexion:E}).eq("id",N[0].id);D&&console.error("Erreur lors de l'enregistrement de la déconnexion:",D)}}catch(E){console.error("Erreur lors de l'enregistrement de la déconnexion:",E)}},v=[{path:"mon-planning",label:"Mon Planning",icon:a.jsx(OS,{className:"h-5 w-5"})},{path:"mes-guichetieres",label:"Mes Guichetières",icon:a.jsx(Fu,{className:"h-5 w-5"})}];return r?a.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[a.jsx(de.aside,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},className:"md:w-72",children:a.jsxs(_e,{className:"shadow-lg sticky top-20 glassmorphism",children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ps,{className:"h-14 w-14 border-2 border-primary/20",children:[o!=null&&o.photo_url?a.jsx(eo,{src:o.photo_url,alt:o.nomChef}):null,a.jsx(gs,{className:"bg-primary/10 text-primary font-medium",children:((C=o==null?void 0:o.nomChef)==null?void 0:C.split(" ").map(S=>S[0]).join(""))||"CA"})]}),a.jsxs("div",{children:[a.jsx(Pe,{className:"text-xl text-primary",children:"Chef d'Agence"}),o&&a.jsxs($e,{className:"text-sm",children:[o.nomChef," ",a.jsx("br",{}),"Agence: ",o.nomAgence]})]})]})}),a.jsxs(ke,{className:"flex flex-col h-full",children:[a.jsx("nav",{className:"flex flex-col space-y-2 flex-grow",children:v.map(S=>a.jsx(B,{asChild:!0,variant:e.pathname.endsWith(S.path)?"default":"ghost",className:`justify-start text-base py-3 ${e.pathname.endsWith(S.path)?"bg-primary text-primary-foreground hover:bg-primary/90":"hover:bg-muted/50"}`,children:a.jsxs(Pl,{to:S.path,children:[S.icon&&Z.cloneElement(S.icon,{className:"mr-3 h-5 w-5"}),S.label]})},S.path))}),a.jsxs("div",{className:"mt-auto pt-4",children:[h&&a.jsxs("div",{className:"mb-4 p-2 bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-200 rounded-md flex items-center",children:[a.jsx(ev,{className:"h-4 w-4 mr-2 text-yellow-600 dark:text-yellow-400"}),a.jsxs("div",{className:"text-xs font-medium",children:[a.jsx("div",{children:"Session expirante"}),a.jsx("div",{children:m()})]})]}),a.jsxs(B,{variant:"outline",className:"w-full justify-start text-base py-3 hover:bg-destructive/10 hover:text-destructive",onClick:w,children:[a.jsx(Md,{className:"mr-3 h-5 w-5 text-red-500"}),"Se déconnecter"]})]})]})]})}),a.jsx("main",{className:"flex-1",children:a.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:a.jsx(Cg,{context:{nomAgence:o==null?void 0:o.nomAgence,chefInfo:o,chefDetails:l}})},e.pathname)})]}):a.jsx(WB,{onLogin:p})};function GB(e){const t=qB(e),n=f.forwardRef((r,s)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(YB);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function qB(e){const t=f.forwardRef((n,r)=>{const{children:s,...o}=n;if(f.isValidElement(s)){const i=XB(s),l=JB(o,s.props);return s.type!==f.Fragment&&(l.ref=r?kl(r,i):i),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KB=Symbol("radix.slottable");function YB(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KB}function JB(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function XB(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var QB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ZB=QB.reduce((e,t)=>{const n=GB(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),eW="Separator",sb="horizontal",tW=["horizontal","vertical"],MP=f.forwardRef((e,t)=>{const{decorative:n,orientation:r=sb,...s}=e,o=nW(r)?r:sb,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(ZB.div,{"data-orientation":o,...l,...s,ref:t})});MP.displayName=eW;function nW(e){return tW.includes(e)}var AP=MP;const ed=f.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>a.jsx(AP,{ref:s,decorative:n,orientation:t,className:ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));ed.displayName=AP.displayName;const rW=yd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function sW({className:e,variant:t,...n}){return a.jsx("div",{className:ce(rW({variant:t}),e),...n})}const oW=()=>{const{toast:e}=Qe(),[t,n]=f.useState({imprimantes:[],ecrans:[],lecteurs:[]}),[r,s]=f.useState(!1),[o,i]=f.useState(null),[l,c]=f.useState("imprimantes"),[u,d]=f.useState({reference:"",modele:"",marque:"",statut:"Disponible",description:""}),[h,m]=f.useState({imprimantes:"",ecrans:"",lecteurs:""}),[p,w]=f.useState(!1),g={imprimantes:{label:"Imprimantes",icon:a.jsx(n0,{className:"h-5 w-5"}),table:"equipments_imprimantes",color:"bg-blue-100 text-blue-800"},ecrans:{label:"Écrans",icon:a.jsx(e0,{className:"h-5 w-5"}),table:"equipments_ecrans",color:"bg-green-100 text-green-800"},lecteurs:{label:"Lecteurs",icon:a.jsx(r0,{className:"h-5 w-5"}),table:"equipments_lecteurs",color:"bg-purple-100 text-purple-800"}},b=["Disponible","En service","En panne","En maintenance","Hors service"],v=async()=>{w(!0);try{for(const[R,I]of Object.entries(g)){const{data:O,error:z}=await Q.from(I.table).select("*").order("reference",{ascending:!0});z?e({title:`Erreur chargement ${I.label.toLowerCase()}`,description:z.message,variant:"destructive"}):n(M=>({...M,[R]:O||[]}))}}catch{e({title:"Erreur de chargement",description:"Impossible de charger les équipements",variant:"destructive"})}w(!1)};f.useEffect(()=>{v()},[]);const y=R=>{const{name:I,value:O}=R.target;d(z=>({...z,[I]:O}))},x=()=>{d({reference:"",modele:"",marque:"",statut:"Disponible",description:""})},C=async()=>{if(!u.reference||!u.modele||!u.marque){e({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires (Référence, Modèle, Marque).",variant:"destructive"});return}w(!0);const R=g[l].table;try{let I;if(o){const{error:O}=await Q.from(R).update(u).eq("id",o.id);I=O}else{const{error:O}=await Q.from(R).insert(u);I=O}I?e({title:"Erreur d'enregistrement",description:I.message,variant:"destructive"}):(e({title:"Succès",description:`${g[l].label.slice(0,-1)} ${o?"modifié":"ajouté"} avec succès.`,className:"bg-green-500 text-white"}),s(!1),i(null),x(),v())}catch{e({title:"Erreur",description:"Une erreur inattendue s'est produite",variant:"destructive"})}w(!1)},S=(R=null,I=l)=>{c(I),i(R),R?d({...R}):x(),s(!0)},E=async(R,I)=>{w(!0);const O=g[I].table;try{const{error:z}=await Q.from(O).delete().eq("id",R);z?e({title:"Erreur de suppression",description:z.message,variant:"destructive"}):(e({title:"Succès",description:`${g[I].label.slice(0,-1)} supprimé.`,className:"bg-red-500 text-white"}),v())}catch{e({title:"Erreur",description:"Une erreur inattendue s'est produite",variant:"destructive"})}w(!1)},N=R=>{const I=h[R].toLowerCase();return t[R].filter(O=>Object.values(O).some(z=>String(z).toLowerCase().includes(I)))},_=R=>{switch(R){case"Disponible":return"bg-green-100 text-green-800";case"En service":return"bg-blue-100 text-blue-800";case"En panne":return"bg-red-100 text-red-800";case"En maintenance":return"bg-yellow-100 text-yellow-800";case"Hors service":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},D=({type:R})=>{const I=N(R),O=g[R];return a.jsxs(_e,{className:"shadow-lg",children:[a.jsxs(De,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[O.icon,a.jsxs("div",{children:[a.jsx(Pe,{className:"text-xl text-primary",children:O.label}),a.jsxs($e,{children:["Gérez les ",O.label.toLowerCase()," disponibles"]})]})]}),a.jsxs(B,{onClick:()=>S(null,R),className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white",disabled:p,children:[a.jsx(Li,{className:"mr-2 h-4 w-4"}),"Ajouter"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(xe,{type:"text",placeholder:`Rechercher dans les ${O.label.toLowerCase()}...`,value:h[R],onChange:z=>m(M=>({...M,[R]:z.target.value})),className:"pl-10",disabled:p})]})]}),a.jsx(ke,{children:p&&t[R].length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Chargement..."}):a.jsxs(Bn,{children:[a.jsx(lr,{children:I.length===0?`Aucun ${O.label.toLowerCase().slice(0,-1)} trouvé.`:`Liste de ${I.length} ${O.label.toLowerCase()}.`}),a.jsx(Wn,{children:a.jsxs(tn,{children:[a.jsx(le,{children:"Référence"}),a.jsx(le,{children:"Modèle"}),a.jsx(le,{children:"Marque"}),a.jsx(le,{children:"Statut"}),a.jsx(le,{children:"Description"}),a.jsx(le,{className:"text-right",children:"Actions"})]})}),a.jsx(Hn,{children:I.map((z,M)=>a.jsxs(de.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},children:[a.jsx(ie,{className:"font-medium",children:z.reference}),a.jsx(ie,{children:z.modele}),a.jsx(ie,{children:z.marque}),a.jsx(ie,{children:a.jsx(sW,{className:_(z.statut),children:z.statut})}),a.jsx(ie,{children:z.description||"N/A"}),a.jsxs(ie,{className:"text-right space-x-1",children:[a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>S(z,R),className:"text-blue-500 hover:text-blue-700",disabled:p,children:a.jsx(Ol,{className:"h-4 w-4"})}),a.jsxs(En,{children:[a.jsx(vs,{asChild:!0,children:a.jsx(B,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",disabled:p,children:a.jsx(fo,{className:"h-4 w-4"})})}),a.jsxs(nn,{className:"sm:max-w-md",children:[a.jsxs(rn,{children:[a.jsx(on,{children:"Confirmer la suppression"}),a.jsxs(Tr,{children:["Êtes-vous sûr de vouloir supprimer ",z.reference," ? Cette action est irréversible."]})]}),a.jsxs(sn,{children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",disabled:p,children:"Annuler"})}),a.jsx(B,{variant:"destructive",onClick:()=>E(z.id,R),disabled:p,children:p?"Suppression...":"Supprimer"})]})]})]})]})]},z.id))})]})})]})};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(_e,{className:"shadow-xl glassmorphism",children:a.jsxs(De,{children:[a.jsx(Pe,{className:"text-2xl font-bold text-primary",children:"Gestion des Équipements"}),a.jsx($e,{children:"Gérez les imprimantes, écrans et lecteurs disponibles pour les terminaux."})]})}),a.jsxs(Wl,{defaultValue:"imprimantes",className:"space-y-4",children:[a.jsxs(Ui,{className:"grid w-full grid-cols-3",children:[a.jsxs(jn,{value:"imprimantes",className:"flex items-center gap-2",children:[a.jsx(n0,{className:"h-4 w-4"}),"Imprimantes"]}),a.jsxs(jn,{value:"ecrans",className:"flex items-center gap-2",children:[a.jsx(e0,{className:"h-4 w-4"}),"Écrans"]}),a.jsxs(jn,{value:"lecteurs",className:"flex items-center gap-2",children:[a.jsx(r0,{className:"h-4 w-4"}),"Lecteurs"]})]}),a.jsx(Cn,{value:"imprimantes",children:a.jsx(D,{type:"imprimantes"})}),a.jsx(Cn,{value:"ecrans",children:a.jsx(D,{type:"ecrans"})}),a.jsx(Cn,{value:"lecteurs",children:a.jsx(D,{type:"lecteurs"})})]}),a.jsx(En,{open:r,onOpenChange:R=>{s(R),R||x()},children:a.jsxs(nn,{className:"sm:max-w-md glassmorphism",children:[a.jsx(rn,{children:a.jsxs(on,{className:"text-xl text-primary flex items-center gap-2",children:[g[l].icon,o?"Modifier":"Ajouter"," ",g[l].label.slice(0,-1)]})}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(ae,{htmlFor:"reference",className:"text-right",children:"Référence"}),a.jsx(xe,{id:"reference",name:"reference",value:u.reference,onChange:y,className:"col-span-3",disabled:p,placeholder:"Ex: IMP-001"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(ae,{htmlFor:"modele",className:"text-right",children:"Modèle"}),a.jsx(xe,{id:"modele",name:"modele",value:u.modele,onChange:y,className:"col-span-3",disabled:p,placeholder:"Ex: LaserJet Pro"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(ae,{htmlFor:"marque",className:"text-right",children:"Marque"}),a.jsx(xe,{id:"marque",name:"marque",value:u.marque,onChange:y,className:"col-span-3",disabled:p,placeholder:"Ex: HP"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(ae,{htmlFor:"statut",className:"text-right",children:"Statut"}),a.jsx("select",{id:"statut",name:"statut",value:u.statut,onChange:y,className:"col-span-3 flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",disabled:p,children:b.map(R=>a.jsx("option",{value:R,children:R},R))})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(ae,{htmlFor:"description",className:"text-right",children:"Description"}),a.jsx(xe,{id:"description",name:"description",value:u.description,onChange:y,className:"col-span-3",disabled:p,placeholder:"Description optionnelle"})]})]}),a.jsxs(sn,{children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",type:"button",onClick:x,disabled:p,children:"Annuler"})}),a.jsx(B,{onClick:C,className:"bg-primary hover:bg-primary/90",disabled:p,children:p?"Enregistrement...":o?"Sauvegarder":"Ajouter"})]})]})})]})},iW=()=>{const{toast:e}=Qe(),[t,n]=f.useState([]),[r,s]=f.useState({imprimantes:[],ecrans:[],lecteurs:[]}),[o,i]=f.useState(""),[l,c]=f.useState({}),[u,d]=f.useState({ref:"",type:"2020",position:"",ip:"",imprimante:"",lecteur:"",ecran:""}),[h,m]=f.useState(!1),p=["192.168.1.10","192.168.1.11","192.168.1.12","192.168.1.13"];f.useEffect(()=>{(async()=>{m(!0);try{const{data:N,error:_}=await Q.from("agences").select("id, nom, nbreTerminaux").order("nom",{ascending:!0});_?e({title:"Erreur chargement agences",description:_.message,variant:"destructive"}):n(N||[]);const D=[{key:"imprimantes",table:"equipments_imprimantes"},{key:"ecrans",table:"equipments_ecrans"},{key:"lecteurs",table:"equipments_lecteurs"}],R={};for(const{key:I,table:O}of D){const{data:z,error:M}=await Q.from(O).select("*").eq("statut","Disponible").order("reference",{ascending:!0});M?(e({title:`Erreur chargement ${I}`,description:M.message,variant:"destructive"}),R[I]=[]):R[I]=z||[]}s(R)}catch{e({title:"Erreur de chargement",description:"Impossible de charger les données",variant:"destructive"})}m(!1)})()},[e]);const w=()=>{if(!o)return;const E={...u,id:Date.now()};c(N=>({...N,[o]:N[o]?[...N[o],E]:[E]})),d({ref:"",type:"2020",position:"",ip:"",imprimante:"",lecteur:"",ecran:""})},g=t.map(E=>({value:String(E.id),label:`${E.nom} (${E.nbreTerminaux} terminaux)`})),b=[{value:"2020",label:"2020"},{value:"2032",label:"2032"}],v=p.map(E=>({value:E,label:E})),y=r.imprimantes.map(E=>({value:E.reference,label:`${E.reference} - ${E.marque} ${E.modele}`})),x=r.lecteurs.map(E=>({value:E.reference,label:`${E.reference} - ${E.marque} ${E.modele}`})),C=r.ecrans.map(E=>({value:E.reference,label:`${E.reference} - ${E.marque} ${E.modele}`})),S=l[o]||[];return a.jsx("div",{className:"space-y-6",children:a.jsxs(Wl,{defaultValue:"terminaux",className:"space-y-4",children:[a.jsxs(Ui,{className:"grid w-full grid-cols-2",children:[a.jsx(jn,{value:"terminaux",children:"Configuration Terminaux"}),a.jsx(jn,{value:"equipements",children:"Gestion Équipements"})]}),a.jsx(Cn,{value:"terminaux",children:a.jsxs(_e,{className:"shadow-lg",children:[a.jsxs(De,{children:[a.jsx(Pe,{children:"Configuration des terminaux"}),a.jsx($e,{children:"Sélectionnez une agence et configurez ses terminaux avec recherche intégrée."})]}),a.jsxs(ke,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Agence"}),a.jsx(Dt,{options:g,value:o,onSelect:i,placeholder:"Choisir une agence",searchPlaceholder:"Rechercher une agence...",emptyText:"Aucune agence trouvée.",disabled:h})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Type de terminal"}),a.jsx(Dt,{options:b,value:u.type,onSelect:E=>d(N=>({...N,type:E})),placeholder:"Choisir un type",searchPlaceholder:"Rechercher un type...",emptyText:"Aucun type trouvé.",disabled:h})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Référence"}),a.jsx(xe,{value:u.ref,onChange:E=>d(N=>({...N,ref:E.target.value})),placeholder:"Ex: TERM-001",disabled:h})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Position"}),a.jsx(xe,{value:u.position,onChange:E=>d(N=>({...N,position:E.target.value})),placeholder:"Ex: Guichet 1",disabled:h})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Adresse IP"}),a.jsx(Dt,{options:v,value:u.ip,onSelect:E=>d(N=>({...N,ip:E})),placeholder:"Choisir une adresse IP",searchPlaceholder:"Rechercher une IP...",emptyText:"Aucune IP disponible.",disabled:h})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Imprimante"}),a.jsx(Dt,{options:y,value:u.imprimante,onSelect:E=>d(N=>({...N,imprimante:E})),placeholder:"Choisir une imprimante",searchPlaceholder:"Rechercher une imprimante...",emptyText:"Aucune imprimante disponible.",disabled:h})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Lecteur"}),a.jsx(Dt,{options:x,value:u.lecteur,onSelect:E=>d(N=>({...N,lecteur:E})),placeholder:"Choisir un lecteur",searchPlaceholder:"Rechercher un lecteur...",emptyText:"Aucun lecteur disponible.",disabled:h})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Écran"}),a.jsx(Dt,{options:C,value:u.ecran,onSelect:E=>d(N=>({...N,ecran:E})),placeholder:"Choisir un écran",searchPlaceholder:"Rechercher un écran...",emptyText:"Aucun écran disponible.",disabled:h})]})]}),a.jsx(ed,{}),a.jsx(B,{onClick:w,disabled:!o||!u.ref||h,className:"bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90",children:"Ajouter le terminal"}),S.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Terminaux configurés"}),a.jsx("div",{className:"space-y-2",children:S.map(E=>a.jsx("div",{className:"p-3 border rounded-lg bg-muted/50",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[E.ref," - ",E.type]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Position: ",E.position]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["IP: ",E.ip]})]}),a.jsxs("div",{className:"text-right text-sm",children:[E.imprimante&&a.jsxs("p",{children:["🖨️ ",E.imprimante]}),E.lecteur&&a.jsxs("p",{children:["📱 ",E.lecteur]}),E.ecran&&a.jsxs("p",{children:["🖥️ ",E.ecran]})]})]})},E.id))})]})]})]})}),a.jsx(Cn,{value:"equipements",children:a.jsx(oW,{})})]})})},$P=f.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));$P.displayName="Textarea";function bp(e){const t=aW(e),n=f.forwardRef((r,s)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(cW);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function aW(e){const t=f.forwardRef((n,r)=>{const{children:s,...o}=n;if(f.isValidElement(s)){const i=dW(s),l=uW(o,s.props);return s.type!==f.Fragment&&(l.ref=r?kl(r,i):i),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lW=Symbol("radix.slottable");function cW(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lW}function uW(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function dW(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hi=fW.reduce((e,t)=>{const n=bp(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hW(e){const t=e+"CollectionProvider",[n,r]=Ot(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:v}=g,y=Z.useRef(null),x=Z.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:x,collectionRef:y,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=bp(l),u=Z.forwardRef((g,b)=>{const{scope:v,children:y}=g,x=o(l,v),C=be(b,x.collectionRef);return a.jsx(c,{ref:C,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=bp(d),p=Z.forwardRef((g,b)=>{const{scope:v,children:y,...x}=g,C=Z.useRef(null),S=be(b,C),E=o(d,v);return Z.useEffect(()=>(E.itemMap.set(C,{ref:C,...x}),()=>void E.itemMap.delete(C))),a.jsx(m,{[h]:"",ref:S,children:y})});p.displayName=d;function w(g){const b=o(e+"CollectionConsumer",g);return Z.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((E,N)=>x.indexOf(E.ref.current)-x.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var Ch="rovingFocusGroup.onEntryFocus",mW={bubbles:!1,cancelable:!0},Jl="RovingFocusGroup",[jp,OP,pW]=hW(Jl),[gW,IP]=Ot(Jl,[pW]),[vW,xW]=gW(Jl),LP=f.forwardRef((e,t)=>a.jsx(jp.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(jp.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(yW,{...e,ref:t})})}));LP.displayName=Jl;var yW=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=f.useRef(null),p=be(t,m),w=Di(o),[g,b]=or({prop:i,defaultProp:l??null,onChange:c,caller:Jl}),[v,y]=f.useState(!1),x=_t(u),C=OP(n),S=f.useRef(!1),[E,N]=f.useState(0);return f.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(Ch,x),()=>_.removeEventListener(Ch,x)},[x]),a.jsx(vW,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:g,onItemFocus:f.useCallback(_=>b(_),[b]),onItemShiftTab:f.useCallback(()=>y(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(_=>_+1),[]),onFocusableItemRemove:f.useCallback(()=>N(_=>_-1),[]),children:a.jsx(Hi.div,{tabIndex:v||E===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{S.current=!0}),onFocus:ee(e.onFocus,_=>{const D=!S.current;if(_.target===_.currentTarget&&D&&!v){const R=new CustomEvent(Ch,mW);if(_.currentTarget.dispatchEvent(R),!R.defaultPrevented){const I=C().filter($=>$.focusable),O=I.find($=>$.active),z=I.find($=>$.id===g),U=[O,z,...I].filter(Boolean).map($=>$.ref.current);UP(U,d)}}S.current=!1}),onBlur:ee(e.onBlur,()=>y(!1))})})}),FP="RovingFocusGroupItem",VP=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=yn(),u=o||c,d=xW(FP,n),h=d.currentTabStopId===u,m=OP(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:g}=d;return f.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),a.jsx(jp.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(Hi.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ee(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ee(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=jW(b,d.orientation,d.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=m().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const C=x.indexOf(b.currentTarget);x=d.loop?CW(x,C+1):x.slice(C+1)}setTimeout(()=>UP(x))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:g!=null}):i})})});VP.displayName=FP;var wW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bW(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jW(e,t,n){const r=bW(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wW[r]}function UP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function CW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var SW=LP,NW=VP,Yv="Radio",[EW,zP]=Ot(Yv),[_W,PW]=EW(Yv),BP=f.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[h,m]=f.useState(null),p=be(t,b=>m(b)),w=f.useRef(!1),g=h?u||!!h.closest("form"):!0;return a.jsxs(_W,{scope:n,checked:s,disabled:i,children:[a.jsx(Hi.button,{type:"button",role:"radio","aria-checked":s,"data-state":qP(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:p,onClick:ee(e.onClick,b=>{s||c==null||c(),g&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),g&&a.jsx(GP,{control:h,bubbles:!w.current,name:r,value:l,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});BP.displayName=Yv;var WP="RadioIndicator",HP=f.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,o=PW(WP,n);return a.jsx(cn,{present:r||o.checked,children:a.jsx(Hi.span,{"data-state":qP(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});HP.displayName=WP;var kW="RadioBubbleInput",GP=f.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=f.useRef(null),l=be(i,o),c=v_(n),u=dC(t);return f.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(w)}},[c,n,r]),a.jsx(Hi.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});GP.displayName=kW;function qP(e){return e?"checked":"unchecked"}var TW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rf="RadioGroup",[RW,LG]=Ot(rf,[IP,zP]),KP=IP(),YP=zP(),[DW,MW]=RW(rf),JP=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...m}=e,p=KP(n),w=Di(u),[g,b]=or({prop:o,defaultProp:s??null,onChange:h,caller:rf});return a.jsx(DW,{scope:n,name:r,required:i,disabled:l,value:g,onValueChange:b,children:a.jsx(SW,{asChild:!0,...p,orientation:c,dir:w,loop:d,children:a.jsx(Hi.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...m,ref:t})})})});JP.displayName=rf;var XP="RadioGroupItem",QP=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,o=MW(XP,n),i=o.disabled||r,l=KP(n),c=YP(n),u=f.useRef(null),d=be(t,u),h=o.value===s.value,m=f.useRef(!1);return f.useEffect(()=>{const p=g=>{TW.includes(g.key)&&(m.current=!0)},w=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",w)}},[]),a.jsx(NW,{asChild:!0,...l,focusable:!i,active:h,children:a.jsx(BP,{disabled:i,required:o.required,checked:h,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:ee(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ee(s.onFocus,()=>{var p;m.current&&((p=u.current)==null||p.click())})})})});QP.displayName=XP;var AW="RadioGroupIndicator",ZP=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=YP(n);return a.jsx(HP,{...s,...r,ref:t})});ZP.displayName=AW;var ek=JP,tk=QP,$W=ZP;const Cp=f.forwardRef(({className:e,...t},n)=>a.jsx(ek,{className:ce("grid gap-2",e),...t,ref:n}));Cp.displayName=ek.displayName;const ya=f.forwardRef(({className:e,...t},n)=>a.jsx(tk,{ref:n,className:ce("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx($W,{className:"flex items-center justify-center",children:a.jsx(VS,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ya.displayName=tk.displayName;const OW=({technicien:e})=>{const{toast:t}=Qe(),[n,r]=f.useState(1),[s,o]=f.useState(!1),[i,l]=f.useState({agence:"",terminal:"",sousEnsemble:"",typeIntervention:"curative",code:"",panne:"",piece:"",commentaire:"",remplace:"non",remplacement:""}),[c,u]=f.useState(null),[d,h]=f.useState([]),[m,p]=f.useState([]),[w,g]=f.useState([]),[b,v]=f.useState([]),[y,x]=f.useState([]);f.useEffect(()=>{C()},[]),f.useEffect(()=>{i.agence?S(i.agence):p([])},[i.agence]);const C=async()=>{o(!0);try{const{data:T,error:P}=await Q.from("agences").select("id, nom, nbreTerminaux").order("nom",{ascending:!0});P?t({title:"Erreur",description:"Impossible de charger les agences",variant:"destructive"}):h(T||[]);const{data:j,error:k}=await Q.from("codes_pannes").select("*").order("code",{ascending:!0});k?t({title:"Erreur",description:"Impossible de charger les codes de pannes",variant:"destructive"}):g(j||[]);const{data:A,error:L}=await Q.from("codes_interventions").select("*").order("code",{ascending:!0});L?t({title:"Erreur",description:"Impossible de charger les codes d'interventions",variant:"destructive"}):v(A||[]);const{data:W,error:Y}=await Q.from("pieces_rechange").select("*").eq("stock_disponible",0,!1).order("nom",{ascending:!0});Y?t({title:"Erreur",description:"Impossible de charger les pièces de rechange",variant:"destructive"}):x(W||[])}catch(T){t({title:"Erreur",description:"Erreur lors du chargement des données",variant:"destructive"}),console.error("Erreur de chargement:",T)}o(!1)},S=async T=>{try{const{data:P,error:j}=await Q.from("terminaux").select("*").eq("agence_id",T).eq("statut","Actif").order("reference",{ascending:!0});j?(t({title:"Erreur",description:"Impossible de charger les terminaux",variant:"destructive"}),p([])):p(P||[])}catch{t({title:"Erreur",description:"Erreur lors du chargement des terminaux",variant:"destructive"}),p([])}},E=()=>{const T=m.find(j=>String(j.id)===i.terminal);if(!T)return[];const P=[];return T.imprimante_reference&&P.push({value:T.imprimante_reference,label:`Imprimante - ${T.imprimante_reference}`}),T.lecteur_reference&&P.push({value:T.lecteur_reference,label:`Lecteur - ${T.lecteur_reference}`}),T.ecran_reference&&P.push({value:T.ecran_reference,label:`Écran - ${T.ecran_reference}`}),P},N=T=>P=>{l(j=>({...j,[T]:P}))},_=d.map(T=>({value:String(T.id),label:`${T.nom} (${T.nbreTerminaux} terminaux)`})),D=m.map(T=>({value:String(T.id),label:`${T.reference} - ${T.type_terminal} - ${T.position||"Position non définie"}`})),R=E(),I=w.map(T=>({value:T.code,label:`${T.code} - ${T.libelle}`})),O=b.map(T=>({value:T.code,label:`${T.code} - ${T.libelle}`})),z=y.map(T=>({value:T.nom,label:`${T.nom} - Stock: ${T.stock_disponible}`})),M=async T=>{try{const P={terminal_id:parseInt(T.terminal),technicien_id:e==null?void 0:e.id,type_intervention:T.typeIntervention,sous_ensemble:T.sousEnsemble,commentaire:T.commentaire,equipement_remplace:T.remplace==="oui",reference_remplacement:T.remplacement||null,statut:"Terminée"};if(T.typeIntervention==="curative"){const k=w.find(A=>A.code===T.code);k&&(P.code_panne_id=k.id)}else{const k=b.find(L=>L.code===T.code);k&&(P.code_intervention_id=k.id);const A=y.find(L=>L.nom===T.piece);A&&(P.piece_remplacee_id=A.id)}const{error:j}=await Q.from("interventions_maintenance").insert([P]);return j?(t({title:"Erreur",description:"Impossible d'enregistrer l'intervention",variant:"destructive"}),console.error("Erreur sauvegarde:",j),!1):(t({title:"Succès",description:"Intervention enregistrée avec succès",className:"bg-green-500 text-white"}),!0)}catch(P){return t({title:"Erreur",description:"Erreur lors de l'enregistrement",variant:"destructive"}),console.error("Erreur:",P),!1}},U=async()=>{await M({...i,technicien:e})&&u({...i,technicien:e})},$=()=>{l({agence:"",terminal:"",sousEnsemble:"",typeIntervention:"curative",code:"",panne:"",piece:"",commentaire:"",remplace:"non",remplacement:""}),u(null),r(1)};if(c){const T=d.find(j=>String(j.id)===c.agence),P=m.find(j=>String(j.id)===c.terminal);return a.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4",children:a.jsxs(_e,{className:"shadow-lg glassmorphism",children:[a.jsxs(De,{children:[a.jsx(Pe,{className:"text-xl text-green-600",children:"✅ Intervention Terminée"}),a.jsx($e,{children:"Récapitulatif de l'intervention de maintenance"})]}),a.jsx(ke,{className:"space-y-3",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Agence :"})," ",T==null?void 0:T.nom]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Terminal :"})," ",P==null?void 0:P.reference]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Sous-ensemble :"})," ",c.sousEnsemble]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Type :"})," ",c.typeIntervention==="curative"?"Curative":"Préventive"]}),c.typeIntervention==="curative"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Code panne :"})," ",c.code]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Panne :"})," ",c.panne]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Code intervention :"})," ",c.code]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Pièce :"})," ",c.piece]})]}),c.commentaire&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("strong",{children:"Commentaire :"})," ",c.commentaire]}),c.remplace==="oui"&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("strong",{children:"Remplacé par :"})," ",c.remplacement]}),a.jsxs("div",{className:"md:col-span-2 mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("strong",{children:"Technicien :"})," ",e==null?void 0:e.prenom," ",e==null?void 0:e.nom," - ",e==null?void 0:e.matricule]})]})}),a.jsx(Yu,{children:a.jsx(B,{onClick:$,className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:"Nouvelle Intervention"})})]})})}return a.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4",children:a.jsxs(_e,{className:"shadow-lg glassmorphism",children:[a.jsxs(De,{children:[a.jsx(Pe,{className:"text-xl text-primary",children:"Fiche de Maintenance"}),a.jsxs($e,{children:["Étape ",n," sur 2 - Remplissez les informations de l'intervention avec recherche intégrée"]})]}),a.jsxs(ke,{className:"space-y-6",children:[n===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-primary",children:"Sélection du Terminal"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"agence",children:"Agence *"}),a.jsx(Dt,{options:_,value:i.agence,onSelect:N("agence"),placeholder:"Choisir une agence",searchPlaceholder:"Rechercher une agence...",emptyText:"Aucune agence trouvée.",disabled:s})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"terminal",children:"Terminal *"}),a.jsx(Dt,{options:D,value:i.terminal,onSelect:N("terminal"),placeholder:"Choisir un terminal",searchPlaceholder:"Rechercher un terminal...",emptyText:"Aucun terminal trouvé pour cette agence.",disabled:!i.agence||s})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"sousEnsemble",children:"Sous-ensemble *"}),a.jsx(Dt,{options:R,value:i.sousEnsemble,onSelect:N("sousEnsemble"),placeholder:"Choisir un sous-ensemble",searchPlaceholder:"Rechercher un équipement...",emptyText:"Aucun équipement associé à ce terminal.",disabled:!i.terminal||s})]})]})]}),n===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-primary",children:"Détails de l'Intervention"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Type d'intervention *"}),a.jsxs(Cp,{value:i.typeIntervention,onValueChange:N("typeIntervention"),className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ya,{value:"curative",id:"curative"}),a.jsx(ae,{htmlFor:"curative",children:"Curative (Réparation)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ya,{value:"preventive",id:"preventive"}),a.jsx(ae,{htmlFor:"preventive",children:"Préventive (Maintenance)"})]})]})]}),a.jsx(ed,{}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.typeIntervention==="curative"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"code",children:"Code panne *"}),a.jsx(Dt,{options:I,value:i.code,onSelect:N("code"),placeholder:"Choisir un code de panne",searchPlaceholder:"Rechercher un code ou libellé...",emptyText:"Aucun code de panne trouvé.",disabled:s})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"panne",children:"Description panne *"}),a.jsx(xe,{value:i.panne,onChange:T=>N("panne")(T.target.value),placeholder:"Décrivez la panne constatée",disabled:s})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"code",children:"Code intervention *"}),a.jsx(Dt,{options:O,value:i.code,onSelect:N("code"),placeholder:"Choisir un code d'intervention",searchPlaceholder:"Rechercher un code ou libellé...",emptyText:"Aucun code d'intervention trouvé.",disabled:s})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"piece",children:"Pièce utilisée"}),a.jsx(Dt,{options:z,value:i.piece,onSelect:N("piece"),placeholder:"Choisir une pièce de rechange",searchPlaceholder:"Rechercher une pièce...",emptyText:"Aucune pièce disponible en stock.",disabled:s})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"commentaire",children:"Commentaire"}),a.jsx($P,{value:i.commentaire,onChange:T=>N("commentaire")(T.target.value),placeholder:"Détails de l'intervention, observations, remarques techniques...",rows:3,disabled:s})]}),a.jsx(ed,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Équipement remplacé ?"}),a.jsxs(Cp,{value:i.remplace,onValueChange:N("remplace"),className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ya,{value:"non",id:"non"}),a.jsx(ae,{htmlFor:"non",children:"Non"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ya,{value:"oui",id:"oui"}),a.jsx(ae,{htmlFor:"oui",children:"Oui"})]})]})]}),i.remplace==="oui"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"remplacement",children:"Référence de remplacement *"}),a.jsx(xe,{value:i.remplacement,onChange:T=>N("remplacement")(T.target.value),placeholder:"Référence du nouvel équipement installé",disabled:s})]})]})]})]})]}),a.jsxs(Yu,{className:"flex justify-between",children:[n>1&&a.jsx(B,{variant:"outline",onClick:()=>r(n-1),disabled:s,children:"← Retour"}),n===1&&a.jsx(B,{onClick:()=>r(2),disabled:!i.sousEnsemble||s,className:"ml-auto bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:"Suivant →"}),n===2&&a.jsx(B,{onClick:U,disabled:!i.code||i.remplace==="oui"&&!i.remplacement||s,className:"ml-auto bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:s?"Enregistrement...":"Terminer l'intervention"})]})]})})},IW=({onLogin:e})=>{const{toast:t}=Qe(),[n,r]=f.useState(""),[s,o]=f.useState(""),[i,l]=f.useState(!1),c=async u=>{if(u.preventDefault(),!n||!s){t({title:"Erreur",description:"Veuillez remplir tous les champs",variant:"destructive"});return}l(!0);const{data:d,error:h}=await Q.from("techniciens").select("*").eq("matricule",n).eq("motDePasse",s).single();if(h||!d){t({title:"Connexion échouée",description:"Matricule ou mot de passe invalide",variant:"destructive"}),l(!1);return}e(!0,d),localStorage.setItem("pmuTechnicienAuth",JSON.stringify({isAuthenticated:!0,userData:d})),t({title:"Connexion réussie",description:`Bienvenue ${d.prenom} ${d.nom}`,className:"bg-green-500 text-white"}),l(!1)};return a.jsx(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:a.jsxs(_e,{className:"w-full max-w-md shadow-2xl glassmorphism",children:[a.jsxs(De,{children:[a.jsxs(Pe,{className:"text-3xl font-bold text-center text-primary",children:[a.jsx(Il,{className:"inline-block h-8 w-8 mr-2 text-primary"}),"Maintenance Terminaux"]}),a.jsx($e,{className:"text-center",children:"Connectez-vous avec votre matricule."})]}),a.jsx(ke,{children:a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"matricule",children:"Matricule"}),a.jsx(xe,{id:"matricule",value:n,onChange:u=>r(u.target.value),disabled:i,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"password",children:"Mot de passe"}),a.jsx(xe,{id:"password",type:"password",value:s,onChange:u=>o(u.target.value),disabled:i,required:!0})]}),a.jsx(B,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-green-600 hover:from-primary/90 hover:to-green-600/90",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]})})]})})},LW=()=>{const e=Ri(),t=JSON.parse(localStorage.getItem("pmuTechnicienAuth")||"{}"),[n,r]=f.useState(t.isAuthenticated||!1),[s,o]=f.useState(t.userData||null),i=(c,u)=>{r(c),o(u)},l=()=>{r(!1),o(null),localStorage.removeItem("pmuTechnicienAuth"),e("/")};return n?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h1",{className:"text-2xl font-bold text-primary flex items-center",children:[a.jsx(Il,{className:"h-6 w-6 mr-2"}),"Maintenance Terminaux"]}),a.jsxs(B,{variant:"outline",onClick:l,className:"flex items-center",children:[a.jsx(Md,{className:"h-4 w-4 mr-2"}),"Déconnexion"]})]}),a.jsxs(Wl,{defaultValue:"config",children:[a.jsxs(Ui,{children:[a.jsx(jn,{value:"config",children:"Configuration"}),a.jsx(jn,{value:"maintenance",children:"Maintenance"})]}),a.jsx(Cn,{value:"config",children:a.jsx(iW,{})}),a.jsx(Cn,{value:"maintenance",children:a.jsx(OW,{technicien:s})})]})]}):a.jsx(IW,{onLogin:i})},FW=()=>{const{nomAgence:e}=Tj(),{toast:t}=Qe(),[n,r]=f.useState([]),[s,o]=f.useState(""),[i,l]=f.useState(!1);f.useEffect(()=>{(async()=>{if(!e)return;l(!0);const{data:m,error:p}=await Q.from("guichetieres").select("*").eq("agenceAssigne",e).order("nom",{ascending:!0});p?(t({title:"Erreur de chargement",description:"Impossible de charger les guichetières de l'agence.",variant:"destructive"}),r([])):r(m),l(!1)})()},[e,t]);const c=f.useMemo(()=>n.filter(h=>h.nom.toLowerCase().includes(s.toLowerCase())||h.prenom.toLowerCase().includes(s.toLowerCase())||h.matricule.toLowerCase().includes(s.toLowerCase())||h.disponibilite&&h.disponibilite.toLowerCase().includes(s.toLowerCase())),[n,s]),u=h=>{if(h.disponibilite==="Disponible")return a.jsx("span",{className:"text-green-500",children:"Disponible"});let m=h.disponibilite==="Absent"?a.jsx("span",{className:"text-yellow-500",children:"Absent(e)"}):a.jsx("span",{className:"text-red-500",children:"Suspendu(e)"});if(h.dateDebutIndisponibilite&&h.dateFinIndisponibilite){const p=He(h.dateDebutIndisponibilite),w=He(h.dateFinIndisponibilite);if(bt(p)&&bt(w)){const g=wF(w,p)+1,b=ye(p,"dd/MMM/yy",{locale:vn}),v=ye(w,"dd/MMM/yy",{locale:vn});return a.jsxs("div",{className:"flex flex-col text-xs",children:[m,a.jsxs("span",{className:"text-muted-foreground",children:["Du ",b," au ",v," (",g," jour",g>1?"s":"",")"]})]})}}return m},d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return a.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsxs(De,{children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:a.jsxs("div",{children:[a.jsxs(Pe,{className:"text-3xl font-bold text-primary flex items-center",children:[a.jsx(i0,{className:"mr-3 h-8 w-8"})," Mes Guichetières (",e,")"]}),a.jsx($e,{children:"Liste des guichetières assignées à votre agence."})]})}),a.jsx("div",{className:"mt-6 flex flex-col md:flex-row gap-4",children:a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(xe,{type:"text",placeholder:"Rechercher une guichetière...",value:s,onChange:h=>o(h.target.value),className:"pl-10 w-full",disabled:i})]})})]}),a.jsx(ke,{children:i?a.jsx("div",{className:"flex justify-center items-center h-40",children:a.jsx(Fn,{className:"h-12 w-12 animate-spin text-primary"})}):c.length>0?a.jsxs(Bn,{children:[a.jsx(lr,{children:"Liste de vos guichetières."}),a.jsx(Wn,{children:a.jsxs(tn,{children:[a.jsxs(le,{children:[a.jsx(ut,{className:"inline-block mr-1 h-4 w-4"}),"Matricule"]}),a.jsxs(le,{children:[a.jsx(ut,{className:"inline-block mr-1 h-4 w-4"}),"Nom & Prénom"]}),a.jsxs(le,{children:[a.jsx(Qg,{className:"inline-block mr-1 h-4 w-4"}),"Téléphone"]}),a.jsxs(le,{children:[a.jsx(FS,{className:"inline-block mr-1 h-4 w-4"}),"Disponibilité / Durée"]})]})}),a.jsx(Hn,{children:c.map((h,m)=>a.jsxs(de.tr,{variants:d,initial:"hidden",animate:"visible",transition:{delay:m*.05},className:"hover:bg-muted/50 dark:hover:bg-muted/20",children:[a.jsx(ie,{className:"font-medium",children:h.matricule}),a.jsxs(ie,{children:[h.nom," ",h.prenom]}),a.jsx(ie,{children:h.telephone||"N/A"}),a.jsx(ie,{children:u(h)})]},h.id))})]}):a.jsxs("div",{className:"text-center py-10 text-muted-foreground",children:[a.jsx(i0,{className:"mx-auto h-12 w-12 mb-4"}),a.jsxs("p",{className:"text-lg",children:['Aucune guichetière trouvée pour votre agence "',e,'" ou correspondant à votre recherche.']})]})})]})})},VW=()=>{var G,H;const{nomAgence:e,chefInfo:t}=Tj(),{toast:n}=Qe(),[r,s]=f.useState(new Date),[o,i]=f.useState({}),[l,c]=f.useState([]),[u,d]=f.useState(null),[h,m]=f.useState(!1),[p,w]=f.useState(""),[g,b]=f.useState(!1),[v,y]=f.useState(null),[x,C]=f.useState(""),[S,E]=f.useState(!1),[N,_]=f.useState("month"),D=f.useCallback(async()=>{if(!e)return;E(!0);const{data:V,error:X}=await Q.from("planning").select("id, date, guichetiereId, remplacante_de_id, est_remplacante").eq("agenceNom",e).gte("date",ye(Ae(r),"yyyy-MM-dd")).lte("date",ye(Yt(r),"yyyy-MM-dd"));if(X)n({title:"Erreur de chargement du planning",description:X.message,variant:"destructive"}),i({});else{const re={};V.forEach(oe=>{const se=oe.date;re[se]||(re[se]=[]),re[se].push({guichetiereId:oe.guichetiereId,planningId:oe.id,remplacante_de_id:oe.remplacante_de_id,est_remplacante:oe.est_remplacante})}),i(re)}E(!1)},[e,r,n]),R=f.useCallback(async()=>{if(!e)return;const{data:V,error:X}=await Q.from("guichetieres").select("id, nom, prenom, disponibilite, dateDebutIndisponibilite, dateFinIndisponibilite").eq("agenceAssigne",e);X?n({title:"Erreur de chargement des guichetières",description:X.message,variant:"destructive"}):c(V||[])},[e,n]);f.useEffect(()=>{D(),R()},[D,R]);const I=f.useMemo(()=>{const V=N==="month"?Ae(r):Nt(r,{weekStartsOn:1}),X=N==="month"?Yt(r):as(r,{weekStartsOn:1});return Zm({start:V,end:X})},[r,N]),O=f.useMemo(()=>{const V=Ae(r),X=qE(V),re=X===0?6:X-1;return["col-start-1","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"][re]},[r]),z=()=>s(V=>N==="month"?$a(V,1):nu(V,1)),M=()=>s(V=>N==="month"?en(V,1):ml(V,1)),U=()=>s(new Date),$=V=>{d(V),w(""),m(!0)},T=(V,X)=>{y({...V,date:X}),C(""),b(!0)},P=(V,X)=>{if(!V)return!1;if(V.disponibilite==="Disponible")return!0;if((V.disponibilite==="Absent"||V.disponibilite==="Suspendu")&&V.dateDebutIndisponibilite&&V.dateFinIndisponibilite){const re=He(V.dateDebutIndisponibilite),oe=He(V.dateFinIndisponibilite);return!tp(X,{start:re,end:oe})}return!0},j=(V,X=null)=>{if(!V)return[];const re=ye(V,"yyyy-MM-dd"),oe=(o[re]||[]).map(se=>se.guichetiereId);return l.filter(se=>P(se,V)&&!oe.includes(se.id)&&se.id!==X).map(se=>({value:se.id,label:`${se.prenom} ${se.nom}`}))},k=f.useMemo(()=>j(u),[l,u,o]),A=f.useMemo(()=>v?j(v.date,v.guichetiereId):[],[l,v,o]),L=async()=>{if(!u||!p||!e||!(t!=null&&t.id)){n({title:"Erreur",description:"Informations manquantes pour ajouter au planning.",variant:"destructive"});return}E(!0);const V=ye(u,"yyyy-MM-dd"),{error:X}=await Q.from("planning").insert({date:V,agenceNom:e,guichetiereId:p,chefAgenceId:t.id,est_remplacante:!1});X?n({title:"Erreur d'ajout",description:X.message.includes("duplicate key")?"Cette guichetière est déjà planifiée.":X.message,variant:"destructive"}):(n({title:"Succès",description:"Guichetière ajoutée au planning.",className:"bg-green-500 text-white"}),D(),m(!1)),E(!1)},W=async V=>{E(!0);const{error:X}=await Q.from("planning").delete().eq("id",V);X?n({title:"Erreur de suppression",description:X.message,variant:"destructive"}):(n({title:"Succès",description:"Guichetière retirée du planning.",className:"bg-red-500 text-white"}),D(),b(!1)),E(!1)},Y=async()=>{if(!v||!x){n({title:"Erreur",description:"Veuillez sélectionner une guichetière remplaçante.",variant:"destructive"});return}E(!0);const{error:V}=await Q.from("planning").update({guichetiereId:x,remplacante_de_id:v.guichetiereId,est_remplacante:!0}).eq("id",v.planningId);V?n({title:"Erreur de remplacement",description:V.message,variant:"destructive"}):(n({title:"Succès",description:"Guichetière remplacée avec succès.",className:"bg-green-500 text-white"}),D(),b(!1)),E(!1)},F=async V=>{E(!0);const X=V==="month"?Ae($a(r,1)):Nt(nu(r,1),{weekStartsOn:1}),re=V==="month"?Yt($a(r,1)):as(nu(r,1),{weekStartsOn:1}),oe=V==="month"?Ae(r):Nt(r,{weekStartsOn:1}),{data:se,error:q}=await Q.from("planning").select("date, guichetiereId, est_remplacante, remplacante_de_id").eq("agenceNom",e).gte("date",ye(X,"yyyy-MM-dd")).lte("date",ye(re,"yyyy-MM-dd"));if(q){n({title:"Erreur de copie",description:`Impossible de charger le planning précédent: ${q.message}`,variant:"destructive"}),E(!1);return}if(!se||se.length===0){n({title:"Copie impossible",description:`Aucun planning trouvé pour ${V==="month"?"le mois":"la semaine"} précédent(e).`,variant:"warning"}),E(!1);return}const te=se.map(he=>{const Ve=He(he.date).getDate()-X.getDate(),lt=new Date(oe);return lt.setDate(oe.getDate()+Ve),V==="month"&&!gl(lt,r)||V==="week"&&(lt<Nt(r,{weekStartsOn:1})||lt>as(r,{weekStartsOn:1}))?null:{date:ye(lt,"yyyy-MM-dd"),agenceNom:e,guichetiereId:he.guichetiereId,chefAgenceId:t.id,est_remplacante:he.est_remplacante,remplacante_de_id:he.remplacante_de_id}}).filter(Boolean);if(te.length>0){const{error:he}=await Q.from("planning").insert(te,{upsert:!1});n(he?{title:"Erreur de copie",description:he.message.includes("duplicate key")?"Certaines affectations existaient déjà.":he.message,variant:he.message.includes("duplicate key")?"warning":"destructive"}:{title:"Succès",description:`Planning ${V==="month"?"mensuel":"hebdomadaire"} précédent copié.`,className:"bg-green-500 text-white"}),D()}else n({title:"Copie non effectuée",description:"Aucune affectation valide à copier.",variant:"info"});E(!1)};return a.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4 md:space-y-6 p-2 md:p-0",children:[a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsxs(De,{className:"p-3 md:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-4",children:[a.jsxs("div",{children:[a.jsxs(Pe,{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary flex items-center",children:[a.jsx(Iu,{className:"mr-2 md:mr-3 h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8"})," Mon Planning - ",e]}),a.jsx($e,{className:"text-xs sm:text-sm md:text-base",children:"Gérez le planning des guichetières pour votre agence."})]}),a.jsxs("div",{className:"flex gap-2 self-start sm:self-center",children:[a.jsx(B,{size:"sm",variant:N==="month"?"default":"outline",onClick:()=>_("month"),disabled:S,children:"Mois"}),a.jsx(B,{size:"sm",variant:N==="week"?"default":"outline",onClick:()=>_("week"),disabled:S,children:"Semaine"})]})]}),a.jsxs("div",{className:"mt-3 md:mt-6 flex flex-col sm:flex-row justify-between items-center gap-3 md:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[a.jsx(B,{variant:"outline",size:"icon",onClick:z,disabled:S,className:"h-8 w-8 md:h-9 md:w-9",children:a.jsx(LS,{className:"h-4 w-4"})}),a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-foreground whitespace-nowrap",children:ye(r,N==="month"?"MMMM yyyy":"'Semaine du' dd MMMM",{locale:vn})}),a.jsx(B,{variant:"outline",size:"icon",onClick:M,disabled:S,className:"h-8 w-8 md:h-9 md:w-9",children:a.jsx(Kg,{className:"h-4 w-4"})}),a.jsx(B,{size:"sm",variant:"outline",onClick:U,disabled:S,className:"text-xs md:text-sm",children:"Aujourd'hui"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(B,{size:"sm",variant:"outline",onClick:()=>F("week"),disabled:S,className:"text-xs md:text-sm",children:[a.jsx(Xy,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4"})," Copier Sem."]}),a.jsxs(B,{size:"sm",variant:"outline",onClick:()=>F("month"),disabled:S,className:"text-xs md:text-sm",children:[a.jsx(Xy,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4"})," Copier Mois"]})]})]})]}),a.jsx(ke,{className:"p-2 md:p-4",children:S&&Object.keys(o).length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8 text-sm md:text-base",children:"Chargement du planning..."}):a.jsxs("div",{className:"grid grid-cols-7 gap-px border-l border-t border-border bg-border overflow-hidden rounded-lg",children:[N==="month"&&["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(V=>a.jsx("div",{className:"py-1 md:py-2 text-center font-medium text-xs md:text-sm text-muted-foreground bg-card border-r border-b",children:V},V)),I.map((V,X)=>{const re=ye(V,"yyyy-MM-dd"),oe=o[re]||[],se=N==="month"?gl(V,r):!0,q=dt(V,new Date);return a.jsxs("div",{className:`p-1 md:p-2 min-h-[80px] sm:min-h-[100px] md:min-h-[120px] bg-card border-r border-b relative flex flex-col
                      ${N==="month"&&X===0?O:""}
                      ${se?"":"bg-muted/30 dark:bg-muted/10 text-muted-foreground/50"}
                      ${q?"ring-2 ring-primary z-10":""}
                    `,children:[a.jsxs("time",{dateTime:re,className:`text-xs md:text-sm font-semibold ${q?"text-primary":"text-foreground"}`,children:[ye(V,"d"),N==="week"&&a.jsx("span",{className:"block text-xs font-normal text-muted-foreground",children:ye(V,"EEE",{locale:vn})})]}),a.jsx(fl,{children:oe.map(te=>{const he=l.find(vt=>vt.id===te.guichetiereId),we=te.remplacante_de_id?l.find(vt=>vt.id===te.remplacante_de_id):null,Ve=te.est_remplacante?"bg-orange-400/20 dark:bg-orange-600/30":"bg-primary/10 dark:bg-primary/20",lt=te.est_remplacante?"text-orange-700 dark:text-orange-300":"text-black dark:text-white";return a.jsxs(de.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-10},className:`mt-1 p-1 rounded-md text-[10px] md:text-xs flex justify-between items-center ${Ve}`,children:[a.jsxs("span",{className:`truncate ${lt}`,children:[he?`${he.prenom.charAt(0)}. ${he.nom}`:"Inconnue",te.est_remplacante&&we&&a.jsxs("span",{className:"block text-[8px] md:text-[10px] opacity-80",children:["(R: ",we.prenom.charAt(0),". ",we.nom,")"]})]}),a.jsx(B,{variant:"ghost",size:"icon",className:"h-4 w-4 md:h-5 md:w-5 text-blue-500 hover:text-blue-700",onClick:()=>T(te,V),disabled:S,children:a.jsx(u4,{className:"h-2.5 w-2.5 md:h-3 md:w-3"})})]},te.planningId)})}),se&&a.jsx(B,{variant:"ghost",size:"icon",className:"absolute bottom-0.5 right-0.5 md:bottom-1 md:right-1 h-6 w-6 md:h-7 md:w-7 text-primary hover:bg-primary/10",onClick:()=>$(V),disabled:S,children:a.jsx(Li,{className:"h-4 w-4 md:h-5 md:w-5"})})]},V.toString())})]})})]}),a.jsx(En,{open:h,onOpenChange:m,children:a.jsxs(nn,{className:"sm:max-w-md glassmorphism",children:[a.jsxs(rn,{children:[a.jsx(on,{className:"text-primary text-lg md:text-xl",children:"Ajouter au Planning"}),a.jsxs(Tr,{className:"text-xs md:text-sm",children:["Pour le ",u&&ye(u,"eeee dd MMMM yyyy",{locale:vn})]})]}),a.jsx("div",{className:"py-3 md:py-4 space-y-3 md:space-y-4",children:a.jsx(Dt,{options:k,value:p,onSelect:V=>w(V),placeholder:"Sélectionner une guichetière",searchPlaceholder:"Rechercher...",emptyText:k.length===0&&l.length>0?"Aucune guichetière disponible.":"Aucune guichetière.",disabled:S})}),a.jsxs(sn,{children:[a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",size:"sm",disabled:S,children:"Annuler"})}),a.jsx(B,{size:"sm",onClick:L,disabled:S||!p,children:S?"Ajout...":"Ajouter"})]})]})}),a.jsx(En,{open:g,onOpenChange:b,children:a.jsxs(nn,{className:"sm:max-w-lg glassmorphism",children:[a.jsxs(rn,{children:[a.jsx(on,{className:"text-primary text-lg md:text-xl",children:"Modifier l'Affectation"}),v&&a.jsxs(Tr,{className:"text-xs md:text-sm",children:["Guichetière: ",(G=l.find(V=>V.id===v.guichetiereId))==null?void 0:G.prenom," ",(H=l.find(V=>V.id===v.guichetiereId))==null?void 0:H.nom," ",a.jsx("br",{}),"Date: ",ye(v.date,"eeee dd MMMM yyyy",{locale:vn})]})]}),a.jsx("div",{className:"py-3 md:py-4 space-y-4",children:a.jsxs("div",{children:[a.jsx(ae,{className:"text-xs md:text-sm",children:"Remplacer par :"}),a.jsx(Dt,{options:A,value:x,onSelect:V=>C(V),placeholder:"Sélectionner remplaçante",searchPlaceholder:"Rechercher...",emptyText:A.length===0?"Aucune remplaçante disponible.":"Aucune guichetière.",disabled:S})]})}),a.jsxs(sn,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[a.jsxs(B,{variant:"destructive",size:"sm",onClick:()=>W(v==null?void 0:v.planningId),disabled:S,className:"w-full sm:w-auto",children:[a.jsx(fo,{className:"mr-2 h-4 w-4"})," Supprimer l'affectation"]}),a.jsx("div",{className:"flex-grow sm:flex-grow-0"}),a.jsx(_n,{asChild:!0,children:a.jsx(B,{variant:"outline",size:"sm",disabled:S,className:"w-full sm:w-auto",children:"Annuler"})}),a.jsxs(B,{size:"sm",onClick:Y,disabled:S||!x,className:"w-full sm:w-auto",children:[a.jsx(h4,{className:"mr-2 h-4 w-4"})," Remplacer"]})]})]})})]})};var ve=function(){return ve=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ve.apply(this,arguments)};function UW(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function nk(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var rk={exports:{}},ca={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function zW(){if(ob)return ca;ob=1;var e=Z,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(l,c,u){var d,h={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)r.call(c,d)&&!o.hasOwnProperty(d)&&(h[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:t,type:l,key:m,ref:p,props:h,_owner:s.current}}return ca.Fragment=n,ca.jsx=i,ca.jsxs=i,ca}rk.exports=zW();var K=rk.exports;function Xl(e){return e.mode==="multiple"}function Ql(e){return e.mode==="range"}function sf(e){return e.mode==="single"}var BW={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function WW(e,t){return ye(e,"LLLL y",t)}function HW(e,t){return ye(e,"d",t)}function GW(e,t){return ye(e,"LLLL",t)}function qW(e){return"".concat(e)}function KW(e,t){return ye(e,"cccccc",t)}function YW(e,t){return ye(e,"yyyy",t)}var JW=Object.freeze({__proto__:null,formatCaption:WW,formatDay:HW,formatMonthCaption:GW,formatWeekNumber:qW,formatWeekdayName:KW,formatYearCaption:YW}),XW=function(e,t,n){return ye(e,"do MMMM (EEEE)",n)},QW=function(){return"Month: "},ZW=function(){return"Go to next month"},eH=function(){return"Go to previous month"},tH=function(e,t){return ye(e,"cccc",t)},nH=function(e){return"Week n. ".concat(e)},rH=function(){return"Year: "},sH=Object.freeze({__proto__:null,labelDay:XW,labelMonthDropdown:QW,labelNext:ZW,labelPrevious:eH,labelWeekNumber:nH,labelWeekday:tH,labelYearDropdown:rH});function oH(){var e="buttons",t=BW,n=GE,r={},s={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:JW,labels:sH,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function iH(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=Ae(r):t&&(o=new Date(t,0,1)),s?i=Yt(s):n&&(i=new Date(n,11,31)),{fromDate:o?br(o):void 0,toDate:i?br(i):void 0}}var sk=f.createContext(void 0);function aH(e){var t,n=e.initialProps,r=oH(),s=iH(n),o=s.fromDate,i=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(sf(n)||Xl(n)||Ql(n))&&(c=n.onSelect);var u=ve(ve(ve({},r),n),{captionLayout:l,classNames:ve(ve({},r.classNames),n.classNames),components:ve({},n.components),formatters:ve(ve({},r.formatters),n.formatters),fromDate:o,labels:ve(ve({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ve(ve({},r.modifiers),n.modifiers),modifiersClassNames:ve(ve({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:ve(ve({},r.styles),n.styles),toDate:i});return K.jsx(sk.Provider,{value:u,children:e.children})}function Fe(){var e=f.useContext(sk);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function ok(e){var t=Fe(),n=t.locale,r=t.classNames,s=t.styles,o=t.formatters.formatCaption;return K.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function lH(e){return K.jsx("svg",ve({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:K.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ik(e){var t,n,r=e.onChange,s=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,u=Fe(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:lH;return K.jsxs("div",{className:l,style:c,children:[K.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),K.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),K.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,K.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function cH(e){var t,n=Fe(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return K.jsx(K.Fragment,{});if(!s)return K.jsx(K.Fragment,{});var h=[];if(B6(r,s))for(var m=Ae(r),p=r.getMonth();p<=s.getMonth();p++)h.push(ah(m,p));else for(var m=Ae(new Date),p=0;p<=11;p++)h.push(ah(m,p));var w=function(b){var v=Number(b.target.value),y=ah(Ae(e.displayMonth),v);e.onChange(y)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:ik;return K.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:h.map(function(b){return K.jsx("option",{value:b.getMonth(),children:l(b,{locale:i})},b.getMonth())})})}function uH(e){var t,n=e.displayMonth,r=Fe(),s=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,m=[];if(!s)return K.jsx(K.Fragment,{});if(!o)return K.jsx(K.Fragment,{});for(var p=s.getFullYear(),w=o.getFullYear(),g=p;g<=w;g++)m.push(bw(kv(new Date),g));var b=function(y){var x=bw(Ae(n),Number(y.target.value));e.onChange(x)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:ik;return K.jsx(v,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:i}),children:m.map(function(y){return K.jsx("option",{value:y.getFullYear(),children:d(y,{locale:i})},y.getFullYear())})})}function dH(e,t){var n=f.useState(e),r=n[0],s=n[1],o=t===void 0?r:t;return[o,s]}function fH(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&pl(o,s)<0){var u=-1*(c-1);s=en(o,u)}return i&&pl(s,i)<0&&(s=i),Ae(s)}function hH(){var e=Fe(),t=fH(e),n=dH(t,e.month),r=n[0],s=n[1],o=function(i){var l;if(!e.disableNavigation){var c=Ae(i);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,o]}function mH(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Ae(e),o=Ae(en(s,r)),i=pl(o,s),l=[],c=0;c<i;c++){var u=en(s,c);l.push(u)}return n&&(l=l.reverse()),l}function pH(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Ae(e);if(!n)return en(l,i);var c=pl(n,e);if(!(c<o))return en(l,i)}}function gH(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Ae(e);if(!n)return en(l,-i);var c=pl(l,n);if(!(c<=0))return en(l,-i)}}var ak=f.createContext(void 0);function vH(e){var t=Fe(),n=hH(),r=n[0],s=n[1],o=mH(r,t),i=pH(r,t),l=gH(r,t),c=function(h){return o.some(function(m){return gl(h,m)})},u=function(h,m){c(h)||(m&&KE(h,m)?s(en(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return K.jsx(ak.Provider,{value:d,children:e.children})}function Zl(){var e=f.useContext(ak);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function ib(e){var t,n=Fe(),r=n.classNames,s=n.styles,o=n.components,i=Zl().goToMonth,l=function(d){i(en(d,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:ok,u=K.jsx(c,{id:e.id,displayMonth:e.displayMonth});return K.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[K.jsx("div",{className:r.vhidden,children:u}),K.jsx(cH,{onChange:l,displayMonth:e.displayMonth}),K.jsx(uH,{onChange:l,displayMonth:e.displayMonth})]})}function xH(e){return K.jsx("svg",ve({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:K.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yH(e){return K.jsx("svg",ve({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:K.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var td=f.forwardRef(function(e,t){var n=Fe(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),l=ve(ve({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),K.jsx("button",ve({},e,{ref:t,type:"button",className:i,style:l}))});function wH(e){var t,n,r=Fe(),s=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return K.jsx(K.Fragment,{});var m=u(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),w=d(e.nextMonth,{locale:o}),g=[i.nav_button,i.nav_button_next].join(" "),b=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:yH,v=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:xH;return K.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&K.jsx(td,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?K.jsx(b,{className:i.nav_icon,style:l.nav_icon}):K.jsx(v,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&K.jsx(td,{name:"next-month","aria-label":w,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?K.jsx(v,{className:i.nav_icon,style:l.nav_icon}):K.jsx(b,{className:i.nav_icon,style:l.nav_icon})})]})}function ab(e){var t=Fe().numberOfMonths,n=Zl(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(w){return gl(e.displayMonth,w)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),m=function(){r&&o(r)},p=function(){s&&o(s)};return K.jsx(wH,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:p})}function bH(e){var t,n=Fe(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:ok,u;return s?u=K.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=K.jsx(ib,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=K.jsxs(K.Fragment,{children:[K.jsx(ib,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),K.jsx(ab,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=K.jsxs(K.Fragment,{children:[K.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),K.jsx(ab,{displayMonth:e.displayMonth,id:e.id})]}),K.jsx("div",{className:r.caption,style:o.caption,children:u})}function jH(e){var t=Fe(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?K.jsx("tfoot",{className:s,style:r.tfoot,children:K.jsx("tr",{children:K.jsx("td",{colSpan:8,children:n})})}):K.jsx(K.Fragment,{})}function CH(e,t,n){for(var r=n?Zs(new Date):Nt(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=Rt(r,o);s.push(i)}return s}function SH(){var e=Fe(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=CH(s,o,i);return K.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&K.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return K.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function NH(){var e,t=Fe(),n=t.classNames,r=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:SH;return K.jsx("thead",{style:r.head,className:n.head,children:K.jsx(o,{})})}function EH(e){var t=Fe(),n=t.locale,r=t.formatters.formatDay;return K.jsx(K.Fragment,{children:r(e.date,{locale:n})})}var Jv=f.createContext(void 0);function _H(e){if(!Xl(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return K.jsx(Jv.Provider,{value:t,children:e.children})}return K.jsx(PH,{initialProps:e.initialProps,children:e.children})}function PH(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,o=t.max,i=function(u,d,h){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,u,d,h);var w=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!w){var g=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!g){var b=r?nk([],r,!0):[];if(d.selected){var v=b.findIndex(function(y){return dt(u,y)});b.splice(v,1)}else b.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,b,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,h=r.some(function(m){return dt(m,u)});return!!(d&&!h)});var c={selected:r,onDayClick:i,modifiers:l};return K.jsx(Jv.Provider,{value:c,children:n})}function Xv(){var e=f.useContext(Jv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function kH(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?dt(s,e)&&dt(r,e)?void 0:dt(s,e)?{from:s,to:void 0}:dt(r,e)?void 0:ep(r,e)?{from:e,to:s}:{from:r,to:e}:s?ep(e,s)?{from:s,to:e}:{from:e,to:s}:r?KE(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Qv=f.createContext(void 0);function TH(e){if(!Ql(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return K.jsx(Qv.Provider,{value:t,children:e.children})}return K.jsx(RH,{initialProps:e.initialProps,children:e.children})}function RH(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},o=s.from,i=s.to,l=t.min,c=t.max,u=function(p,w,g){var b,v;(b=t.onDayClick)===null||b===void 0||b.call(t,p,w,g);var y=kH(p,r);(v=t.onSelect)===null||v===void 0||v.call(t,y,p,w,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],dt(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:ri(o,l-1),before:Rt(o,l-1)}),o&&i&&d.disabled.push({after:o,before:Rt(o,l-1)}),!o&&i&&d.disabled.push({after:ri(i,l-1),before:Rt(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:Rt(o,-c+1)}),d.disabled.push({after:Rt(o,c-1)})),o&&i){var h=er(i,o)+1,m=c-h;d.disabled.push({before:ri(o,m)}),d.disabled.push({after:Rt(i,m)})}!o&&i&&(d.disabled.push({before:Rt(i,-c+1)}),d.disabled.push({after:Rt(i,c-1)}))}return K.jsx(Qv.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function Zv(){var e=f.useContext(Qv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ru(e){return Array.isArray(e)?nk([],e,!0):e!==void 0?[e]:[]}function DH(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=ru(s)}),t}var Gn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Gn||(Gn={}));var MH=Gn.Selected,ur=Gn.Disabled,AH=Gn.Hidden,$H=Gn.Today,Sh=Gn.RangeEnd,Nh=Gn.RangeMiddle,Eh=Gn.RangeStart,OH=Gn.Outside;function IH(e,t,n){var r,s=(r={},r[MH]=ru(e.selected),r[ur]=ru(e.disabled),r[AH]=ru(e.hidden),r[$H]=[e.today],r[Sh]=[],r[Nh]=[],r[Eh]=[],r[OH]=[],r);return e.fromDate&&s[ur].push({before:e.fromDate}),e.toDate&&s[ur].push({after:e.toDate}),Xl(e)?s[ur]=s[ur].concat(t.modifiers[ur]):Ql(e)&&(s[ur]=s[ur].concat(n.modifiers[ur]),s[Eh]=n.modifiers[Eh],s[Nh]=n.modifiers[Nh],s[Sh]=n.modifiers[Sh]),s}var lk=f.createContext(void 0);function LH(e){var t=Fe(),n=Xv(),r=Zv(),s=IH(t,n,r),o=DH(t.modifiers),i=ve(ve({},s),o);return K.jsx(lk.Provider,{value:i,children:e.children})}function ck(){var e=f.useContext(lk);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function FH(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function VH(e){return!!(e&&typeof e=="object"&&"from"in e)}function UH(e){return!!(e&&typeof e=="object"&&"after"in e)}function zH(e){return!!(e&&typeof e=="object"&&"before"in e)}function BH(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function WH(e,t){var n,r=t.from,s=t.to;if(r&&s){var o=er(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=er(e,r)>=0&&er(s,e)>=0;return i}return s?dt(s,e):r?dt(r,e):!1}function HH(e){return Pv(e)}function GH(e){return Array.isArray(e)&&e.every(Pv)}function qH(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(HH(n))return dt(e,n);if(GH(n))return n.includes(e);if(VH(n))return WH(e,n);if(BH(n))return n.dayOfWeek.includes(e.getDay());if(FH(n)){var r=er(n.before,e),s=er(n.after,e),o=r>0,i=s<0,l=ep(n.before,n.after);return l?i&&o:o||i}return UH(n)?er(e,n.after)>0:zH(n)?er(n.before,e)>0:typeof n=="function"?n(e):!1})}function ex(e,t,n){var r=Object.keys(t).reduce(function(o,i){var l=t[i];return qH(e,l)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!gl(e,n)&&(s.outside=!0),s}function KH(e,t){for(var n=Ae(e[0]),r=Yt(e[e.length-1]),s,o,i=n;i<=r;){var l=ex(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Rt(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=Rt(i,1)}return o||s}var YH=365;function uk(e,t){var n=t.moveBy,r=t.direction,s=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,m={day:Rt,week:ml,month:en,year:pF,startOfWeek:function(b){return s.ISOWeek?Zs(b):Nt(b,{locale:h,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?UE(b):as(b,{locale:h,weekStartsOn:c})}},p=m[n](e,r==="after"?1:-1);r==="before"&&u?p=gF([u,p]):r==="after"&&d&&(p=vF([d,p]));var w=!0;if(o){var g=ex(p,o);w=!g.disabled&&!g.hidden}return w?p:l.count>YH?l.lastFocused:uk(p,{moveBy:n,direction:r,context:s,modifiers:o,retry:ve(ve({},l),{count:l.count+1})})}var dk=f.createContext(void 0);function JH(e){var t=Zl(),n=ck(),r=f.useState(),s=r[0],o=r[1],i=f.useState(),l=i[0],c=i[1],u=KH(t.displayMonths,n),d=s??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(s),o(void 0)},m=function(b){o(b)},p=Fe(),w=function(b,v){if(s){var y=uk(s,{moveBy:b,direction:v,context:p,modifiers:n});dt(s,y)||(t.goToDate(y,s),m(y))}},g={focusedDay:s,focusTarget:d,blur:h,focus:m,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return K.jsx(dk.Provider,{value:g,children:e.children})}function tx(){var e=f.useContext(dk);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function XH(e,t){var n=ck(),r=ex(e,n,t);return r}var nx=f.createContext(void 0);function QH(e){if(!sf(e.initialProps)){var t={selected:void 0};return K.jsx(nx.Provider,{value:t,children:e.children})}return K.jsx(ZH,{initialProps:e.initialProps,children:e.children})}function ZH(e){var t=e.initialProps,n=e.children,r=function(o,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,o,o,i,l)},s={selected:t.selected,onDayClick:r};return K.jsx(nx.Provider,{value:s,children:n})}function fk(){var e=f.useContext(nx);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function eG(e,t){var n=Fe(),r=fk(),s=Xv(),o=Zv(),i=tx(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,h=i.blur,m=i.focus,p=i.focusMonthBefore,w=i.focusMonthAfter,g=i.focusYearBefore,b=i.focusYearAfter,v=i.focusStartOfWeek,y=i.focusEndOfWeek,x=function(T){var P,j,k,A;sf(n)?(P=r.onDayClick)===null||P===void 0||P.call(r,e,t,T):Xl(n)?(j=s.onDayClick)===null||j===void 0||j.call(s,e,t,T):Ql(n)?(k=o.onDayClick)===null||k===void 0||k.call(o,e,t,T):(A=n.onDayClick)===null||A===void 0||A.call(n,e,t,T)},C=function(T){var P;m(e),(P=n.onDayFocus)===null||P===void 0||P.call(n,e,t,T)},S=function(T){var P;h(),(P=n.onDayBlur)===null||P===void 0||P.call(n,e,t,T)},E=function(T){var P;(P=n.onDayMouseEnter)===null||P===void 0||P.call(n,e,t,T)},N=function(T){var P;(P=n.onDayMouseLeave)===null||P===void 0||P.call(n,e,t,T)},_=function(T){var P;(P=n.onDayPointerEnter)===null||P===void 0||P.call(n,e,t,T)},D=function(T){var P;(P=n.onDayPointerLeave)===null||P===void 0||P.call(n,e,t,T)},R=function(T){var P;(P=n.onDayTouchCancel)===null||P===void 0||P.call(n,e,t,T)},I=function(T){var P;(P=n.onDayTouchEnd)===null||P===void 0||P.call(n,e,t,T)},O=function(T){var P;(P=n.onDayTouchMove)===null||P===void 0||P.call(n,e,t,T)},z=function(T){var P;(P=n.onDayTouchStart)===null||P===void 0||P.call(n,e,t,T)},M=function(T){var P;(P=n.onDayKeyUp)===null||P===void 0||P.call(n,e,t,T)},U=function(T){var P;switch(T.key){case"ArrowLeft":T.preventDefault(),T.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":T.preventDefault(),T.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":T.preventDefault(),T.stopPropagation(),u();break;case"ArrowUp":T.preventDefault(),T.stopPropagation(),d();break;case"PageUp":T.preventDefault(),T.stopPropagation(),T.shiftKey?g():p();break;case"PageDown":T.preventDefault(),T.stopPropagation(),T.shiftKey?b():w();break;case"Home":T.preventDefault(),T.stopPropagation(),v();break;case"End":T.preventDefault(),T.stopPropagation(),y();break}(P=n.onDayKeyDown)===null||P===void 0||P.call(n,e,t,T)},$={onClick:x,onFocus:C,onBlur:S,onKeyDown:U,onKeyUp:M,onMouseEnter:E,onMouseLeave:N,onPointerEnter:_,onPointerLeave:D,onTouchCancel:R,onTouchEnd:I,onTouchMove:O,onTouchStart:z};return $}function tG(){var e=Fe(),t=fk(),n=Xv(),r=Zv(),s=sf(e)?t.selected:Xl(e)?n.selected:Ql(e)?r.selected:void 0;return s}function nG(e){return Object.values(Gn).includes(e)}function rG(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(nG(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function sG(e,t){var n=ve({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=ve(ve({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function oG(e,t,n){var r,s,o,i=Fe(),l=tx(),c=XH(e,t),u=eG(e,c),d=tG(),h=!!(i.onDayClick||i.mode!=="default");f.useEffect(function(){var E;c.outside||l.focusedDay&&h&&dt(l.focusedDay,e)&&((E=n.current)===null||E===void 0||E.focus())},[l.focusedDay,e,n,h,c.outside]);var m=rG(i,c).join(" "),p=sG(i,c),w=!!(c.outside&&!i.showOutsideDays||c.hidden),g=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:EH,b=K.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),v={style:p,className:m,children:b,role:"gridcell"},y=l.focusTarget&&dt(l.focusTarget,e)&&!c.outside,x=l.focusedDay&&dt(l.focusedDay,e),C=ve(ve(ve({},v),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=x||y?0:-1,r)),u),S={isButton:h,isHidden:w,activeModifiers:c,selectedDays:d,buttonProps:C,divProps:v};return S}function iG(e){var t=f.useRef(null),n=oG(e.date,e.displayMonth,t);return n.isHidden?K.jsx("div",{role:"gridcell"}):n.isButton?K.jsx(td,ve({name:"day",ref:t},n.buttonProps)):K.jsx("div",ve({},n.divProps))}function aG(e){var t=e.number,n=e.dates,r=Fe(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return K.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var h=c(Number(t),{locale:l}),m=function(p){s(t,n,p)};return K.jsx(td,{name:"week-number","aria-label":h,className:i.weeknumber,style:o.weeknumber,onClick:m,children:d})}function lG(e){var t,n,r=Fe(),s=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:iG,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:aG,d;return i&&(d=K.jsx("td",{className:o.cell,style:s.cell,children:K.jsx(u,{number:e.weekNumber,dates:e.dates})})),K.jsxs("tr",{className:o.row,style:s.row,children:[d,e.dates.map(function(h){return K.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:K.jsx(c,{displayMonth:e.displayMonth,date:h})},O6(h))})]})}function lb(e,t,n){for(var r=n!=null&&n.ISOWeek?UE(t):as(t,n),s=n!=null&&n.ISOWeek?Zs(e):Nt(e,n),o=er(r,s),i=[],l=0;l<=o;l++)i.push(Rt(s,l));var c=i.reduce(function(u,d){var h=n!=null&&n.ISOWeek?A6(d):V6(d,n),m=u.find(function(p){return p.weekNumber===h});return m?(m.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function cG(e,t){var n=lb(Ae(e),Yt(e),t);if(t!=null&&t.useFixedWeeks){var r=z6(e,t);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=ml(o,6-r),l=lb(ml(o,1),i,t);n.push.apply(n,l)}}return n}function uG(e){var t,n,r,s=Fe(),o=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,w=cG(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:h,firstWeekContainsDate:m}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:NH,b=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:lG,v=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:jH;return K.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&K.jsx(g,{}),K.jsx("tbody",{className:i.tbody,style:l.tbody,children:w.map(function(y){return K.jsx(b,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),K.jsx(v,{displayMonth:e.displayMonth})]})}function dG(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var fG=dG()?f.useLayoutEffect:f.useEffect,_h=!1,hG=0;function cb(){return"react-day-picker-".concat(++hG)}function mG(e){var t,n=e??(_h?cb():null),r=f.useState(n),s=r[0],o=r[1];return fG(function(){s===null&&o(cb())},[]),f.useEffect(function(){_h===!1&&(_h=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function pG(e){var t,n,r=Fe(),s=r.dir,o=r.classNames,i=r.styles,l=r.components,c=Zl().displayMonths,u=mG(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[o.month],m=i.month,p=e.displayIndex===0,w=e.displayIndex===c.length-1,g=!p&&!w;s==="rtl"&&(t=[p,w],w=t[0],p=t[1]),p&&(h.push(o.caption_start),m=ve(ve({},m),i.caption_start)),w&&(h.push(o.caption_end),m=ve(ve({},m),i.caption_end)),g&&(h.push(o.caption_between),m=ve(ve({},m),i.caption_between));var b=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:bH;return K.jsxs("div",{className:h.join(" "),style:m,children:[K.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),K.jsx(uG,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function gG(e){var t=Fe(),n=t.classNames,r=t.styles;return K.jsx("div",{className:n.months,style:r.months,children:e.children})}function vG(e){var t,n,r=e.initialProps,s=Fe(),o=tx(),i=Zl(),l=f.useState(!1),c=l[0],u=l[1];f.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=ve(ve({},s.styles.root),s.style),m=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,g){var b;return ve(ve({},w),(b={},b[g]=r[g],b))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:gG;return K.jsx("div",ve({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:K.jsx(p,{children:i.displayMonths.map(function(w,g){return K.jsx(pG,{displayIndex:g,displayMonth:w},g)})})}))}function xG(e){var t=e.children,n=UW(e,["children"]);return K.jsx(aH,{initialProps:n,children:K.jsx(vH,{children:K.jsx(QH,{initialProps:n,children:K.jsx(_H,{initialProps:n,children:K.jsx(TH,{initialProps:n,children:K.jsx(LH,{children:K.jsx(JH,{children:t})})})})})})})}function yG(e){return K.jsx(xG,ve({},e,{children:K.jsx(vG,{initialProps:e})}))}function hk({className:e,classNames:t,showOutsideDays:n=!0,...r}){return a.jsx(yG,{locale:vn,showOutsideDays:n,className:ce("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ce(Em({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ce(Em({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(LS,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(Kg,{className:"h-4 w-4"})},...r})}hk.displayName="Calendar";const wG=[{value:"today",label:"Aujourd'hui"},{value:"yesterday",label:"Hier"},{value:"this_week",label:"Cette semaine"},{value:"last_week",label:"Semaine dernière"},{value:"this_month",label:"Ce mois-ci"},{value:"last_month",label:"Mois dernier"},{value:"this_year",label:"Cette année"},{value:"custom",label:"Plage personnalisée"}],bG=()=>{const{toast:e}=Qe(),[t,n]=f.useState(!1),[r,s]=f.useState([]),[o,i]=f.useState([]),[l,c]=f.useState([]),[u,d]=f.useState([]),[h,m]=f.useState(null),[p,w]=f.useState(""),[g,b]=f.useState(""),[v,y]=f.useState("this_month"),[x,C]=f.useState({start:Ae(new Date),end:Yt(new Date)}),S=v==="custom";f.useEffect(()=>{const P=new Date;let j,k;switch(v){case"today":j=k=P;break;case"yesterday":j=k=ri(P,1);break;case"this_week":j=Nt(P,{weekStartsOn:1}),k=as(P,{weekStartsOn:1});break;case"last_week":{const A=nu(P,1);j=Nt(A,{weekStartsOn:1}),k=as(A,{weekStartsOn:1});break}case"this_month":j=Ae(P),k=Yt(P);break;case"last_month":{const A=$a(P,1);j=Ae(A),k=Yt(A);break}case"this_year":j=kv(P),k=VE(P);break;case"custom":return;default:return}C({start:j,end:k})},[v]),f.useEffect(()=>{(async()=>{n(!0);try{const{data:j,error:k}=await Q.from("agences").select("*").order("nom",{ascending:!0});if(k)throw k;s(j||[]);const{data:A,error:L}=await Q.from("chefs_agence").select("*").order("nom",{ascending:!0});if(L)throw L;i(A||[]);const{data:W,error:Y}=await Q.from("guichetieres").select("id, matricule, nom, prenom, photo_url");if(Y)throw Y;if(d(W||[]),bt(x.start)&&bt(x.end)){const{data:F,error:G}=await Q.from("planning").select("date, agenceNom, guichetiereId").gte("date",ye(x.start,"yyyy-MM-dd")).lte("date",ye(x.end,"yyyy-MM-dd"));if(G)throw G;c(F||[])}}catch(j){e({title:"Erreur de chargement",description:j.message,variant:"destructive"})}finally{n(!1)}})()},[x,e]);const E=f.useMemo(()=>{if(!r.length||!bt(x.start)||!bt(x.end))return[];const P=Zm({start:x.start,end:x.end}),j=P.length;return r.map(k=>{const A=o.find(G=>G.agenceEnCharge===k.nom);let L=0;P.forEach(G=>{const H=ye(G,"yyyy-MM-dd"),V=l.filter(X=>X.date===H&&X.agenceNom===k.nom);L+=new Set(V.map(X=>X.guichetiereId)).size});const W=parseInt(k.nbreTerminaux)||0,Y=W*j,F=Y>0?Math.round(L/Y*100):0;return{id:k.id,agenceNom:k.nom,codePDV:k.codePDV,chefNom:A?`${A.prenom} ${A.nom}`:"N/A",nTer:W,nJours:j,toPlan:Y,planned:L,rate:F}})},[r,o,l,x]),N=f.useMemo(()=>E.filter(P=>(!p||P.agenceNom.toLowerCase().includes(p.toLowerCase()))&&(!g||P.chefNom.toLowerCase().includes(g.toLowerCase()))),[E,p,g]),_=()=>{if(!N.length){e({title:"Export impossible",description:"Aucune donnée à exporter.",variant:"destructive"});return}},D=f.useMemo(()=>{if(!bt(x.start)||!bt(x.end))return"";const P=ye(x.start,"dd MMM yyyy",{locale:vn}),j=ye(x.end,"dd MMM yyyy",{locale:vn});return P===j?`le ${P}`:`du ${P} au ${j}`},[x]),R=f.useMemo(()=>bt(x.start)?x.start:new Date,[x]),I=f.useMemo(()=>bt(R)?Zm({start:Ae(R),end:Yt(R)}):[],[R]),O=f.useMemo(()=>{if(!bt(R))return 0;const P=qE(Ae(R));return P===0?6:P-1},[R]),z=f.useMemo(()=>Array(O).fill(null),[O]),M=(P,j)=>{const k=ye(P,"yyyy-MM-dd");return l.filter(A=>A.date===k&&A.agenceNom===j)},U=(P,j)=>{tp(P,{start:x.start,end:x.end})&&m({date:P,agence:j})},$=()=>m(null),T=(P,j)=>{const k=M(P,j);return Array.from(new Set(k.map(L=>L.guichetiereId))).map(L=>u.find(W=>W.id===L)).filter(Boolean)};return a.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:[a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsxs(De,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{children:[a.jsx(Pe,{className:"text-3xl font-bold text-primary",children:"État du Planning Général"}),a.jsx($e,{children:"Visualisez l'état de planification par agence."})]}),a.jsxs(B,{onClick:_,variant:"outline",disabled:!N.length,children:[a.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Exporter (CSV)"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"filter-agence",children:"Agence en charge"}),a.jsx(xe,{id:"filter-agence",placeholder:"Tapez pour filtrer...",value:p,onChange:P=>w(P.target.value)})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"filter-chef",children:"Chef d'Agence"}),a.jsx(xe,{id:"filter-chef",placeholder:"Tapez pour filtrer...",value:g,onChange:P=>b(P.target.value)})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"date-filter",children:"Période"}),a.jsxs(yl,{value:v,onValueChange:y,children:[a.jsx(bi,{id:"date-filter",children:a.jsx(wl,{placeholder:"Choisissez une période"})}),a.jsx(ji,{children:wG.map(P=>a.jsx(Ci,{value:P.value,children:P.label},P.value))})]}),S&&a.jsxs(RP,{children:[a.jsx(DP,{asChild:!0,children:a.jsxs(B,{variant:"outline",className:"w-full mt-2 justify-start text-left",children:[a.jsx(Iu,{className:"mr-2 h-4 w-4"}),D||"Choisir…"]})}),a.jsx(Kv,{className:"w-auto p-0",align:"start",children:a.jsx(hk,{mode:"range",selected:{from:x.start,to:x.end},onSelect:P=>{P!=null&&P.from&&(P!=null&&P.to)&&C({start:P.from,end:P.to})},initialFocus:!0})})]})]})]})]}),a.jsx(ke,{children:t?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Fn,{className:"h-12 w-12 animate-spin text-primary"})}):a.jsxs(Bn,{children:[a.jsxs(lr,{children:["État du planning ",D,p&&` • Agence: "${p}"`,g&&` • Chef: "${g}"`]}),a.jsx(Wn,{children:a.jsxs(tn,{children:[a.jsx(le,{children:"Agence"}),a.jsx(le,{children:"Code PDV"}),a.jsx(le,{children:"Chef"}),a.jsx(le,{className:"text-center",children:"Terminaux"}),a.jsx(le,{className:"text-center",children:"Jours"}),a.jsx(le,{className:"text-center",children:"À planifier"}),a.jsx(le,{className:"text-center",children:"Planifiées"}),a.jsx(le,{className:"text-center",children:"Taux"})]})}),a.jsx(Hn,{children:N.length?N.map((P,j)=>a.jsxs(de.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.05},className:P.rate<90?"bg-red-50 dark:bg-red-900/30":"",children:[a.jsx(ie,{className:"font-medium",children:P.agenceNom}),a.jsx(ie,{children:P.codePDV||"N/A"}),a.jsx(ie,{children:P.chefNom}),a.jsx(ie,{className:"text-center",children:P.nTer}),a.jsx(ie,{className:"text-center",children:P.nJours}),a.jsx(ie,{className:"text-center",children:P.toPlan}),a.jsx(ie,{className:"text-center",children:P.planned}),a.jsxs(ie,{className:`text-center font-semibold ${P.rate>=90?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[P.rate,"%"]})]},P.id||j)):a.jsx(tn,{children:a.jsx(ie,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"Aucune donnée pour ces filtres."})})})]})})]}),a.jsxs(_e,{className:"shadow-xl glassmorphism",children:[a.jsxs(De,{children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs(Pe,{className:"text-2xl font-semibold text-primary flex items-center",children:[a.jsx(Iu,{className:"mr-2 h-6 w-6"}),"Vue Calendrier du Planning"]})}),a.jsxs($e,{children:["Planning du mois de"," ",bt(x.start)?ye(x.start,"MMMM yyyy",{locale:vn}):""]})]}),a.jsx(ke,{className:"overflow-x-auto",children:t?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Fn,{className:"h-12 w-12 animate-spin text-primary"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 text-center font-medium text-muted-foreground mb-2",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(P=>a.jsx("div",{children:P},P))}),a.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[z.map((P,j)=>a.jsx("div",{className:"border rounded-md p-1 min-h-[100px] bg-muted/10"},j)),I.map(P=>{const j=tp(P,{start:x.start,end:x.end}),k=ce("border rounded-md p-1 min-h-[100px] space-y-0.5",j?"bg-background/50 dark:bg-background/30":"bg-muted/20 dark:bg-muted/40 opacity-60");return a.jsxs("div",{className:k,children:[a.jsx("div",{className:`font-semibold text-sm ${dt(P,new Date)?"text-primary font-bold":"text-muted-foreground"}`,children:ye(P,"d")}),j&&a.jsx("div",{className:"space-y-0.5 text-xs max-h-[80px] overflow-y-auto custom-scrollbar-xs",children:r.map(A=>{const L=parseInt(A.nbreTerminaux)||0,W=M(P,A.nom),Y=new Set(W.map(V=>V.guichetiereId)).size;let F="bg-gray-200 dark:bg-gray-700";const G=dt(P,x.start)&&dt(x.start,x.end)&&["today","yesterday"].includes(v);L>0?Y===0?F="bg-red-200 dark:bg-red-800":Y<L?F="bg-yellow-200 dark:bg-yellow-700":F="bg-green-200 dark:bg-green-700":Y>0&&(F="bg-green-200 dark:bg-green-700");const H=G?"ring-2 ring-primary font-bold":"";return a.jsxs("div",{onClick:()=>U(P,A),className:ce("p-0.5 rounded text-[10px] leading-tight cursor-pointer hover:ring-1 hover:ring-primary",F,"text-gray-800 dark:text-gray-100",H),children:[A.nom,": ",Y]},A.id)})})]},P.toString())})]})]})})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:$,children:a.jsxs(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:P=>P.stopPropagation(),className:"bg-card p-6 rounded-lg shadow-xl max-w-md w-full",children:[a.jsxs("h3",{className:"text-xl font-semibold text-primary mb-2",children:["Détails – ",h.agence.nom]}),a.jsx("p",{className:"text-muted-foreground mb-4",children:ye(h.date,"eeee dd MMMM yyyy",{locale:vn})}),(()=>{const P=T(h.date,h.agence.nom);return P.length?a.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar",children:P.map(j=>{var k,A;return a.jsx("li",{className:"p-2 bg-muted/50 rounded-md text-sm",children:a.jsxs("div",{className:"flex items-center",children:[j.photo_url?a.jsx("img",{src:j.photo_url,alt:`${j.prenom}`,className:"h-8 w-8 rounded-full mr-2 object-cover"}):a.jsxs("div",{className:"h-8 w-8 rounded-full mr-2 bg-gray-300 flex items-center justify-center text-xs text-gray-600",children:[(k=j.prenom)==null?void 0:k.charAt(0),(A=j.nom)==null?void 0:A.charAt(0)]}),a.jsxs("span",{children:[j.prenom," ",j.nom," (Mat: ",j.matricule,")"]})]})},j.id)})}):a.jsx("p",{className:"text-muted-foreground",children:"Aucune guichetière planifiée."})})(),a.jsx(B,{onClick:$,variant:"outline",className:"mt-6 w-full",children:"Fermer"})]})})]})},jG=()=>a.jsx(C2,{children:a.jsxs(LD,{children:[a.jsx(RD,{children:a.jsxs(ot,{element:a.jsx(lF,{}),children:[a.jsx(ot,{path:"/",element:a.jsx(cF,{})}),a.jsx(ot,{path:"/pointage",element:a.jsx(nU,{})}),a.jsx(ot,{path:"/maintenance-terminaux",element:a.jsx(LW,{})}),a.jsxs(ot,{path:"/espace-exploitation",element:a.jsx(sU,{}),children:[a.jsx(ot,{index:!0,element:a.jsx(Mf,{to:"guichetieres",replace:!0})}),a.jsx(ot,{path:"agences",element:a.jsx(yU,{})}),a.jsx(ot,{path:"chefs-agence",element:a.jsx(ez,{})}),a.jsx(ot,{path:"guichetieres",element:a.jsx(VB,{})}),a.jsx(ot,{path:"techniciens",element:a.jsx(UB,{})}),a.jsx(ot,{path:"etat-planning-general",element:a.jsx(bG,{})}),a.jsx(ot,{path:"statistiques",element:a.jsx(BB,{})}),a.jsx(ot,{path:"parametres",element:a.jsx(zB,{})})]}),a.jsxs(ot,{path:"/espace-chef-agence",element:a.jsx(HB,{}),children:[a.jsx(ot,{index:!0,element:a.jsx(Mf,{to:"mon-planning",replace:!0})}),a.jsx(ot,{path:"mes-guichetieres",element:a.jsx(FW,{})}),a.jsx(ot,{path:"mon-planning",element:a.jsx(VW,{})})]}),a.jsx(ot,{path:"*",element:a.jsx(Mf,{to:"/",replace:!0})})]})}),a.jsx(gN,{})]})});Ph.createRoot(document.getElementById("root")).render(a.jsx(Z.StrictMode,{children:a.jsx(jG,{})}));export{Sp as g};
